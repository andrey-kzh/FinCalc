"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkFinance"] = self["webpackChunkFinance"] || []).push([[179],{

/***/ "e+/uGl/8":
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

eval("\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(\"k6DiKGfl\");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(\"79Ja/Yn4\");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(\"5hh5IOEF\");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js + 1 modules\nvar possibleConstructorReturn = __webpack_require__(\"pD0dqLC0\");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\nvar getPrototypeOf = __webpack_require__(\"udpn5b0x\");\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tIBJhx\");\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(\"i8i4LrFt\");\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 20 modules\nvar es = __webpack_require__(\"TRpfXtnJ\");\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(\"55IpiCAJ\");\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js + 1 modules\nvar react_router = __webpack_require__(\"4qXz/kfb\");\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js + 1 modules\nvar redux = __webpack_require__(\"qV4xENkU\");\n// EXTERNAL MODULE: ./node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js + 2 modules\nvar redux_saga_core_npm_proxy_esm = __webpack_require__(\"mM01Bdt2\");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"o0o1ebC6\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n// EXTERNAL MODULE: ./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js + 1 modules\nvar redux_saga_effects_npm_proxy_esm = __webpack_require__(\"IihTIhwn\");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"zThLd8G0\");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"/0+J+gjc\");\n;// CONCATENATED MODULE: ./src/utils/tokens.js\nfunction saveTokensToStorage(tokens) {\n  localStorage.setItem('tokens', JSON.stringify(tokens));\n}\nfunction clearTokensFromStorage() {\n  localStorage.removeItem('tokens');\n}\nfunction getRefreshTokenFromStorage() {\n  if (!localStorage.tokens) return null;\n  return JSON.parse(localStorage.tokens).refreshToken;\n}\nfunction getAccessTokenFromStorage() {\n  if (!localStorage.tokens) return null;\n  return JSON.parse(localStorage.tokens).accessToken;\n}\n;// CONCATENATED MODULE: ./src/api/index.js\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,defineProperty/* default */.Z)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n\n\nvar Api = /*#__PURE__*/function () {\n  function Api() {\n    (0,classCallCheck/* default */.Z)(this, Api);\n\n    this.urlRoot = \"\".concat(\"\", \"/api\");\n    this.optionsDefault = {\n      mode: \"cors\"\n    };\n    this.getRefreshTokenFromStorage = getRefreshTokenFromStorage;\n    this.getAccessTokenFromStorage = getAccessTokenFromStorage;\n    this.loginRequest = this.loginRequest.bind(this);\n    this.logoutRequest = this.logoutRequest.bind(this);\n    this.requestWithAccessToken = this.requestWithAccessToken.bind(this);\n    this.refreshTokens = this.refreshTokens.bind(this);\n    this.getAuthDataBySession = this.getAuthDataBySession.bind(this);\n    this.addCategoryRequest = this.addCategoryRequest.bind(this);\n    this.updCategoryRequest = this.updCategoryRequest.bind(this);\n    this.delCategoryRequest = this.delCategoryRequest.bind(this);\n    this.getAllCategorys = this.getAllCategorys.bind(this);\n    this.getAllListsWithCategorys = this.getAllListsWithCategorys.bind(this);\n    this.addListItemRequest = this.addListItemRequest.bind(this);\n    this.updListItemRequest = this.updListItemRequest.bind(this);\n    this.delListItemRequest = this.delListItemRequest.bind(this);\n  }\n\n  (0,createClass/* default */.Z)(Api, [{\n    key: \"requestWithAccessToken\",\n    value: function () {\n      var _requestWithAccessToken = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee(url, options) {\n        var fullUrl, accessToken;\n        return regenerator_default().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                fullUrl = \"\".concat(this.urlRoot).concat(url);\n                accessToken = this.getAccessTokenFromStorage();\n                if (!options.headers) options.headers = {};\n                options.headers = {\n                  'Content-Type': 'application/json'\n                };\n                if (accessToken) options.headers.Authorization = \"Bearer \".concat(accessToken);\n                _context.next = 8;\n                return fetch(fullUrl, _objectSpread(_objectSpread({}, this.optionsDefault), options));\n\n              case 8:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0.message);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 11]]);\n      }));\n\n      function requestWithAccessToken(_x, _x2) {\n        return _requestWithAccessToken.apply(this, arguments);\n      }\n\n      return requestWithAccessToken;\n    }()\n  }, {\n    key: \"refreshTokens\",\n    value: function () {\n      var _refreshTokens = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee2() {\n        var refreshToken, fullUrl, options, response;\n        return regenerator_default().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                refreshToken = this.getRefreshTokenFromStorage();\n                fullUrl = \"\".concat(this.urlRoot, \"/auth/refresh\");\n                options = {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                    refreshToken: refreshToken\n                  }),\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                };\n                _context2.next = 6;\n                return fetch(fullUrl, _objectSpread(_objectSpread({}, this.optionsDefault), options));\n\n              case 6:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0.message);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 10]]);\n      }));\n\n      function refreshTokens() {\n        return _refreshTokens.apply(this, arguments);\n      }\n\n      return refreshTokens;\n    }()\n  }, {\n    key: \"loginRequest\",\n    value: function () {\n      var _loginRequest = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee3(data) {\n        var fullUrl, options, response;\n        return regenerator_default().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                fullUrl = \"\".concat(this.urlRoot, \"/auth/login\");\n                options = {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                    login: data.login,\n                    password: data.pass\n                  }),\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                };\n                _context3.prev = 2;\n                _context3.next = 5;\n                return fetch(fullUrl, _objectSpread(_objectSpread({}, this.optionsDefault), options));\n\n              case 5:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context3.prev = 9;\n                _context3.t0 = _context3[\"catch\"](2);\n                console.log(_context3.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[2, 9]]);\n      }));\n\n      function loginRequest(_x3) {\n        return _loginRequest.apply(this, arguments);\n      }\n\n      return loginRequest;\n    }()\n  }, {\n    key: \"logoutRequest\",\n    value: function () {\n      var _logoutRequest = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee4() {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                url = \"/auth/logout\";\n                options = {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                    refreshToken: this.getRefreshTokenFromStorage()\n                  }),\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                };\n                _context4.prev = 2;\n                _context4.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context4.sent;\n                return _context4.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context4.prev = 9;\n                _context4.t0 = _context4[\"catch\"](2);\n                console.log(_context4.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[2, 9]]);\n      }));\n\n      function logoutRequest() {\n        return _logoutRequest.apply(this, arguments);\n      }\n\n      return logoutRequest;\n    }()\n  }, {\n    key: \"getAuthDataBySession\",\n    value: function () {\n      var _getAuthDataBySession = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee5() {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                url = \"/auth/user\";\n                options = {\n                  method: \"GET\"\n                };\n                _context5.prev = 2;\n                _context5.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context5.sent;\n                return _context5.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context5.prev = 9;\n                _context5.t0 = _context5[\"catch\"](2);\n                console.log(_context5.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[2, 9]]);\n      }));\n\n      function getAuthDataBySession() {\n        return _getAuthDataBySession.apply(this, arguments);\n      }\n\n      return getAuthDataBySession;\n    }()\n  }, {\n    key: \"addCategoryRequest\",\n    value: function () {\n      var _addCategoryRequest = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee6(category) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                url = \"/categorys\";\n                options = {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                    title: category.title,\n                    userId: category.userId,\n                    type: category.type\n                  })\n                };\n                _context6.prev = 2;\n                _context6.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context6.sent;\n                return _context6.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context6.prev = 9;\n                _context6.t0 = _context6[\"catch\"](2);\n                console.log(_context6.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[2, 9]]);\n      }));\n\n      function addCategoryRequest(_x4) {\n        return _addCategoryRequest.apply(this, arguments);\n      }\n\n      return addCategoryRequest;\n    }()\n  }, {\n    key: \"updCategoryRequest\",\n    value: function () {\n      var _updCategoryRequest = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee7(category) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                url = \"/categorys\";\n                options = {\n                  method: \"PUT\",\n                  body: JSON.stringify(category)\n                };\n                _context7.prev = 2;\n                _context7.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context7.sent;\n                return _context7.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context7.prev = 9;\n                _context7.t0 = _context7[\"catch\"](2);\n                console.log(_context7.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[2, 9]]);\n      }));\n\n      function updCategoryRequest(_x5) {\n        return _updCategoryRequest.apply(this, arguments);\n      }\n\n      return updCategoryRequest;\n    }()\n  }, {\n    key: \"updListItemRequest\",\n    value: function () {\n      var _updListItemRequest = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee8(listItem) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                url = \"/lists\";\n                options = {\n                  method: \"PUT\",\n                  body: JSON.stringify(listItem)\n                };\n                _context8.prev = 2;\n                _context8.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context8.sent;\n                return _context8.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context8.prev = 9;\n                _context8.t0 = _context8[\"catch\"](2);\n                console.log(_context8.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[2, 9]]);\n      }));\n\n      function updListItemRequest(_x6) {\n        return _updListItemRequest.apply(this, arguments);\n      }\n\n      return updListItemRequest;\n    }()\n  }, {\n    key: \"delListItemRequest\",\n    value: function () {\n      var _delListItemRequest = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee9(listItem) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                url = \"/lists\";\n                options = {\n                  method: \"DELETE\",\n                  body: JSON.stringify(listItem)\n                };\n                _context9.prev = 2;\n                _context9.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context9.sent;\n                return _context9.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context9.prev = 9;\n                _context9.t0 = _context9[\"catch\"](2);\n                console.log(_context9.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this, [[2, 9]]);\n      }));\n\n      function delListItemRequest(_x7) {\n        return _delListItemRequest.apply(this, arguments);\n      }\n\n      return delListItemRequest;\n    }()\n  }, {\n    key: \"delCategoryRequest\",\n    value: function () {\n      var _delCategoryRequest = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee10(category) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                url = \"/categorys\";\n                options = {\n                  method: \"DELETE\",\n                  body: JSON.stringify(category)\n                };\n                _context10.prev = 2;\n                _context10.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context10.sent;\n                return _context10.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context10.prev = 9;\n                _context10.t0 = _context10[\"catch\"](2);\n                console.log(_context10.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this, [[2, 9]]);\n      }));\n\n      function delCategoryRequest(_x8) {\n        return _delCategoryRequest.apply(this, arguments);\n      }\n\n      return delCategoryRequest;\n    }()\n  }, {\n    key: \"getAllCategorys\",\n    value: function () {\n      var _getAllCategorys = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee11(userId) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                url = \"/categorys?userId=\".concat(userId);\n                options = {\n                  method: \"GET\"\n                };\n                _context11.prev = 2;\n                _context11.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context11.sent;\n                return _context11.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context11.prev = 9;\n                _context11.t0 = _context11[\"catch\"](2);\n                console.log(_context11.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this, [[2, 9]]);\n      }));\n\n      function getAllCategorys(_x9) {\n        return _getAllCategorys.apply(this, arguments);\n      }\n\n      return getAllCategorys;\n    }()\n  }, {\n    key: \"getAllListsWithCategorys\",\n    value: function () {\n      var _getAllListsWithCategorys = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee12(_ref) {\n        var userId, dateMin, dateMax, url, options, response;\n        return regenerator_default().wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                userId = _ref.userId, dateMin = _ref.dateMin, dateMax = _ref.dateMax;\n                url = \"/lists?userId=\".concat(userId, \"&dateMin=\").concat(dateMin, \"&dateMax=\").concat(dateMax);\n                options = {\n                  method: \"GET\"\n                };\n                _context12.prev = 3;\n                _context12.next = 6;\n                return this.requestWithAccessToken(url, options);\n\n              case 6:\n                response = _context12.sent;\n                return _context12.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 10:\n                _context12.prev = 10;\n                _context12.t0 = _context12[\"catch\"](3);\n                console.log(_context12.t0.message);\n\n              case 13:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this, [[3, 10]]);\n      }));\n\n      function getAllListsWithCategorys(_x10) {\n        return _getAllListsWithCategorys.apply(this, arguments);\n      }\n\n      return getAllListsWithCategorys;\n    }()\n  }, {\n    key: \"addListItemRequest\",\n    value: function () {\n      var _addListItemRequest = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee13(listItem) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                url = \"/lists\";\n                options = {\n                  method: \"POST\",\n                  body: JSON.stringify(listItem)\n                };\n                _context13.prev = 2;\n                _context13.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context13.sent;\n                return _context13.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context13.prev = 9;\n                _context13.t0 = _context13[\"catch\"](2);\n                console.log(_context13.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this, [[2, 9]]);\n      }));\n\n      function addListItemRequest(_x11) {\n        return _addListItemRequest.apply(this, arguments);\n      }\n\n      return addListItemRequest;\n    }()\n  }]);\n\n  return Api;\n}();\n\n\n// EXTERNAL MODULE: ./node_modules/normalizr/dist/normalizr.es.js\nvar normalizr_es = __webpack_require__(\"XiPHYwkG\");\n;// CONCATENATED MODULE: ./src/utils/normalize.js\n\nfunction normalizeLists(data) {\n  var category = new normalizr_es/* schema.Entity */.fK.Entity('categorys', {\n    list: [new normalizr_es/* schema.Entity */.fK.Entity('list')]\n  });\n  var listsSchema = {\n    categorys: [category]\n  };\n  return (0,normalizr_es/* normalize */.Fv)(data, listsSchema);\n}\nfunction normalizeCategorys(data) {\n  var category = new normalizr_es/* schema.Entity */.fK.Entity('categorys');\n  var categorySchema = {\n    categorys: [category]\n  };\n  return (0,normalizr_es/* normalize */.Fv)(data, categorySchema);\n}\n;// CONCATENATED MODULE: ./src/store/actions.js\nvar loginRequestAction = function loginRequestAction(data) {\n  return {\n    type: \"LOGIN_REQUEST\",\n    payload: data\n  };\n};\nvar loginUserAction = function loginUserAction(user) {\n  return {\n    type: \"LOGIN_STORE\",\n    payload: user\n  };\n};\nvar logoutUserAction = function logoutUserAction() {\n  return {\n    type: \"LOGOUT_STORE\",\n    payload: {}\n  };\n};\nvar loginErrorAction = function loginErrorAction(error) {\n  return {\n    type: \"LOGIN_ERROR_STORE\",\n    payload: {\n      error: error\n    }\n  };\n};\nvar authRequestAction = function authRequestAction() {\n  return {\n    type: \"AUTH_REQUEST\",\n    payload: {}\n  };\n};\nvar logoutAction = function logoutAction() {\n  return {\n    type: \"LOGOUT_REQUEST\",\n    payload: {}\n  };\n};\nvar refreshTokensAction = function refreshTokensAction(nextAction) {\n  return {\n    type: \"REFRESH_TOKENS_REQUEST\",\n    payload: nextAction\n  };\n};\nvar toggleCategoryAction = function toggleCategoryAction(categoryType) {\n  return {\n    type: \"TOGGLE_CATEGORYS_TYPE_STORE\",\n    payload: {\n      categoryType: categoryType\n    }\n  };\n};\nvar addCategoryAction = function addCategoryAction(category) {\n  return {\n    type: \"ADD_CATEGORY_REQUEST\",\n    payload: category\n  };\n};\nvar updCategoryAction = function updCategoryAction(category) {\n  return {\n    type: \"UPD_ONE_CATEGORY_REQUEST\",\n    payload: {\n      category: category\n    }\n  };\n};\nvar delCategoryAction = function delCategoryAction(category) {\n  return {\n    type: \"DEL_ONE_CATEGORY_REQUEST\",\n    payload: {\n      category: category\n    }\n  };\n};\nvar getAllCategorysAction = function getAllCategorysAction(userId) {\n  return {\n    type: \"GET_CATEGORYS_REQUEST\",\n    payload: {\n      userId: userId\n    }\n  };\n};\nvar getAllListsWithCategorysAction = function getAllListsWithCategorysAction(obj) {\n  return {\n    type: \"GET_LISTS_REQUEST\",\n    payload: {\n      userIdAndDateRange: obj\n    }\n  };\n};\nvar updDataInStoreAction = function updDataInStoreAction(categorys) {\n  return {\n    type: \"UPD_DATA_STORE\",\n    payload: {\n      categorys: categorys\n    }\n  };\n};\nvar addCategoryInStoreAction = function addCategoryInStoreAction(category) {\n  return {\n    type: \"ADD_NEW_CATEGORY_STORE\",\n    payload: {\n      category: category\n    }\n  };\n};\nvar updOneCategoryInStoreAction = function updOneCategoryInStoreAction(category) {\n  return {\n    type: \"UPD_ONE_CATEGORY_STORE\",\n    payload: {\n      category: category\n    }\n  };\n};\nvar updOneListItemInStoreAction = function updOneListItemInStoreAction(listItem) {\n  return {\n    type: \"UPD_ONE_LIST_ITEM_STORE\",\n    payload: {\n      listItem: listItem\n    }\n  };\n};\nvar delOneCategoryInStoreAction = function delOneCategoryInStoreAction(category) {\n  return {\n    type: \"DEL_ONE_CATEGORY_STORE\",\n    payload: {\n      category: category\n    }\n  };\n};\nvar delOneListItemInStoreAction = function delOneListItemInStoreAction(listItem) {\n  return {\n    type: \"DEL_ONE_LIST_ITEM_STORE\",\n    payload: {\n      listItem: listItem\n    }\n  };\n};\nvar addListItemAction = function addListItemAction(listItem) {\n  return {\n    type: \"ADD_LIST_ITEM_REQUEST\",\n    payload: {\n      listItem: listItem\n    }\n  };\n};\nvar updListItemAction = function updListItemAction(listItem) {\n  return {\n    type: \"UPD_ONE_LIST_ITEM_REQUEST\",\n    payload: {\n      listItem: listItem\n    }\n  };\n};\nvar delListItemAction = function delListItemAction(listItem) {\n  return {\n    type: \"DEL_ONE_LIST_ITEM_REQUEST\",\n    payload: {\n      listItem: listItem\n    }\n  };\n};\nvar addListItemInStoreAction = function addListItemInStoreAction(listItem) {\n  return {\n    type: \"ADD_NEW_LIST_ITEM_STORE\",\n    payload: {\n      listItem: listItem\n    }\n  };\n};\n;// CONCATENATED MODULE: ./src/store/sagas.js\n\n\nvar _marked = /*#__PURE__*/regenerator_default().mark(fetchLogin),\n    _marked2 = /*#__PURE__*/regenerator_default().mark(fetchAuth),\n    _marked3 = /*#__PURE__*/regenerator_default().mark(fetchLogout),\n    _marked4 = /*#__PURE__*/regenerator_default().mark(fetchRefreshTokens),\n    _marked5 = /*#__PURE__*/regenerator_default().mark(fetchAddCategory),\n    _marked6 = /*#__PURE__*/regenerator_default().mark(fetchAllCategorys),\n    _marked7 = /*#__PURE__*/regenerator_default().mark(fetchUpdateCategory),\n    _marked8 = /*#__PURE__*/regenerator_default().mark(fetchDeleteCategory),\n    _marked9 = /*#__PURE__*/regenerator_default().mark(fetchAllListsWithCategorys),\n    _marked10 = /*#__PURE__*/regenerator_default().mark(fetchAddListItem),\n    _marked11 = /*#__PURE__*/regenerator_default().mark(fetchUpdateListItem),\n    _marked12 = /*#__PURE__*/regenerator_default().mark(fetchDeleteListItem),\n    _marked13 = /*#__PURE__*/regenerator_default().mark(sagas);\n\n\n\n\n\n\nvar api = new Api();\n\nfunction fetchLogin(action) {\n  var user;\n  return regenerator_default().wrap(function fetchLogin$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.loginRequest, action.payload);\n\n        case 3:\n          user = _context.sent;\n\n          if (user.error) {\n            _context.next = 12;\n            break;\n          }\n\n          if (!user.tokens) {\n            _context.next = 8;\n            break;\n          }\n\n          _context.next = 8;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(saveTokensToStorage, user.tokens);\n\n        case 8:\n          _context.next = 10;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(loginUserAction(user));\n\n        case 10:\n          _context.next = 14;\n          break;\n\n        case 12:\n          _context.next = 14;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(loginErrorAction(user.error));\n\n        case 14:\n          _context.next = 19;\n          break;\n\n        case 16:\n          _context.prev = 16;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(_context.t0.message);\n\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 16]]);\n}\n\nfunction fetchAuth() {\n  var user;\n  return regenerator_default().wrap(function fetchAuth$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.getAuthDataBySession);\n\n        case 3:\n          user = _context2.sent;\n\n          if (user.error) {\n            _context2.next = 9;\n            break;\n          }\n\n          _context2.next = 7;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(loginUserAction(user));\n\n        case 7:\n          _context2.next = 16;\n          break;\n\n        case 9:\n          if (!(user.error.code === 'l03')) {\n            _context2.next = 14;\n            break;\n          }\n\n          _context2.next = 12;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(refreshTokensAction(authRequestAction()));\n\n        case 12:\n          _context2.next = 16;\n          break;\n\n        case 14:\n          _context2.next = 16;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(loginUserAction({\n            userName: null,\n            isLogin: false\n          }));\n\n        case 16:\n          _context2.next = 21;\n          break;\n\n        case 18:\n          _context2.prev = 18;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.log(_context2.t0.message);\n\n        case 21:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[0, 18]]);\n}\n\nfunction fetchLogout() {\n  var response;\n  return regenerator_default().wrap(function fetchLogout$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.logoutRequest);\n\n        case 3:\n          response = _context3.sent;\n\n          if (response.error) {\n            _context3.next = 11;\n            break;\n          }\n\n          _context3.next = 7;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(clearTokensFromStorage);\n\n        case 7:\n          _context3.next = 9;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(logoutUserAction());\n\n        case 9:\n          _context3.next = 12;\n          break;\n\n        case 11:\n          console.log(response.error);\n\n        case 12:\n          _context3.next = 17;\n          break;\n\n        case 14:\n          _context3.prev = 14;\n          _context3.t0 = _context3[\"catch\"](0);\n          console.log(_context3.t0.message);\n\n        case 17:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 14]]);\n}\n\nfunction fetchRefreshTokens(nextAction) {\n  var response;\n  return regenerator_default().wrap(function fetchRefreshTokens$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.refreshTokens);\n\n        case 2:\n          response = _context4.sent;\n\n          if (!response.error) {\n            _context4.next = 8;\n            break;\n          }\n\n          _context4.next = 6;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(loginUserAction({\n            userName: null,\n            isLogin: false\n          }));\n\n        case 6:\n          _context4.next = 12;\n          break;\n\n        case 8:\n          _context4.next = 10;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(saveTokensToStorage, response.tokens);\n\n        case 10:\n          _context4.next = 12;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(nextAction.payload);\n\n        case 12:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction fetchAddCategory(action) {\n  var response;\n  return regenerator_default().wrap(function fetchAddCategory$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.addCategoryRequest, action.payload);\n\n        case 2:\n          response = _context5.sent;\n          _context5.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(addCategoryInStoreAction(response.category));\n\n        case 5:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5);\n}\n\nfunction fetchAllCategorys(action) {\n  var response;\n  return regenerator_default().wrap(function fetchAllCategorys$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.getAllCategorys, action.payload.userId);\n\n        case 2:\n          response = _context6.sent;\n          _context6.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(updDataInStoreAction(normalizeCategorys(response)));\n\n        case 5:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6);\n}\n\nfunction fetchUpdateCategory(action) {\n  var response;\n  return regenerator_default().wrap(function fetchUpdateCategory$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.updCategoryRequest, action.payload.category);\n\n        case 2:\n          response = _context7.sent;\n          _context7.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(updOneCategoryInStoreAction(response.category));\n\n        case 5:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7);\n}\n\nfunction fetchDeleteCategory(action) {\n  var response;\n  return regenerator_default().wrap(function fetchDeleteCategory$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.delCategoryRequest, action.payload.category);\n\n        case 2:\n          response = _context8.sent;\n          _context8.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(delOneCategoryInStoreAction(response.category));\n\n        case 5:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8);\n}\n\nfunction fetchAllListsWithCategorys(action) {\n  var response, data;\n  return regenerator_default().wrap(function fetchAllListsWithCategorys$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.getAllListsWithCategorys, action.payload.userIdAndDateRange);\n\n        case 2:\n          response = _context9.sent;\n          data = normalizeLists(response);\n          _context9.next = 6;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(updDataInStoreAction(data));\n\n        case 6:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked9);\n}\n\nfunction fetchAddListItem(action) {\n  var response;\n  return regenerator_default().wrap(function fetchAddListItem$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.addListItemRequest, action.payload.listItem);\n\n        case 2:\n          response = _context10.sent;\n          _context10.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(addListItemInStoreAction(response.listItem));\n\n        case 5:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, _marked10);\n}\n\nfunction fetchUpdateListItem(action) {\n  var response;\n  return regenerator_default().wrap(function fetchUpdateListItem$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.updListItemRequest, action.payload.listItem);\n\n        case 2:\n          response = _context11.sent;\n          _context11.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(updOneListItemInStoreAction(response.listItem));\n\n        case 5:\n        case \"end\":\n          return _context11.stop();\n      }\n    }\n  }, _marked11);\n}\n\nfunction fetchDeleteListItem(action) {\n  var response;\n  return regenerator_default().wrap(function fetchDeleteListItem$(_context12) {\n    while (1) {\n      switch (_context12.prev = _context12.next) {\n        case 0:\n          _context12.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.delListItemRequest, action.payload.listItem);\n\n        case 2:\n          response = _context12.sent;\n          _context12.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(delOneListItemInStoreAction(response.listItem));\n\n        case 5:\n        case \"end\":\n          return _context12.stop();\n      }\n    }\n  }, _marked12);\n}\n\nfunction sagas() {\n  return regenerator_default().wrap(function sagas$(_context13) {\n    while (1) {\n      switch (_context13.prev = _context13.next) {\n        case 0:\n          _context13.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"LOGIN_REQUEST\", fetchLogin);\n\n        case 2:\n          _context13.next = 4;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"AUTH_REQUEST\", fetchAuth);\n\n        case 4:\n          _context13.next = 6;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"REFRESH_TOKENS_REQUEST\", fetchRefreshTokens);\n\n        case 6:\n          _context13.next = 8;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"LOGOUT_REQUEST\", fetchLogout);\n\n        case 8:\n          _context13.next = 10;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"ADD_CATEGORY_REQUEST\", fetchAddCategory);\n\n        case 10:\n          _context13.next = 12;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"GET_CATEGORYS_REQUEST\", fetchAllCategorys);\n\n        case 12:\n          _context13.next = 14;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"UPD_ONE_CATEGORY_REQUEST\", fetchUpdateCategory);\n\n        case 14:\n          _context13.next = 16;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"GET_LISTS_REQUEST\", fetchAllListsWithCategorys);\n\n        case 16:\n          _context13.next = 18;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"ADD_LIST_ITEM_REQUEST\", fetchAddListItem);\n\n        case 18:\n          _context13.next = 20;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"DEL_ONE_CATEGORY_REQUEST\", fetchDeleteCategory);\n\n        case 20:\n          _context13.next = 22;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"UPD_ONE_LIST_ITEM_REQUEST\", fetchUpdateListItem);\n\n        case 22:\n          _context13.next = 24;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"DEL_ONE_LIST_ITEM_REQUEST\", fetchDeleteListItem);\n\n        case 24:\n        case \"end\":\n          return _context13.stop();\n      }\n    }\n  }, _marked13);\n}\n\n/* harmony default export */ const store_sagas = (sagas);\n// EXTERNAL MODULE: ./node_modules/ramda/es/clone.js + 5 modules\nvar clone = __webpack_require__(\"Wjd+fjFr\");\n;// CONCATENATED MODULE: ./src/store/reducers.js\n\n\nfunction returnStateReducer() {\n  var prevState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  return prevState;\n}\nfunction userReducer() {\n  var prevState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"LOGIN_STORE\":\n      {\n        return {\n          id: action.payload.id,\n          name: action.payload.userName,\n          isLogin: action.payload.isLogin\n        };\n      }\n\n    case \"LOGOUT_STORE\":\n      {\n        return {\n          id: null,\n          name: null,\n          isLogin: false,\n          loginErrorMes: null\n        };\n      }\n\n    case \"LOGIN_ERROR_STORE\":\n      {\n        return {\n          loginErrorMes: action.payload.error.mes\n        };\n      }\n  }\n\n  return prevState;\n}\nfunction toogleCategoryReducer() {\n  var prevState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"TOGGLE_CATEGORYS_TYPE_STORE\":\n      {\n        return action.payload.categoryType;\n      }\n  }\n\n  return prevState;\n}\nfunction dataReducer() {\n  var prevState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"UPD_DATA_STORE\":\n      {\n        return action.payload.categorys;\n      }\n\n    case \"ADD_NEW_CATEGORY_STORE\":\n      {\n        var data = (0,clone/* default */.Z)(prevState);\n        if (!data.entities.categorys) data.entities.categorys = {};\n        data.entities.categorys[action.payload.category.id] = action.payload.category;\n        data.result.categorys.push(action.payload.category.id);\n        return data;\n      }\n\n    case \"ADD_NEW_LIST_ITEM_STORE\":\n      {\n        var _data = (0,clone/* default */.Z)(prevState);\n\n        if (!_data.entities.list) _data.entities.list = {};\n        _data.entities.list[action.payload.listItem.id] = action.payload.listItem;\n\n        _data.entities.categorys[action.payload.listItem.categoryId].list.unshift(action.payload.listItem.id);\n\n        _data.entities.categorys[action.payload.listItem.categoryId].totalSum += action.payload.listItem.sum;\n        return _data;\n      }\n\n    case \"UPD_ONE_CATEGORY_STORE\":\n      {\n        var _data2 = (0,clone/* default */.Z)(prevState);\n\n        _data2.entities.categorys[action.payload.category.id] = action.payload.category;\n        return _data2;\n      }\n\n    case \"UPD_ONE_LIST_ITEM_STORE\":\n      {\n        var _data3 = (0,clone/* default */.Z)(prevState);\n\n        var listItem = action.payload.listItem;\n        var prevSum = prevState.entities.list[listItem.id].sum;\n        _data3.entities.list[listItem.id] = listItem;\n        _data3.entities.categorys[listItem.categoryId].totalSum -= prevSum;\n        _data3.entities.categorys[listItem.categoryId].totalSum += listItem.sum;\n        return _data3;\n      }\n\n    case \"DEL_ONE_CATEGORY_STORE\":\n      {\n        var _data4 = (0,clone/* default */.Z)(prevState);\n\n        delete _data4.entities.categorys[action.payload.category.id];\n        _data4.result.categorys = _data4.result.categorys.filter(function (categoryId) {\n          return categoryId !== action.payload.category.id;\n        });\n        return _data4;\n      }\n\n    case \"DEL_ONE_LIST_ITEM_STORE\":\n      {\n        var _data5 = (0,clone/* default */.Z)(prevState);\n\n        var _listItem = action.payload.listItem;\n\n        var newListArr = _data5.entities.categorys[_listItem.categoryId].list.filter(function (listId) {\n          return listId !== _listItem.id;\n        });\n\n        _data5.entities.categorys[_listItem.categoryId].list = newListArr;\n        _data5.entities.categorys[_listItem.categoryId].totalSum -= _listItem.sum;\n        delete _data5.entities.list[_listItem.id];\n        return _data5;\n      }\n  }\n\n  return prevState;\n}\n;// CONCATENATED MODULE: ./src/store/index.js\n\n\n\n\nvar sagaMiddleware = (0,redux_saga_core_npm_proxy_esm/* default */.ZP)();\nvar initialState = {\n  user: {\n    id: null,\n    name: null,\n    isLogin: null,\n    loginErrorMes: null\n  },\n  toggleCategory: 'expense',\n  menu: [{\n    title: 'Этот месяц',\n    link: 'month'\n  }, {\n    title: 'Прошлый месяц',\n    link: 'last-month'\n  }, {\n    title: 'Шесть месяцев',\n    link: 'half-year'\n  }, {\n    title: 'Этот год',\n    link: 'year'\n  }],\n  data: null\n};\nvar reducer = (0,redux/* combineReducers */.UY)({\n  user: userReducer,\n  menu: returnStateReducer,\n  data: dataReducer,\n  toggleCategory: toogleCategoryReducer\n});\nvar store = (0,redux/* createStore */.MT)(reducer, initialState, (0,redux/* applyMiddleware */.md)(sagaMiddleware));\nsagaMiddleware.run(store_sagas);\n;// CONCATENATED MODULE: ./src/components/MenuItem/component.js\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar MenuItem = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(MenuItem, _React$PureComponent);\n\n  var _super = _createSuper(MenuItem);\n\n  function MenuItem(props) {\n    (0,classCallCheck/* default */.Z)(this, MenuItem);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(MenuItem, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"li\", null, /*#__PURE__*/react.createElement(\"a\", {\n        href: \"/\".concat(this.props.link),\n        className: \"button button_period\"\n      }, this.props.title));\n    }\n  }]);\n\n  return MenuItem;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/MenuItem/index.js\n\n/* harmony default export */ const components_MenuItem = (MenuItem);\n;// CONCATENATED MODULE: ./src/components/Menu/component.js\n\n\n\n\n\n\nfunction component_createSuper(Derived) { var hasNativeReflectConstruct = component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar MenuComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(MenuComponent, _React$PureComponent);\n\n  var _super = component_createSuper(MenuComponent);\n\n  function MenuComponent(props) {\n    (0,classCallCheck/* default */.Z)(this, MenuComponent);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(MenuComponent, [{\n    key: \"renderItems\",\n    value: function renderItems() {\n      return this.props.menu.map(function (menuItem, i) {\n        return /*#__PURE__*/react.createElement(components_MenuItem, {\n          key: i,\n          title: menuItem.title,\n          link: menuItem.link\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"nav\", null, /*#__PURE__*/react.createElement(\"ul\", {\n        className: \"menu\"\n      }, this.renderItems()));\n    }\n  }]);\n\n  return MenuComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/Menu/container.js\n\n\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    menu: state.menu\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\n\nvar Menu = (0,es/* connect */.$j)(mapStateToProps, mapDispatchToProps)(MenuComponent);\n;// CONCATENATED MODULE: ./src/components/Menu/index.js\n\n/* harmony default export */ const components_Menu = (Menu);\n;// CONCATENATED MODULE: ./src/components/UserLogoutLink/component.js\n\n\n\n\n\n\nfunction UserLogoutLink_component_createSuper(Derived) { var hasNativeReflectConstruct = UserLogoutLink_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction UserLogoutLink_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar UserLogoutLinkComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(UserLogoutLinkComponent, _React$PureComponent);\n\n  var _super = UserLogoutLink_component_createSuper(UserLogoutLinkComponent);\n\n  function UserLogoutLinkComponent(props) {\n    (0,classCallCheck/* default */.Z)(this, UserLogoutLinkComponent);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(UserLogoutLinkComponent, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", {\n        className: \"user\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"user-name\"\n      }, this.props.userName), /*#__PURE__*/react.createElement(\"button\", {\n        onClick: this.props.logout,\n        className: \"user-logout\"\n      }, \"\\u0412\\u044B\\u0445\\u043E\\u0434\"));\n    }\n  }]);\n\n  return UserLogoutLinkComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/UserLogoutLink/container.js\n\n\n\n\n\nvar container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    userName: state.user.name\n  };\n};\n\nvar container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    logout: function logout() {\n      return dispatch(logoutAction());\n    }\n  };\n};\n\nvar UserLogoutLink = (0,es/* connect */.$j)(container_mapStateToProps, container_mapDispatchToProps)(UserLogoutLinkComponent);\n;// CONCATENATED MODULE: ./src/components/UserLogoutLink/index.js\n\n/* harmony default export */ const components_UserLogoutLink = (UserLogoutLink);\n;// CONCATENATED MODULE: ./src/components/SetupLink/component.js\n\n\nfunction SetupLink() {\n  return /*#__PURE__*/react.createElement(\"a\", {\n    href: \"/setup/\",\n    className: \"button-setup\"\n  }, \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\");\n}\n;// CONCATENATED MODULE: ./src/components/SetupLink/index.js\n\n/* harmony default export */ const components_SetupLink = (SetupLink);\n;// CONCATENATED MODULE: ./src/pages/header/index.js\n\n\n\n\n\n\nfunction header_createSuper(Derived) { var hasNativeReflectConstruct = header_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction header_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar Header = /*#__PURE__*/function (_React$Component) {\n  (0,inherits/* default */.Z)(Header, _React$Component);\n\n  var _super = header_createSuper(Header);\n\n  function Header() {\n    (0,classCallCheck/* default */.Z)(this, Header);\n\n    return _super.apply(this, arguments);\n  }\n\n  (0,createClass/* default */.Z)(Header, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"header\", {\n        className: \"top\"\n      }, /*#__PURE__*/react.createElement(components_Menu, null), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"menu-setup\"\n      }, /*#__PURE__*/react.createElement(components_SetupLink, null), /*#__PURE__*/react.createElement(components_UserLogoutLink, null)));\n    }\n  }]);\n\n  return Header;\n}(react.Component);\n\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(\"Lr5LO5KJ\");\n;// CONCATENATED MODULE: ./src/components/ChartsItem/component.js\n\n\n\n\n\n\n\n\nfunction ChartsItem_component_createSuper(Derived) { var hasNativeReflectConstruct = ChartsItem_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction ChartsItem_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar ChartsItem = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(ChartsItem, _React$PureComponent);\n\n  var _super = ChartsItem_component_createSuper(ChartsItem);\n\n  function ChartsItem(props) {\n    var _this;\n\n    (0,classCallCheck/* default */.Z)(this, ChartsItem);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      chartStyleName: \"width\"\n    };\n    _this.updateChartDimension = _this.updateChartDimension.bind((0,assertThisInitialized/* default */.Z)(_this));\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(ChartsItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateChartDimension();\n      window.addEventListener(\"resize\", this.updateChartDimension);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"resize\", this.updateChartDimension);\n    }\n  }, {\n    key: \"updateChartDimension\",\n    value: function updateChartDimension() {\n      if (window.innerWidth <= 480) {\n        this.setState({\n          chartStyleName: \"height\"\n        });\n      } else {\n        this.setState({\n          chartStyleName: \"width\"\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", {\n        className: \"chart\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        style: (0,defineProperty/* default */.Z)({}, this.state.chartStyleName, \"\".concat(this.props.persent, \"%\")),\n        className: \"chart-line chart-line_\".concat(this.props.type)\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"chart-txt\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"chart-txt_title\"\n      }, this.props.title), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"chart-txt_val\"\n      }, this.props.sum, \" \\u20BD\")));\n    }\n  }]);\n\n  return ChartsItem;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/ChartsItem/index.js\n\n/* harmony default export */ const components_ChartsItem = (ChartsItem);\n;// CONCATENATED MODULE: ./src/components/Charts/component.js\n\n\n\n\n\n\nfunction Charts_component_createSuper(Derived) { var hasNativeReflectConstruct = Charts_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction Charts_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar ChartsComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(ChartsComponent, _React$PureComponent);\n\n  var _super = Charts_component_createSuper(ChartsComponent);\n\n  function ChartsComponent(props) {\n    (0,classCallCheck/* default */.Z)(this, ChartsComponent);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(ChartsComponent, [{\n    key: \"renderItems\",\n    value: function renderItems() {\n      return this.props.charts.map(function (chartsItem, i) {\n        return /*#__PURE__*/react.createElement(components_ChartsItem, {\n          key: i,\n          title: chartsItem.title,\n          sum: chartsItem.sum,\n          persent: chartsItem.persent,\n          type: chartsItem.type\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if ('charts' in this.props) {\n        return /*#__PURE__*/react.createElement(\"div\", {\n          className: \"charts\"\n        }, this.renderItems());\n      }\n\n      return [];\n    }\n  }]);\n\n  return ChartsComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/utils/calcCharts.js\nfunction calcCharts(data) {\n  var income = 0;\n  var expense = 0;\n  data.result.categorys.map(function (categoryId) {\n    if (data.entities.categorys[categoryId].type === \"income\") {\n      income += data.entities.categorys[categoryId].totalSum;\n    } else {\n      expense += data.entities.categorys[categoryId].totalSum;\n    }\n  });\n  var persents = calcChartsPersents(income, expense);\n  return [{\n    title: \"\\u0414\\u043E\\u0445\\u043E\\u0434\",\n    type: \"income\",\n    sum: income,\n    persent: persents.incomePersents\n  }, {\n    title: \"\\u0420\\u0430\\u0441\\u0445\\u043E\\u0434\",\n    type: \"expense\",\n    sum: expense,\n    persent: persents.expensePersents\n  }, {\n    title: \"\\u041D\\u0430\\u043A\\u043E\\u043F\\u043B\\u0435\\u043D\\u0438\\u044F\",\n    type: \"savings\",\n    sum: income - expense,\n    persent: persents.savingsPersents\n  }];\n}\nfunction calcChartsPersents(income, expense) {\n  var onePersent = 0;\n  if (income !== 0 && expense !== 0) onePersent = income > expense ? 100 / income : 100 / expense;\n  var incomePersents = Math.ceil(income > expense ? 100 : income * onePersent);\n  var expensePersents = Math.ceil(income < expense ? 100 : expense * onePersent);\n  var savingsPersents = Math.ceil((income - expense) * onePersent);\n  if (incomePersents < 1) incomePersents = 1;\n  if (expensePersents < 1) expensePersents = 1;\n  if (savingsPersents < 1) savingsPersents = 1;\n  return {\n    incomePersents: incomePersents,\n    expensePersents: expensePersents,\n    savingsPersents: savingsPersents\n  };\n}\n;// CONCATENATED MODULE: ./src/components/Charts/container.js\n\n\n\n\n\nvar Charts_container_mapStateToProps = function mapStateToProps(state) {\n  if (state.data === null) return {};\n  return {\n    charts: calcCharts(state.data)\n  };\n};\n\nvar Charts = (0,es/* connect */.$j)(Charts_container_mapStateToProps)(ChartsComponent);\n;// CONCATENATED MODULE: ./src/components/Charts/index.js\n\n/* harmony default export */ const components_Charts = (Charts);\n;// CONCATENATED MODULE: ./src/components/PlusButton/component.js\n\n\n\n\n\n\nfunction PlusButton_component_createSuper(Derived) { var hasNativeReflectConstruct = PlusButton_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction PlusButton_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar PlusButton = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(PlusButton, _React$PureComponent);\n\n  var _super = PlusButton_component_createSuper(PlusButton);\n\n  function PlusButton(props) {\n    (0,classCallCheck/* default */.Z)(this, PlusButton);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(PlusButton, [{\n    key: \"returnClassName\",\n    value: function returnClassName() {\n      if (this.props.isOpen) {\n        return 'minus';\n      }\n\n      return 'plus';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"button\", {\n        onClick: this.props.toggleCallback,\n        className: this.returnClassName()\n      });\n    }\n  }]);\n\n  return PlusButton;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/PlusButton/index.js\n\n/* harmony default export */ const components_PlusButton = (PlusButton);\n;// CONCATENATED MODULE: ./src/components/SubmitButton/component.js\n\n\n\n\n\n\nfunction SubmitButton_component_createSuper(Derived) { var hasNativeReflectConstruct = SubmitButton_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction SubmitButton_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar SubmitButton = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(SubmitButton, _React$PureComponent);\n\n  var _super = SubmitButton_component_createSuper(SubmitButton);\n\n  function SubmitButton(props) {\n    (0,classCallCheck/* default */.Z)(this, SubmitButton);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(SubmitButton, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"button\", {\n        className: \"button \".concat(this.props.className),\n        onClick: this.props.callback\n      }, this.props.children);\n    }\n  }]);\n\n  return SubmitButton;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/SubmitButton/index.js\n\n/* harmony default export */ const components_SubmitButton = (SubmitButton);\n;// CONCATENATED MODULE: ./src/components/AddForm/component.js\n\n\n\n\n\n\n\nfunction component_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction component_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? component_ownKeys(Object(source), !0).forEach(function (key) { (0,defineProperty/* default */.Z)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : component_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction AddForm_component_createSuper(Derived) { var hasNativeReflectConstruct = AddForm_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction AddForm_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar AddFormComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(AddFormComponent, _React$PureComponent);\n\n  var _super = AddForm_component_createSuper(AddFormComponent);\n\n  function AddFormComponent(props) {\n    var _this;\n\n    (0,classCallCheck/* default */.Z)(this, AddFormComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      sum: '',\n      title: ''\n    };\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(AddFormComponent, [{\n    key: \"handleChange\",\n    value: function handleChange(e, val) {\n      var fieldValue = val === \"sum\" ? e.target.value.replace(/\\D/, '') : e.target.value;\n      this.setState((0,defineProperty/* default */.Z)({}, val, fieldValue));\n    }\n  }, {\n    key: \"checkAndAddListItem\",\n    value: function checkAndAddListItem() {\n      if (this.state.sum && this.state.title) {\n        this.props.addListItem(component_objectSpread(component_objectSpread({}, {\n          categoryId: this.props.categoryId\n        }), this.state));\n        this.setState({\n          sum: '',\n          title: ''\n        });\n        this.props.toggleCallback();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.props.isOpen === true) {\n        return /*#__PURE__*/react.createElement(\"div\", {\n          className: \"add-form\"\n        }, /*#__PURE__*/react.createElement(\"input\", {\n          value: this.state.sum,\n          onChange: function onChange(e) {\n            return _this2.handleChange(e, 'sum');\n          },\n          placeholder: \"\\u0421\\u0443\\u043C\\u043C\\u0430\",\n          type: \"text\",\n          className: \"add-form__sum\"\n        }), /*#__PURE__*/react.createElement(\"textarea\", {\n          value: this.state.comment,\n          onChange: function onChange(e) {\n            return _this2.handleChange(e, 'title');\n          },\n          placeholder: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n          className: \"add-form__txt\"\n        }), /*#__PURE__*/react.createElement(components_SubmitButton, {\n          className: 'button_add-form',\n          callback: function callback() {\n            return _this2.checkAndAddListItem();\n          }\n        }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"));\n      }\n\n      return null;\n    }\n  }]);\n\n  return AddFormComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/AddForm/container.js\n\n\n\n\n\nvar AddForm_container_mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar AddForm_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addListItem: function addListItem(listItem) {\n      return dispatch(addListItemAction(listItem));\n    }\n  };\n};\n\nvar AddForm = (0,es/* connect */.$j)(AddForm_container_mapStateToProps, AddForm_container_mapDispatchToProps)(AddFormComponent);\n;// CONCATENATED MODULE: ./src/components/AddForm/index.js\n\n/* harmony default export */ const components_AddForm = (AddForm);\n;// CONCATENATED MODULE: ./src/components/ModalWindow/component.js\n\n\n\n\n\n\nfunction ModalWindow_component_createSuper(Derived) { var hasNativeReflectConstruct = ModalWindow_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction ModalWindow_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar ModalWindowComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(ModalWindowComponent, _React$PureComponent);\n\n  var _super = ModalWindow_component_createSuper(ModalWindowComponent);\n\n  function ModalWindowComponent(props) {\n    (0,classCallCheck/* default */.Z)(this, ModalWindowComponent);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(ModalWindowComponent, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", {\n        className: \"modal-window-container\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"modal-window\"\n      }, this.props.children));\n    }\n  }]);\n\n  return ModalWindowComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/ModalWindow/container.js\n\n\n\n\nvar ModalWindow_container_mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar ModalWindow_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\n\nvar ModalWindow = (0,es/* connect */.$j)(ModalWindow_container_mapStateToProps, ModalWindow_container_mapDispatchToProps)(ModalWindowComponent);\n;// CONCATENATED MODULE: ./src/components/ModalWindow/index.js\n\n/* harmony default export */ const components_ModalWindow = (ModalWindow);\n;// CONCATENATED MODULE: ./src/components/CloseWindowButton/component.js\n\n\n\n\n\n\nfunction CloseWindowButton_component_createSuper(Derived) { var hasNativeReflectConstruct = CloseWindowButton_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction CloseWindowButton_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar CloseWindowButton = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(CloseWindowButton, _React$PureComponent);\n\n  var _super = CloseWindowButton_component_createSuper(CloseWindowButton);\n\n  function CloseWindowButton(props) {\n    (0,classCallCheck/* default */.Z)(this, CloseWindowButton);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(CloseWindowButton, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", {\n        className: \"close-window-container\"\n      }, /*#__PURE__*/react.createElement(\"button\", {\n        onClick: this.props.closeCallback,\n        className: \"close-window\"\n      }));\n    }\n  }]);\n\n  return CloseWindowButton;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/CloseWindowButton/index.js\n\n/* harmony default export */ const components_CloseWindowButton = (CloseWindowButton);\n;// CONCATENATED MODULE: ./src/components/ConfirmDeleteWindow/component.js\n\n\n\n\n\n\nfunction ConfirmDeleteWindow_component_createSuper(Derived) { var hasNativeReflectConstruct = ConfirmDeleteWindow_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction ConfirmDeleteWindow_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar ConfirmDeleteWindow = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(ConfirmDeleteWindow, _React$PureComponent);\n\n  var _super = ConfirmDeleteWindow_component_createSuper(ConfirmDeleteWindow);\n\n  function ConfirmDeleteWindow(props) {\n    (0,classCallCheck/* default */.Z)(this, ConfirmDeleteWindow);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(ConfirmDeleteWindow, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(components_ModalWindow, null, /*#__PURE__*/react.createElement(\"div\", null, /*#__PURE__*/react.createElement(components_CloseWindowButton, {\n        closeCallback: this.props.cancelCallback\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"delete-window-text\"\n      }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \", this.props.title, \"?\"), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"modal-window__buttons\"\n      }, /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: this.props.deleteCallback,\n        className: \"button_modal-window\"\n      }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"), /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: this.props.cancelCallback,\n        className: \"button_modal-window\"\n      }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"))));\n    }\n  }]);\n\n  return ConfirmDeleteWindow;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/ConfirmDeleteWindow/index.js\n\n/* harmony default export */ const components_ConfirmDeleteWindow = (ConfirmDeleteWindow);\n;// CONCATENATED MODULE: ./src/utils/formatListDate.js\nfunction formatDate(dateString) {\n  var dateArr = dateString.slice(0, 10).split('-');\n  return \"\".concat(dateArr[2], \"-\").concat(dateArr[1], \"-\").concat(dateArr[0]);\n}\n;// CONCATENATED MODULE: ./src/components/ListItem/component.js\n\n\n\n\n\n\n\n\nfunction ListItem_component_createSuper(Derived) { var hasNativeReflectConstruct = ListItem_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction ListItem_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\nvar ListItemComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(ListItemComponent, _React$PureComponent);\n\n  var _super = ListItem_component_createSuper(ListItemComponent);\n\n  function ListItemComponent(props) {\n    var _this;\n\n    (0,classCallCheck/* default */.Z)(this, ListItemComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      isOpenEditWindow: false,\n      isOpenConfirmDelete: false,\n      title: _this.props.title,\n      sum: _this.props.sum\n    };\n    _this.openEditWindow = _this.openEditWindow.bind((0,assertThisInitialized/* default */.Z)(_this));\n    _this.closeWindows = _this.closeWindows.bind((0,assertThisInitialized/* default */.Z)(_this));\n    _this.openConfirmDeleteWindow = _this.openConfirmDeleteWindow.bind((0,assertThisInitialized/* default */.Z)(_this));\n    _this.saveListItem = _this.saveListItem.bind((0,assertThisInitialized/* default */.Z)(_this));\n    _this.deleteListItem = _this.deleteListItem.bind((0,assertThisInitialized/* default */.Z)(_this));\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(ListItemComponent, [{\n    key: \"handleChange\",\n    value: function handleChange(e, val) {\n      var fieldValue = val === \"sum\" ? e.target.value.replace(/\\D/, '') : e.target.value;\n      this.setState((0,defineProperty/* default */.Z)({}, val, fieldValue));\n    }\n  }, {\n    key: \"openEditWindow\",\n    value: function openEditWindow() {\n      this.setState({\n        isOpenEditWindow: true,\n        isOpenConfirmDelete: false\n      });\n    }\n  }, {\n    key: \"openConfirmDeleteWindow\",\n    value: function openConfirmDeleteWindow() {\n      this.setState({\n        isOpenEditWindow: false,\n        isOpenConfirmDelete: true\n      });\n    }\n  }, {\n    key: \"closeWindows\",\n    value: function closeWindows() {\n      this.setState({\n        isOpenEditWindow: false,\n        isOpenConfirmDelete: false\n      });\n    }\n  }, {\n    key: \"saveListItem\",\n    value: function saveListItem() {\n      this.props.updListItem({\n        id: this.props.id,\n        title: this.state.title,\n        sum: this.state.sum\n      });\n      this.closeWindows();\n    }\n  }, {\n    key: \"deleteListItem\",\n    value: function deleteListItem() {\n      this.props.delListItem({\n        id: this.props.id,\n        sum: this.props.sum\n      });\n      this.closeWindows();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return [/*#__PURE__*/react.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.openEditWindow();\n        },\n        key: this.props.id,\n        className: \"category-item\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-item__txt\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-item__date\"\n      }, formatDate(this.props.date)), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-item__descr\"\n      }, this.props.title)), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-item__sum\"\n      }, this.props.sum, \" \\u20BD\")), this.state.isOpenEditWindow && /*#__PURE__*/react.createElement(components_ModalWindow, {\n        key: \"ew\".concat(this.props.id)\n      }, /*#__PURE__*/react.createElement(\"div\", null, /*#__PURE__*/react.createElement(components_CloseWindowButton, {\n        closeCallback: this.closeWindows\n      }), /*#__PURE__*/react.createElement(\"input\", {\n        value: this.state.sum,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'sum');\n        },\n        placeholder: \"\\u0421\\u0443\\u043C\\u043C\\u0430\",\n        type: \"text\",\n        className: \"add-form__sum\"\n      }), /*#__PURE__*/react.createElement(\"textarea\", {\n        value: this.state.title,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'title');\n        },\n        placeholder: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n        className: \"add-form__txt\"\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"modal-window__buttons\"\n      }, /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this2.saveListItem();\n        },\n        className: \"button_modal-window\"\n      }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"), /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this2.openConfirmDeleteWindow();\n        },\n        className: \"button_modal-window\"\n      }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")))), this.state.isOpenConfirmDelete && /*#__PURE__*/react.createElement(components_ConfirmDeleteWindow, {\n        key: \"dw\".concat(this.props.id),\n        cancelCallback: function cancelCallback() {\n          return _this2.closeWindows();\n        },\n        deleteCallback: function deleteCallback() {\n          return _this2.deleteListItem();\n        },\n        title: this.props.title\n      })];\n    }\n  }]);\n\n  return ListItemComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/ListItem/container.js\n\n\n\n\n\nvar ListItem_container_mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar ListItem_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updListItem: function updListItem(listItem) {\n      return dispatch(updListItemAction(listItem));\n    },\n    delListItem: function delListItem(listItem) {\n      return dispatch(delListItemAction(listItem));\n    }\n  };\n};\n\nvar ListItem = (0,es/* connect */.$j)(ListItem_container_mapStateToProps, ListItem_container_mapDispatchToProps)(ListItemComponent);\n;// CONCATENATED MODULE: ./src/components/ListItem/index.js\n\n/* harmony default export */ const components_ListItem = (ListItem);\n;// CONCATENATED MODULE: ./src/components/List/component.js\n\n\n\n\n\n\nfunction List_component_createSuper(Derived) { var hasNativeReflectConstruct = List_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction List_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar ListComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(ListComponent, _React$PureComponent);\n\n  var _super = List_component_createSuper(ListComponent);\n\n  function ListComponent(props) {\n    (0,classCallCheck/* default */.Z)(this, ListComponent);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(ListComponent, [{\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this = this;\n\n      if (this.props.listIdArr.length > 0) {\n        return this.props.listIdArr.map(function (listItemId) {\n          var listItem = _this.props.list[listItemId];\n          return /*#__PURE__*/react.createElement(components_ListItem, {\n            id: listItem.id,\n            date: listItem.date,\n            key: listItem.id,\n            title: listItem.title,\n            sum: listItem.sum\n          });\n        });\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.isOpen === true) {\n        return /*#__PURE__*/react.createElement(\"div\", {\n          className: \"category-list\"\n        }, this.renderItems());\n      }\n\n      return null;\n    }\n  }]);\n\n  return ListComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/List/container.js\n\n\n\n\nvar List_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    list: state.data.entities.list\n  };\n};\n\nvar List_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\n\nvar List = (0,es/* connect */.$j)(List_container_mapStateToProps, List_container_mapDispatchToProps)(ListComponent);\n;// CONCATENATED MODULE: ./src/components/List/index.js\n\n/* harmony default export */ const components_List = (List);\n;// CONCATENATED MODULE: ./src/components/CategoryItem/component.js\n\n\n\n\n\n\nfunction CategoryItem_component_createSuper(Derived) { var hasNativeReflectConstruct = CategoryItem_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction CategoryItem_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar CategoryItem = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(CategoryItem, _React$PureComponent);\n\n  var _super = CategoryItem_component_createSuper(CategoryItem);\n\n  function CategoryItem(props) {\n    var _this;\n\n    (0,classCallCheck/* default */.Z)(this, CategoryItem);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      isOpenList: false,\n      isOpenForm: false\n    };\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(CategoryItem, [{\n    key: \"toggleList\",\n    value: function toggleList() {\n      this.setState({\n        isOpenList: !this.state.isOpenList\n      });\n    }\n  }, {\n    key: \"toggleForm\",\n    value: function toggleForm() {\n      this.setState({\n        isOpenForm: !this.state.isOpenForm\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category__header\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.toggleList();\n        },\n        className: \"category-txt \".concat(this.state.isOpenList ? \"category-txt_rotate90\" : \"category-txt_rotate0\")\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-txt__title\"\n      }, this.props.title), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-txt__sum\"\n      }, this.props.sum > 0 ? this.props.sum : 0, \" \\u20BD\")), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"add-button\"\n      }, /*#__PURE__*/react.createElement(components_PlusButton, {\n        isOpen: this.state.isOpenForm,\n        toggleCallback: function toggleCallback() {\n          return _this2.toggleForm();\n        }\n      }))), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-content\"\n      }, /*#__PURE__*/react.createElement(components_AddForm, {\n        categoryType: this.props.type,\n        categoryId: this.props.id,\n        isOpen: this.state.isOpenForm,\n        toggleCallback: function toggleCallback() {\n          return _this2.toggleForm();\n        }\n      }), /*#__PURE__*/react.createElement(components_List, {\n        listIdArr: this.props.listIdArr,\n        isOpen: this.state.isOpenList\n      })));\n    }\n  }]);\n\n  return CategoryItem;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/CategoryItem/index.js\n\n/* harmony default export */ const components_CategoryItem = (CategoryItem);\n;// CONCATENATED MODULE: ./src/components/Category/component.js\n\n\n\n\n\n\nfunction Category_component_createSuper(Derived) { var hasNativeReflectConstruct = Category_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction Category_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar CategoryComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(CategoryComponent, _React$PureComponent);\n\n  var _super = Category_component_createSuper(CategoryComponent);\n\n  function CategoryComponent(props) {\n    (0,classCallCheck/* default */.Z)(this, CategoryComponent);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(CategoryComponent, [{\n    key: \"returnClassName\",\n    value: function returnClassName() {\n      if (this.props.type !== this.props.toggleCategory) {\n        return 'details__block_hide';\n      }\n\n      return '';\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this = this;\n\n      return this.props.categorysIdArr.map(function (categoryId) {\n        var category = _this.props.categorys[categoryId];\n\n        if (category.type === _this.props.type) {\n          return /*#__PURE__*/react.createElement(components_CategoryItem, {\n            key: category.id,\n            id: category.id,\n            title: category.title,\n            type: category.type,\n            sum: category.totalSum,\n            listIdArr: category.list\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if ('categorys' in this.props) {\n        return /*#__PURE__*/react.createElement(\"div\", {\n          className: \"details__block \".concat(this.returnClassName())\n        }, this.renderItems());\n      }\n\n      return [];\n    }\n  }]);\n\n  return CategoryComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/Category/container.js\n\n\n\n\nvar Category_container_mapStateToProps = function mapStateToProps(state) {\n  if (state.data === null) return {};\n  return {\n    categorys: state.data.entities.categorys,\n    categorysIdArr: state.data.result.categorys,\n    toggleCategory: state.toggleCategory\n  };\n};\n\nvar Category_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\n\nvar Category = (0,es/* connect */.$j)(Category_container_mapStateToProps, Category_container_mapDispatchToProps)(CategoryComponent);\n;// CONCATENATED MODULE: ./src/components/Category/index.js\n\n/* harmony default export */ const components_Category = (Category);\n;// CONCATENATED MODULE: ./src/components/ToggleCategory/component.js\n\n\n\n\n\n\nfunction ToggleCategory_component_createSuper(Derived) { var hasNativeReflectConstruct = ToggleCategory_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction ToggleCategory_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar ToggleCategoryComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(ToggleCategoryComponent, _React$PureComponent);\n\n  var _super = ToggleCategory_component_createSuper(ToggleCategoryComponent);\n\n  function ToggleCategoryComponent(props) {\n    (0,classCallCheck/* default */.Z)(this, ToggleCategoryComponent);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(ToggleCategoryComponent, [{\n    key: \"returnClassName\",\n    value: function returnClassName(type) {\n      if (type === this.props.toggleCategory) {\n        return 'button_active';\n      }\n\n      return '';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return /*#__PURE__*/react.createElement(\"ul\", {\n        className: \"menu__details menu__details_search\"\n      }, /*#__PURE__*/react.createElement(\"li\", null, /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this.props.toggle('expense');\n        },\n        className: \"button_details \".concat(this.returnClassName('expense'))\n      }, \"\\u0420\\u0430\\u0441\\u0445\\u043E\\u0434\\u044B\")), /*#__PURE__*/react.createElement(\"li\", null, /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this.props.toggle('income');\n        },\n        className: \"button_details \".concat(this.returnClassName('income'))\n      }, \"\\u0414\\u043E\\u0445\\u043E\\u0434\\u044B\")));\n    }\n  }]);\n\n  return ToggleCategoryComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/ToggleCategory/container.js\n\n\n\n\n\nvar ToggleCategory_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    toggleCategory: state.toggleCategory\n  };\n};\n\nvar ToggleCategory_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    toggle: function toggle(categoryType) {\n      return dispatch(toggleCategoryAction(categoryType));\n    }\n  };\n};\n\nvar ToggleCategory = (0,es/* connect */.$j)(ToggleCategory_container_mapStateToProps, ToggleCategory_container_mapDispatchToProps)(ToggleCategoryComponent);\n;// CONCATENATED MODULE: ./src/components/ToggleCategory/index.js\n\n/* harmony default export */ const components_ToggleCategory = (ToggleCategory);\n;// CONCATENATED MODULE: ./src/utils/calcDateRange.js\nfunction calcDateRange(period) {\n  var date = new Date();\n  var dateMin;\n  var dateMax;\n  var yearMin;\n  var monthMin;\n\n  switch (period) {\n    case 'month':\n      dateMin = new Date(date.getFullYear(), date.getMonth(), 1);\n      dateMax = new Date();\n      break;\n\n    case 'last-month':\n      yearMin = date.getFullYear();\n      monthMin = date.getMonth() - 1;\n\n      if (monthMin < 0) {\n        --yearMin;\n        monthMin = 11;\n      }\n\n      dateMin = new Date(yearMin, monthMin, 1);\n      dateMax = new Date(date.getFullYear(), date.getMonth(), 1);\n      break;\n\n    case 'half-year':\n      yearMin = date.getFullYear();\n      monthMin = date.getMonth() - 6;\n\n      if (monthMin < 0) {\n        --yearMin;\n        monthMin = 11 - -monthMin;\n      }\n\n      dateMin = new Date(yearMin, monthMin, 1);\n      dateMax = new Date(date.getFullYear(), date.getMonth(), 1);\n      break;\n\n    case 'year':\n      dateMin = new Date(date.getFullYear(), 0, 1);\n      dateMax = new Date();\n      break;\n\n    default:\n      dateMin = new Date(date.getFullYear(), date.getMonth(), 1);\n      dateMax = new Date();\n  }\n\n  return {\n    dateMin: dateMin,\n    dateMax: dateMax\n  };\n}\n;// CONCATENATED MODULE: ./src/components/Categorys/component.js\n\n\n\n\n\n\n\nfunction Categorys_component_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction Categorys_component_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? Categorys_component_ownKeys(Object(source), !0).forEach(function (key) { (0,defineProperty/* default */.Z)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : Categorys_component_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction Categorys_component_createSuper(Derived) { var hasNativeReflectConstruct = Categorys_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction Categorys_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar CategorysComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(CategorysComponent, _React$PureComponent);\n\n  var _super = Categorys_component_createSuper(CategorysComponent);\n\n  function CategorysComponent(props) {\n    (0,classCallCheck/* default */.Z)(this, CategorysComponent);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(CategorysComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var dateRange = calcDateRange(this.props.datePeriod);\n      this.props.getAllListsWithCategorys(Categorys_component_objectSpread(Categorys_component_objectSpread({}, {\n        userId: this.props.user.id\n      }), dateRange));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return [/*#__PURE__*/react.createElement(components_ToggleCategory, {\n        key: \"ct01\"\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        key: \"ct02\",\n        className: \"details details_categorys\"\n      }, /*#__PURE__*/react.createElement(components_Category, {\n        type: \"expense\"\n      }), /*#__PURE__*/react.createElement(components_Category, {\n        type: \"income\"\n      }))];\n    }\n  }]);\n\n  return CategorysComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/Categorys/container.js\n\n\n\n\n\nvar Categorys_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar Categorys_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getAllListsWithCategorys: function getAllListsWithCategorys(userIdAndDateRange) {\n      return dispatch(getAllListsWithCategorysAction(userIdAndDateRange));\n    }\n  };\n};\n\nvar Categorys = (0,es/* connect */.$j)(Categorys_container_mapStateToProps, Categorys_container_mapDispatchToProps)(CategorysComponent);\n;// CONCATENATED MODULE: ./src/components/Categorys/index.js\n\n/* harmony default export */ const components_Categorys = (Categorys);\n;// CONCATENATED MODULE: ./src/pages/home/index.js\n\n\n\n\n\n\nfunction home_createSuper(Derived) { var hasNativeReflectConstruct = home_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction home_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar Home = /*#__PURE__*/function (_React$Component) {\n  (0,inherits/* default */.Z)(Home, _React$Component);\n\n  var _super = home_createSuper(Home);\n\n  function Home() {\n    (0,classCallCheck/* default */.Z)(this, Home);\n\n    return _super.apply(this, arguments);\n  }\n\n  (0,createClass/* default */.Z)(Home, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", null, /*#__PURE__*/react.createElement(Header, null), /*#__PURE__*/react.createElement(\"section\", null, /*#__PURE__*/react.createElement(components_Charts, null)), /*#__PURE__*/react.createElement(\"section\", null, /*#__PURE__*/react.createElement(components_Categorys, {\n        datePeriod: this.props.urlParams.period\n      })));\n    }\n  }]);\n\n  return Home;\n}(react.Component);\n\n\n;// CONCATENATED MODULE: ./src/components/RadioButton/component.js\n\n\n\n\n\n\nfunction RadioButton_component_createSuper(Derived) { var hasNativeReflectConstruct = RadioButton_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction RadioButton_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar RadioButton = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(RadioButton, _React$PureComponent);\n\n  var _super = RadioButton_component_createSuper(RadioButton);\n\n  function RadioButton(props) {\n    var _this;\n\n    (0,classCallCheck/* default */.Z)(this, RadioButton);\n\n    _this = _super.call(this, props);\n    _this.defaultChecked = _this.props.defaultChecked || false;\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(RadioButton, [{\n    key: \"render\",\n    value: function render() {\n      return [/*#__PURE__*/react.createElement(\"input\", {\n        key: 'rb01',\n        className: \"radio-button\",\n        type: \"radio\",\n        id: this.props.id,\n        name: this.props.name,\n        value: this.props.value,\n        defaultChecked: this.defaultChecked,\n        onClick: this.props.callback\n      }), /*#__PURE__*/react.createElement(\"label\", {\n        key: 'rb02',\n        className: \"\".concat(this.props.className, \" radio-button-lable\"),\n        htmlFor: this.props.id\n      }, this.props.children)];\n    }\n  }]);\n\n  return RadioButton;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/RadioButton/index.js\n\n/* harmony default export */ const components_RadioButton = (RadioButton);\n;// CONCATENATED MODULE: ./src/components/AddCategory/component.js\n\n\n\n\n\n\n\n\nfunction AddCategory_component_createSuper(Derived) { var hasNativeReflectConstruct = AddCategory_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction AddCategory_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\nvar AddCategoryComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(AddCategoryComponent, _React$PureComponent);\n\n  var _super = AddCategory_component_createSuper(AddCategoryComponent);\n\n  function AddCategoryComponent(props) {\n    var _this;\n\n    (0,classCallCheck/* default */.Z)(this, AddCategoryComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      type: 'expense',\n      title: '',\n      userId: props.user.id\n    };\n    _this.handleChange = _this.handleChange.bind((0,assertThisInitialized/* default */.Z)(_this));\n    _this.addCategoryAndResetState = _this.addCategoryAndResetState.bind((0,assertThisInitialized/* default */.Z)(_this));\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(AddCategoryComponent, [{\n    key: \"handleChange\",\n    value: function handleChange(e, val) {\n      this.setState((0,defineProperty/* default */.Z)({}, val, e.target.value));\n    }\n  }, {\n    key: \"addCategoryAndResetState\",\n    value: function addCategoryAndResetState(category) {\n      if (this.state.title !== '') {\n        this.props.addCategory(category);\n        this.setState({\n          title: ''\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/react.createElement(\"form\", {\n        className: \"setup-form\",\n        onSubmit: function onSubmit(e) {\n          return e.preventDefault();\n        }\n      }, /*#__PURE__*/react.createElement(components_RadioButton, {\n        className: 'radio-setup-lable',\n        id: 'radio-expense',\n        name: 'category-type',\n        value: 'expense',\n        defaultChecked: true,\n        callback: function callback(e) {\n          return _this2.handleChange(e, 'type');\n        }\n      }, \"\\u0420\\u0430\\u0441\\u0445\\u043E\\u0434\"), /*#__PURE__*/react.createElement(components_RadioButton, {\n        className: 'radio-setup-lable',\n        id: 'radio-income',\n        name: 'category-type',\n        value: 'income',\n        callback: function callback(e) {\n          return _this2.handleChange(e, 'type');\n        }\n      }, \"\\u0414\\u043E\\u0445\\u043E\\u0434\"), /*#__PURE__*/react.createElement(\"input\", {\n        value: this.state.title,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'title');\n        },\n        placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n        type: \"text\",\n        className: \"setup-input-field\"\n      }), /*#__PURE__*/react.createElement(components_SubmitButton, {\n        className: 'button_setup-form',\n        callback: function callback() {\n          return _this2.addCategoryAndResetState(_this2.state);\n        }\n      }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"));\n    }\n  }]);\n\n  return AddCategoryComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/AddCategory/container.js\n\n\n\n\n\nvar AddCategory_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar AddCategory_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addCategory: function addCategory(category) {\n      return dispatch(addCategoryAction(category));\n    }\n  };\n};\n\nvar AddCategory = (0,es/* connect */.$j)(AddCategory_container_mapStateToProps, AddCategory_container_mapDispatchToProps)(AddCategoryComponent);\n;// CONCATENATED MODULE: ./src/components/AddCategory/index.js\n\n/* harmony default export */ const components_AddCategory = (AddCategory);\n;// CONCATENATED MODULE: ./src/components/CategoryItem_Setup/component.js\n\n\n\n\n\n\n\n\nfunction CategoryItem_Setup_component_createSuper(Derived) { var hasNativeReflectConstruct = CategoryItem_Setup_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction CategoryItem_Setup_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\nvar CategoryItemSetupComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(CategoryItemSetupComponent, _React$PureComponent);\n\n  var _super = CategoryItem_Setup_component_createSuper(CategoryItemSetupComponent);\n\n  function CategoryItemSetupComponent(props) {\n    var _this;\n\n    (0,classCallCheck/* default */.Z)(this, CategoryItemSetupComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      isOpenEditWindow: false,\n      isOpenConfirmDelete: false,\n      title: _this.props.title\n    };\n    _this.openEditWindow = _this.openEditWindow.bind((0,assertThisInitialized/* default */.Z)(_this));\n    _this.closeWindows = _this.closeWindows.bind((0,assertThisInitialized/* default */.Z)(_this));\n    _this.openConfirmDeleteWindow = _this.openConfirmDeleteWindow.bind((0,assertThisInitialized/* default */.Z)(_this));\n    _this.saveCategoryItem = _this.saveCategoryItem.bind((0,assertThisInitialized/* default */.Z)(_this));\n    _this.deleteCategoryItem = _this.deleteCategoryItem.bind((0,assertThisInitialized/* default */.Z)(_this));\n    _this.toggleVisibleAndUpdate = _this.toggleVisibleAndUpdate.bind((0,assertThisInitialized/* default */.Z)(_this));\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(CategoryItemSetupComponent, [{\n    key: \"toggleVisibleAndUpdate\",\n    value: function toggleVisibleAndUpdate() {\n      var category = {\n        id: this.props.id,\n        visible: !this.props.visible\n      };\n      this.props.updCategory(category);\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e, val) {\n      var fieldValue = val === \"sum\" ? e.target.value.replace(/\\D/, '') : e.target.value;\n      this.setState((0,defineProperty/* default */.Z)({}, val, fieldValue));\n    }\n  }, {\n    key: \"openEditWindow\",\n    value: function openEditWindow() {\n      this.setState({\n        isOpenEditWindow: true,\n        isOpenConfirmDelete: false\n      });\n    }\n  }, {\n    key: \"openConfirmDeleteWindow\",\n    value: function openConfirmDeleteWindow() {\n      this.setState({\n        isOpenEditWindow: false,\n        isOpenConfirmDelete: true\n      });\n    }\n  }, {\n    key: \"closeWindows\",\n    value: function closeWindows() {\n      this.setState({\n        isOpenEditWindow: false,\n        isOpenConfirmDelete: false\n      });\n    }\n  }, {\n    key: \"saveCategoryItem\",\n    value: function saveCategoryItem() {\n      this.props.updCategory({\n        id: this.props.id,\n        title: this.state.title\n      });\n      this.closeWindows();\n    }\n  }, {\n    key: \"deleteCategoryItem\",\n    value: function deleteCategoryItem() {\n      this.props.delCategory({\n        id: this.props.id\n      });\n      this.closeWindows();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return [/*#__PURE__*/react.createElement(\"div\", {\n        key: this.props.id,\n        className: \"category__setup\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.openEditWindow();\n        },\n        className: \"category-setup__item \".concat(!this.props.visible && \"category-setup__item_hidden\")\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-setup__title\"\n      }, this.props.title)), /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this2.toggleVisibleAndUpdate();\n        },\n        className: \"button button_hide\"\n      }, this.props.visible ? \"\\u0421\\u043A\\u0440\\u044B\\u0442\\u044C\" : \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C\")), this.state.isOpenEditWindow && /*#__PURE__*/react.createElement(components_ModalWindow, {\n        key: \"ew\".concat(this.props.id)\n      }, /*#__PURE__*/react.createElement(\"div\", null, /*#__PURE__*/react.createElement(components_CloseWindowButton, {\n        closeCallback: this.closeWindows\n      }), /*#__PURE__*/react.createElement(\"textarea\", {\n        value: this.state.title,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'title');\n        },\n        placeholder: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n        className: \"add-form__txt\"\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"modal-window__buttons\"\n      }, /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this2.saveCategoryItem();\n        },\n        className: \"button_modal-window\"\n      }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"), /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this2.openConfirmDeleteWindow();\n        },\n        className: \"button_modal-window\"\n      }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")))), this.state.isOpenConfirmDelete && /*#__PURE__*/react.createElement(components_ConfirmDeleteWindow, {\n        key: \"dw\".concat(this.props.id),\n        cancelCallback: function cancelCallback() {\n          return _this2.closeWindows();\n        },\n        deleteCallback: function deleteCallback() {\n          return _this2.deleteCategoryItem();\n        },\n        title: this.props.title\n      })];\n    }\n  }]);\n\n  return CategoryItemSetupComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/CategoryItem_Setup/container.js\n\n\n\n\n\nvar CategoryItem_Setup_container_mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar CategoryItem_Setup_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updCategory: function updCategory(category) {\n      return dispatch(updCategoryAction(category));\n    },\n    delCategory: function delCategory(category) {\n      return dispatch(delCategoryAction(category));\n    }\n  };\n};\n\nvar CategoryItemSetup = (0,es/* connect */.$j)(CategoryItem_Setup_container_mapStateToProps, CategoryItem_Setup_container_mapDispatchToProps)(CategoryItemSetupComponent);\n;// CONCATENATED MODULE: ./src/components/CategoryItem_Setup/index.js\n\n/* harmony default export */ const CategoryItem_Setup = (CategoryItemSetup);\n;// CONCATENATED MODULE: ./src/components/Category_Setup/component.js\n\n\n\n\n\n\nfunction Category_Setup_component_createSuper(Derived) { var hasNativeReflectConstruct = Category_Setup_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction Category_Setup_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar CategorySetupComponent = /*#__PURE__*/function (_React$Component) {\n  (0,inherits/* default */.Z)(CategorySetupComponent, _React$Component);\n\n  var _super = Category_Setup_component_createSuper(CategorySetupComponent);\n\n  function CategorySetupComponent(props) {\n    (0,classCallCheck/* default */.Z)(this, CategorySetupComponent);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(CategorySetupComponent, [{\n    key: \"returnClassName\",\n    value: function returnClassName() {\n      if (this.props.type !== this.props.toggleCategory) {\n        return \"details-setup__block_hide\";\n      }\n\n      return '';\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this = this;\n\n      return this.props.categorysIdArr.map(function (categoryId) {\n        var category = _this.props.categorys[categoryId];\n\n        if (category.type === _this.props.type) {\n          return /*#__PURE__*/react.createElement(CategoryItem_Setup, {\n            key: category.id,\n            id: category.id,\n            title: category.title,\n            type: category.type,\n            visible: category.visible\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if ('categorys' in this.props) {\n        return /*#__PURE__*/react.createElement(\"div\", {\n          className: \"details-setup__block \".concat(this.returnClassName())\n        }, this.renderItems());\n      }\n\n      return [];\n    }\n  }]);\n\n  return CategorySetupComponent;\n}(react.Component);\n\n\n;// CONCATENATED MODULE: ./src/components/Category_Setup/container.js\n\n\n\n\nvar Category_Setup_container_mapStateToProps = function mapStateToProps(state) {\n  if (state.data === null) return {};\n  return {\n    categorys: state.data.entities.categorys,\n    categorysIdArr: state.data.result.categorys,\n    toggleCategory: state.toggleCategory\n  };\n};\n\nvar Category_Setup_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\n\nvar CategorySetup = (0,es/* connect */.$j)(Category_Setup_container_mapStateToProps, Category_Setup_container_mapDispatchToProps)(CategorySetupComponent);\n;// CONCATENATED MODULE: ./src/components/Category_Setup/index.js\n\n/* harmony default export */ const Category_Setup = (CategorySetup);\n;// CONCATENATED MODULE: ./src/components/Categorys_Setup/component.js\n\n\n\n\n\n\nfunction Categorys_Setup_component_createSuper(Derived) { var hasNativeReflectConstruct = Categorys_Setup_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction Categorys_Setup_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\nvar component_CategorysComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(CategorysComponent, _React$PureComponent);\n\n  var _super = Categorys_Setup_component_createSuper(CategorysComponent);\n\n  function CategorysComponent(props) {\n    (0,classCallCheck/* default */.Z)(this, CategorysComponent);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(CategorysComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getAllCategorys(this.props.user.id);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return [/*#__PURE__*/react.createElement(components_ToggleCategory, {\n        key: \"ct01\"\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        key: \"ct02\",\n        className: \"details-setup details-setup_categorys\"\n      }, /*#__PURE__*/react.createElement(Category_Setup, {\n        type: \"expense\"\n      }), /*#__PURE__*/react.createElement(Category_Setup, {\n        type: \"income\"\n      }))];\n    }\n  }]);\n\n  return CategorysComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/Categorys_Setup/container.js\n\n\n\n\n\nvar Categorys_Setup_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar Categorys_Setup_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getAllCategorys: function getAllCategorys(userId) {\n      return dispatch(getAllCategorysAction(userId));\n    }\n  };\n};\n\nvar CategorysSetup = (0,es/* connect */.$j)(Categorys_Setup_container_mapStateToProps, Categorys_Setup_container_mapDispatchToProps)(component_CategorysComponent);\n;// CONCATENATED MODULE: ./src/components/Categorys_Setup/index.js\n\n/* harmony default export */ const Categorys_Setup = (CategorysSetup);\n;// CONCATENATED MODULE: ./src/pages/setup/index.js\n\n\n\n\n\n\nfunction setup_createSuper(Derived) { var hasNativeReflectConstruct = setup_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction setup_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar Setup = /*#__PURE__*/function (_React$Component) {\n  (0,inherits/* default */.Z)(Setup, _React$Component);\n\n  var _super = setup_createSuper(Setup);\n\n  function Setup() {\n    (0,classCallCheck/* default */.Z)(this, Setup);\n\n    return _super.apply(this, arguments);\n  }\n\n  (0,createClass/* default */.Z)(Setup, [{\n    key: \"render\",\n    value: function render() {\n      return [/*#__PURE__*/react.createElement(Header, {\n        key: 'ac01'\n      }), /*#__PURE__*/react.createElement(components_AddCategory, {\n        key: 'ac02'\n      }), /*#__PURE__*/react.createElement(Categorys_Setup, {\n        key: 'ac03'\n      })];\n    }\n  }]);\n\n  return Setup;\n}(react.Component);\n\n\n;// CONCATENATED MODULE: ./src/components/LoginForm/component.js\n\n\n\n\n\n\n\nfunction LoginForm_component_createSuper(Derived) { var hasNativeReflectConstruct = LoginForm_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction LoginForm_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar LoginFormComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(LoginFormComponent, _React$PureComponent);\n\n  var _super = LoginForm_component_createSuper(LoginFormComponent);\n\n  function LoginFormComponent(props) {\n    var _this;\n\n    (0,classCallCheck/* default */.Z)(this, LoginFormComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      login: '',\n      pass: ''\n    };\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(LoginFormComponent, [{\n    key: \"handleChange\",\n    value: function handleChange(e, val) {\n      this.setState((0,defineProperty/* default */.Z)({}, val, e.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/react.createElement(\"div\", null, this.props.user.loginErrorMes && /*#__PURE__*/react.createElement(\"div\", {\n        className: \"login-error-mes\"\n      }, this.props.user.loginErrorMes), /*#__PURE__*/react.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return e.preventDefault();\n        }\n      }, /*#__PURE__*/react.createElement(\"input\", {\n        value: this.state.login,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'login');\n        },\n        placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n        type: \"text\",\n        className: \"add-form__sum\"\n      }), /*#__PURE__*/react.createElement(\"input\", {\n        value: this.state.pass,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'pass');\n        },\n        placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n        type: \"password\",\n        className: \"add-form__sum\"\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"login-form-submit-wrap\"\n      }, /*#__PURE__*/react.createElement(components_SubmitButton, {\n        className: 'button_login-form',\n        callback: function callback() {\n          return _this2.props.loginRequest({\n            login: _this2.state.login,\n            pass: _this2.state.pass\n          });\n        }\n      }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\"))));\n    }\n  }]);\n\n  return LoginFormComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/LoginForm/container.js\n\n\n\n\n\nvar LoginForm_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar LoginForm_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    loginRequest: function loginRequest(data) {\n      return dispatch(loginRequestAction(data));\n    }\n  };\n};\n\nvar LoginForm = (0,es/* connect */.$j)(LoginForm_container_mapStateToProps, LoginForm_container_mapDispatchToProps)(LoginFormComponent);\n;// CONCATENATED MODULE: ./src/components/LoginForm/index.js\n\n/* harmony default export */ const components_LoginForm = (LoginForm);\n;// CONCATENATED MODULE: ./src/pages/login/index.js\n\n\n\n\n\n\nfunction login_createSuper(Derived) { var hasNativeReflectConstruct = login_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction login_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar LoginPage = /*#__PURE__*/function (_React$Component) {\n  (0,inherits/* default */.Z)(LoginPage, _React$Component);\n\n  var _super = login_createSuper(LoginPage);\n\n  function LoginPage(props) {\n    (0,classCallCheck/* default */.Z)(this, LoginPage);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", {\n        className: \"login-form-wrap\"\n      }, /*#__PURE__*/react.createElement(components_LoginForm, null));\n    }\n  }]);\n\n  return LoginPage;\n}(react.Component);\n\nvar RedirectRoute = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(RedirectRoute, _React$PureComponent);\n\n  var _super2 = login_createSuper(RedirectRoute);\n\n  function RedirectRoute(props) {\n    var _this;\n\n    (0,classCallCheck/* default */.Z)(this, RedirectRoute);\n\n    _this = _super2.call(this, props);\n    _this.location = props.location;\n    _this.from = \"/\";\n    if (props.location.state !== undefined) _this.from = props.location.state.from.pathname;\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(RedirectRoute, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/react.createElement(react_router/* Route */.AW, {\n        render: function render() {\n          return !_this2.props.user.isLogin ? /*#__PURE__*/react.createElement(LoginPage, null) : /*#__PURE__*/react.createElement(react_router/* Redirect */.l_, {\n            to: {\n              pathname: _this2.from //state: {from: this.location}\n\n            }\n          });\n        }\n      });\n    }\n  }]);\n\n  return RedirectRoute;\n}(react.PureComponent);\n\nvar Login = (0,es/* connect */.$j)(function (state) {\n  return {\n    user: state.user\n  };\n})(RedirectRoute);\n/* harmony default export */ const login = (Login);\n;// CONCATENATED MODULE: ./src/pages/404/index.js\n\n\n\n\n\n\nfunction _404_createSuper(Derived) { var hasNativeReflectConstruct = _404_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction _404_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar Page404 = /*#__PURE__*/function (_React$Component) {\n  (0,inherits/* default */.Z)(Page404, _React$Component);\n\n  var _super = _404_createSuper(Page404);\n\n  function Page404(props) {\n    (0,classCallCheck/* default */.Z)(this, Page404);\n\n    return _super.call(this, props);\n  }\n\n  (0,createClass/* default */.Z)(Page404, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", null, \"404 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430\");\n    }\n  }]);\n\n  return Page404;\n}(react.Component);\n\n\n;// CONCATENATED MODULE: ./src/components/PrivateRoute/component.js\n\n\n\n\n\n\nfunction PrivateRoute_component_createSuper(Derived) { var hasNativeReflectConstruct = PrivateRoute_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction PrivateRoute_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar PrivateRouteComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(PrivateRouteComponent, _React$PureComponent);\n\n  var _super = PrivateRoute_component_createSuper(PrivateRouteComponent);\n\n  function PrivateRouteComponent(props) {\n    var _this;\n\n    (0,classCallCheck/* default */.Z)(this, PrivateRouteComponent);\n\n    _this = _super.call(this, props);\n    _this.children = props.children;\n    _this.urlParams = props.computedMatch.params;\n    _this.location = props.location;\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(PrivateRouteComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.user.isLogin !== true && this.props.user.isLogin !== false) {\n        this.props.authRequest(); //авторизация\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.props.user.isLogin !== true && this.props.user.isLogin !== false) {\n        return []; //заглушка\n      }\n\n      return /*#__PURE__*/react.createElement(react_router/* Route */.AW, {\n        render: function render() {\n          return _this2.props.user.isLogin //подтверждение авторизации\n          ? /*#__PURE__*/react.cloneElement(_this2.children, {\n            urlParams: _this2.urlParams\n          }) : /*#__PURE__*/react.createElement(react_router/* Redirect */.l_, {\n            to: {\n              pathname: \"/login\",\n              state: {\n                from: _this2.location\n              }\n            }\n          });\n        }\n      });\n    }\n  }]);\n\n  return PrivateRouteComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/PrivateRoute/container.js\n\n\n\n\n\nvar PrivateRoute_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar PrivateRoute_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    authRequest: function authRequest() {\n      return dispatch(authRequestAction());\n    }\n  };\n};\n\nvar PrivateRoute = (0,es/* connect */.$j)(PrivateRoute_container_mapStateToProps, PrivateRoute_container_mapDispatchToProps)(PrivateRouteComponent);\n;// CONCATENATED MODULE: ./src/components/PrivateRoute/index.js\n\n/* harmony default export */ const components_PrivateRoute = (PrivateRoute);\n;// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\n\nfunction src_createSuper(Derived) { var hasNativeReflectConstruct = src_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,getPrototypeOf/* default */.Z)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,getPrototypeOf/* default */.Z)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,possibleConstructorReturn/* default */.Z)(this, result); }; }\n\nfunction src_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar App = /*#__PURE__*/function (_React$Component) {\n  (0,inherits/* default */.Z)(App, _React$Component);\n\n  var _super = src_createSuper(App);\n\n  function App() {\n    (0,classCallCheck/* default */.Z)(this, App);\n\n    return _super.apply(this, arguments);\n  }\n\n  (0,createClass/* default */.Z)(App, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(es/* Provider */.zt, {\n        store: store\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"max-width\"\n      }, /*#__PURE__*/react.createElement(react_router_dom/* BrowserRouter */.VK, null, /*#__PURE__*/react.createElement(react_router/* Switch */.rs, null, /*#__PURE__*/react.createElement(components_PrivateRoute, {\n        exact: true,\n        path: \"/\"\n      }, /*#__PURE__*/react.createElement(Home, null)), /*#__PURE__*/react.createElement(components_PrivateRoute, {\n        exact: true,\n        path: \"/setup\"\n      }, /*#__PURE__*/react.createElement(Setup, null)), /*#__PURE__*/react.createElement(react_router/* Route */.AW, {\n        path: \"/login/\",\n        component: login\n      }), /*#__PURE__*/react.createElement(components_PrivateRoute, {\n        exact: true,\n        path: \"/:period\"\n      }, /*#__PURE__*/react.createElement(Home, null)), /*#__PURE__*/react.createElement(react_router/* Route */.AW, {\n        path: \"*\",\n        component: Page404\n      })))));\n    }\n  }]);\n\n  return App;\n}(react.Component);\n\nreact_dom.render( /*#__PURE__*/react.createElement(App, null), document.getElementById(\"app\"));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZSsvdUdsLzguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3JkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3BDQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzdFQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUM3Q0E7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDcENBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDOUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3RDQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNoREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDL0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDNURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzNGQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDbERBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ25HQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDOUpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3BFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDakRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDakZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDbEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy91dGlscy90b2tlbnMuanM/YTI2OSIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2FwaS9pbmRleC5qcz82ODdhIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvdXRpbHMvbm9ybWFsaXplLmpzPzA3YjciLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9zdG9yZS9hY3Rpb25zLmpzP2Q5ZTAiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9zdG9yZS9zYWdhcy5qcz83N2VlIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvc3RvcmUvcmVkdWNlcnMuanM/ZmY0OCIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL3N0b3JlL2luZGV4LmpzPzIyYmUiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL01lbnVJdGVtL2NvbXBvbmVudC5qcz9hNjI1Iiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9NZW51SXRlbS9pbmRleC5qcz9lYTI0Iiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9NZW51L2NvbXBvbmVudC5qcz83ZDdkIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9NZW51L2NvbnRhaW5lci5qcz8xYTc3Iiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9NZW51L2luZGV4LmpzP2M5OWQiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL1VzZXJMb2dvdXRMaW5rL2NvbXBvbmVudC5qcz82Y2Y3Iiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9Vc2VyTG9nb3V0TGluay9jb250YWluZXIuanM/YzFhOCIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvVXNlckxvZ291dExpbmsvaW5kZXguanM/ZTM4ZiIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvU2V0dXBMaW5rL2NvbXBvbmVudC5qcz85MTcyIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9TZXR1cExpbmsvaW5kZXguanM/MDBiNCIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL3BhZ2VzL2hlYWRlci9pbmRleC5qcz8wMTYwIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9DaGFydHNJdGVtL2NvbXBvbmVudC5qcz9jYTY1Iiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9DaGFydHNJdGVtL2luZGV4LmpzPzg4ZjkiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0NoYXJ0cy9jb21wb25lbnQuanM/ZTk0NCIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL3V0aWxzL2NhbGNDaGFydHMuanM/YmI2YiIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvQ2hhcnRzL2NvbnRhaW5lci5qcz82NGMyIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9DaGFydHMvaW5kZXguanM/YzY4NSIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvUGx1c0J1dHRvbi9jb21wb25lbnQuanM/NjdjMSIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvUGx1c0J1dHRvbi9pbmRleC5qcz82NjU0Iiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9TdWJtaXRCdXR0b24vY29tcG9uZW50LmpzPzJiNjYiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL1N1Ym1pdEJ1dHRvbi9pbmRleC5qcz9iOWY4Iiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9BZGRGb3JtL2NvbXBvbmVudC5qcz9lZTNmIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9BZGRGb3JtL2NvbnRhaW5lci5qcz9hZTVmIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9BZGRGb3JtL2luZGV4LmpzP2I0MmYiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL01vZGFsV2luZG93L2NvbXBvbmVudC5qcz9lZmNiIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9Nb2RhbFdpbmRvdy9jb250YWluZXIuanM/NTBmNSIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvTW9kYWxXaW5kb3cvaW5kZXguanM/NzM4YyIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvQ2xvc2VXaW5kb3dCdXR0b24vY29tcG9uZW50LmpzPzJhMDUiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0Nsb3NlV2luZG93QnV0dG9uL2luZGV4LmpzPzJmYzciLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0NvbmZpcm1EZWxldGVXaW5kb3cvY29tcG9uZW50LmpzP2E4ZWIiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0NvbmZpcm1EZWxldGVXaW5kb3cvaW5kZXguanM/ZmEzYSIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL3V0aWxzL2Zvcm1hdExpc3REYXRlLmpzPzNlYWYiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0xpc3RJdGVtL2NvbXBvbmVudC5qcz9iMDE5Iiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9MaXN0SXRlbS9jb250YWluZXIuanM/ODBlMiIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvTGlzdEl0ZW0vaW5kZXguanM/NDQ4MCIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvTGlzdC9jb21wb25lbnQuanM/NmU1MCIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvTGlzdC9jb250YWluZXIuanM/NDAwZCIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvTGlzdC9pbmRleC5qcz9mZjgwIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9DYXRlZ29yeUl0ZW0vY29tcG9uZW50LmpzPzgwN2EiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0NhdGVnb3J5SXRlbS9pbmRleC5qcz82ZWViIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9DYXRlZ29yeS9jb21wb25lbnQuanM/YzVhOSIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvQ2F0ZWdvcnkvY29udGFpbmVyLmpzP2EyMDIiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0NhdGVnb3J5L2luZGV4LmpzPzY1OWQiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL1RvZ2dsZUNhdGVnb3J5L2NvbXBvbmVudC5qcz82YzAzIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9Ub2dnbGVDYXRlZ29yeS9jb250YWluZXIuanM/NTViZCIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvVG9nZ2xlQ2F0ZWdvcnkvaW5kZXguanM/NDMwNyIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL3V0aWxzL2NhbGNEYXRlUmFuZ2UuanM/NzcxZCIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvQ2F0ZWdvcnlzL2NvbXBvbmVudC5qcz8yYmE2Iiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9DYXRlZ29yeXMvY29udGFpbmVyLmpzPzBhMjUiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0NhdGVnb3J5cy9pbmRleC5qcz8xNGU5Iiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvcGFnZXMvaG9tZS9pbmRleC5qcz9lMGVhIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9SYWRpb0J1dHRvbi9jb21wb25lbnQuanM/ZmZmMyIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvUmFkaW9CdXR0b24vaW5kZXguanM/NGE2MSIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvQWRkQ2F0ZWdvcnkvY29tcG9uZW50LmpzP2IxNjQiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0FkZENhdGVnb3J5L2NvbnRhaW5lci5qcz85YmUwIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9BZGRDYXRlZ29yeS9pbmRleC5qcz9mN2RkIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9DYXRlZ29yeUl0ZW1fU2V0dXAvY29tcG9uZW50LmpzPzlhNTEiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0NhdGVnb3J5SXRlbV9TZXR1cC9jb250YWluZXIuanM/ODFmZCIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvQ2F0ZWdvcnlJdGVtX1NldHVwL2luZGV4LmpzP2E1YmMiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0NhdGVnb3J5X1NldHVwL2NvbXBvbmVudC5qcz9jNGJhIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9DYXRlZ29yeV9TZXR1cC9jb250YWluZXIuanM/ZDc5MCIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvQ2F0ZWdvcnlfU2V0dXAvaW5kZXguanM/YjI2YSIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvQ2F0ZWdvcnlzX1NldHVwL2NvbXBvbmVudC5qcz84YzI2Iiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9DYXRlZ29yeXNfU2V0dXAvY29udGFpbmVyLmpzPzc2NWMiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0NhdGVnb3J5c19TZXR1cC9pbmRleC5qcz85M2RkIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvcGFnZXMvc2V0dXAvaW5kZXguanM/YWIzOCIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvTG9naW5Gb3JtL2NvbXBvbmVudC5qcz8zODBkIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9Mb2dpbkZvcm0vY29udGFpbmVyLmpzP2VjNzkiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL0xvZ2luRm9ybS9pbmRleC5qcz9hY2U1Iiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvcGFnZXMvbG9naW4vaW5kZXguanM/MTk2NSIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL3BhZ2VzLzQwNC9pbmRleC5qcz9hNWVjIiwid2VicGFjazovL0ZpbmFuY2UvLi9zcmMvY29tcG9uZW50cy9Qcml2YXRlUm91dGUvY29tcG9uZW50LmpzPzMzZDkiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9jb21wb25lbnRzL1ByaXZhdGVSb3V0ZS9jb250YWluZXIuanM/Y2QyZiIsIndlYnBhY2s6Ly9GaW5hbmNlLy4vc3JjL2NvbXBvbmVudHMvUHJpdmF0ZVJvdXRlL2luZGV4LmpzPzcyZDgiLCJ3ZWJwYWNrOi8vRmluYW5jZS8uL3NyYy9pbmRleC5qcz8yZGVjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBzYXZlVG9rZW5zVG9TdG9yYWdlKHRva2Vucykge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW5zJywgSlNPTi5zdHJpbmdpZnkodG9rZW5zKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYXJUb2tlbnNGcm9tU3RvcmFnZSgpIHtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VucycpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZnJlc2hUb2tlbkZyb21TdG9yYWdlKCkge1xuICBpZiAoIWxvY2FsU3RvcmFnZS50b2tlbnMpIHJldHVybiBudWxsO1xuICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UudG9rZW5zKS5yZWZyZXNoVG9rZW47XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QWNjZXNzVG9rZW5Gcm9tU3RvcmFnZSgpIHtcbiAgaWYgKCFsb2NhbFN0b3JhZ2UudG9rZW5zKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnRva2VucykuYWNjZXNzVG9rZW47XG59IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3JcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gXCJAYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvclwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgeyBnZXRSZWZyZXNoVG9rZW5Gcm9tU3RvcmFnZSwgZ2V0QWNjZXNzVG9rZW5Gcm9tU3RvcmFnZSB9IGZyb20gJy4uL3V0aWxzL3Rva2Vucyc7XG5cbnZhciBBcGkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBcGkoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFwaSk7XG5cbiAgICB0aGlzLnVybFJvb3QgPSBcIlwiLmNvbmNhdChwcm9jZXNzLmVudi5CQUNLRU5EX0hPU1QsIFwiL2FwaVwiKTtcbiAgICB0aGlzLm9wdGlvbnNEZWZhdWx0ID0ge1xuICAgICAgbW9kZTogXCJjb3JzXCJcbiAgICB9O1xuICAgIHRoaXMuZ2V0UmVmcmVzaFRva2VuRnJvbVN0b3JhZ2UgPSBnZXRSZWZyZXNoVG9rZW5Gcm9tU3RvcmFnZTtcbiAgICB0aGlzLmdldEFjY2Vzc1Rva2VuRnJvbVN0b3JhZ2UgPSBnZXRBY2Nlc3NUb2tlbkZyb21TdG9yYWdlO1xuICAgIHRoaXMubG9naW5SZXF1ZXN0ID0gdGhpcy5sb2dpblJlcXVlc3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLmxvZ291dFJlcXVlc3QgPSB0aGlzLmxvZ291dFJlcXVlc3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlcXVlc3RXaXRoQWNjZXNzVG9rZW4gPSB0aGlzLnJlcXVlc3RXaXRoQWNjZXNzVG9rZW4uYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlZnJlc2hUb2tlbnMgPSB0aGlzLnJlZnJlc2hUb2tlbnMuYmluZCh0aGlzKTtcbiAgICB0aGlzLmdldEF1dGhEYXRhQnlTZXNzaW9uID0gdGhpcy5nZXRBdXRoRGF0YUJ5U2Vzc2lvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYWRkQ2F0ZWdvcnlSZXF1ZXN0ID0gdGhpcy5hZGRDYXRlZ29yeVJlcXVlc3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZENhdGVnb3J5UmVxdWVzdCA9IHRoaXMudXBkQ2F0ZWdvcnlSZXF1ZXN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZWxDYXRlZ29yeVJlcXVlc3QgPSB0aGlzLmRlbENhdGVnb3J5UmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZ2V0QWxsQ2F0ZWdvcnlzID0gdGhpcy5nZXRBbGxDYXRlZ29yeXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLmdldEFsbExpc3RzV2l0aENhdGVnb3J5cyA9IHRoaXMuZ2V0QWxsTGlzdHNXaXRoQ2F0ZWdvcnlzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hZGRMaXN0SXRlbVJlcXVlc3QgPSB0aGlzLmFkZExpc3RJdGVtUmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkTGlzdEl0ZW1SZXF1ZXN0ID0gdGhpcy51cGRMaXN0SXRlbVJlcXVlc3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRlbExpc3RJdGVtUmVxdWVzdCA9IHRoaXMuZGVsTGlzdEl0ZW1SZXF1ZXN0LmJpbmQodGhpcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQXBpLCBbe1xuICAgIGtleTogXCJyZXF1ZXN0V2l0aEFjY2Vzc1Rva2VuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVxdWVzdFdpdGhBY2Nlc3NUb2tlbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBmdWxsVXJsLCBhY2Nlc3NUb2tlbjtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDtcbiAgICAgICAgICAgICAgICBmdWxsVXJsID0gXCJcIi5jb25jYXQodGhpcy51cmxSb290KS5jb25jYXQodXJsKTtcbiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IHRoaXMuZ2V0QWNjZXNzVG9rZW5Gcm9tU3RvcmFnZSgpO1xuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSBvcHRpb25zLmhlYWRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoYWNjZXNzVG9rZW4pIG9wdGlvbnMuaGVhZGVycy5BdXRob3JpemF0aW9uID0gXCJCZWFyZXIgXCIuY29uY2F0KGFjY2Vzc1Rva2VuKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goZnVsbFVybCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLm9wdGlvbnNEZWZhdWx0KSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDExO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgwKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MC5tZXNzYWdlKTtcblxuICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbMCwgMTFdXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlcXVlc3RXaXRoQWNjZXNzVG9rZW4oX3gsIF94Mikge1xuICAgICAgICByZXR1cm4gX3JlcXVlc3RXaXRoQWNjZXNzVG9rZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcXVlc3RXaXRoQWNjZXNzVG9rZW47XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwicmVmcmVzaFRva2Vuc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZnJlc2hUb2tlbnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgICAgdmFyIHJlZnJlc2hUb2tlbiwgZnVsbFVybCwgb3B0aW9ucywgcmVzcG9uc2U7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDtcbiAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW4gPSB0aGlzLmdldFJlZnJlc2hUb2tlbkZyb21TdG9yYWdlKCk7XG4gICAgICAgICAgICAgICAgZnVsbFVybCA9IFwiXCIuY29uY2F0KHRoaXMudXJsUm9vdCwgXCIvYXV0aC9yZWZyZXNoXCIpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IHJlZnJlc2hUb2tlblxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goZnVsbFVybCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLm9wdGlvbnNEZWZhdWx0KSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEwO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MltcImNhdGNoXCJdKDApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MC5tZXNzYWdlKTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcywgW1swLCAxMF1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmVmcmVzaFRva2VucygpIHtcbiAgICAgICAgcmV0dXJuIF9yZWZyZXNoVG9rZW5zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWZyZXNoVG9rZW5zO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImxvZ2luUmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2xvZ2luUmVxdWVzdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGRhdGEpIHtcbiAgICAgICAgdmFyIGZ1bGxVcmwsIG9wdGlvbnMsIHJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBmdWxsVXJsID0gXCJcIi5jb25jYXQodGhpcy51cmxSb290LCBcIi9hdXRoL2xvZ2luXCIpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBsb2dpbjogZGF0YS5sb2dpbixcbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGRhdGEucGFzc1xuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKGZ1bGxVcmwsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5vcHRpb25zRGVmYXVsdCksIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLCByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzW1wiY2F0Y2hcIl0oMik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQzLnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzLCBbWzIsIDldXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGxvZ2luUmVxdWVzdChfeDMpIHtcbiAgICAgICAgcmV0dXJuIF9sb2dpblJlcXVlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxvZ2luUmVxdWVzdDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJsb2dvdXRSZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfbG9nb3V0UmVxdWVzdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkge1xuICAgICAgICB2YXIgdXJsLCBvcHRpb25zLCByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdXJsID0gXCIvYXV0aC9sb2dvdXRcIjtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuOiB0aGlzLmdldFJlZnJlc2hUb2tlbkZyb21TdG9yYWdlKClcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDI7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RXaXRoQWNjZXNzVG9rZW4odXJsLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDQuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0W1wiY2F0Y2hcIl0oMik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQ0LnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzLCBbWzIsIDldXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGxvZ291dFJlcXVlc3QoKSB7XG4gICAgICAgIHJldHVybiBfbG9nb3V0UmVxdWVzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbG9nb3V0UmVxdWVzdDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJnZXRBdXRoRGF0YUJ5U2Vzc2lvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldEF1dGhEYXRhQnlTZXNzaW9uID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7XG4gICAgICAgIHZhciB1cmwsIG9wdGlvbnMsIHJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB1cmwgPSBcIi9hdXRoL3VzZXJcIjtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDI7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RXaXRoQWNjZXNzVG9rZW4odXJsLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcInJldHVyblwiLCByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQwID0gX2NvbnRleHQ1W1wiY2F0Y2hcIl0oMik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQ1LnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzLCBbWzIsIDldXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldEF1dGhEYXRhQnlTZXNzaW9uKCkge1xuICAgICAgICByZXR1cm4gX2dldEF1dGhEYXRhQnlTZXNzaW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRBdXRoRGF0YUJ5U2Vzc2lvbjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJhZGRDYXRlZ29yeVJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hZGRDYXRlZ29yeVJlcXVlc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihjYXRlZ29yeSkge1xuICAgICAgICB2YXIgdXJsLCBvcHRpb25zLCByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdXJsID0gXCIvY2F0ZWdvcnlzXCI7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBjYXRlZ29yeS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBjYXRlZ29yeS51c2VySWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGNhdGVnb3J5LnR5cGVcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDI7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RXaXRoQWNjZXNzVG9rZW4odXJsLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDYuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdChcInJldHVyblwiLCByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2W1wiY2F0Y2hcIl0oMik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQ2LnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzLCBbWzIsIDldXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGFkZENhdGVnb3J5UmVxdWVzdChfeDQpIHtcbiAgICAgICAgcmV0dXJuIF9hZGRDYXRlZ29yeVJlcXVlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFkZENhdGVnb3J5UmVxdWVzdDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJ1cGRDYXRlZ29yeVJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91cGRDYXRlZ29yeVJlcXVlc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNyhjYXRlZ29yeSkge1xuICAgICAgICB2YXIgdXJsLCBvcHRpb25zLCByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdXJsID0gXCIvY2F0ZWdvcnlzXCI7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhdGVnb3J5KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAyO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0V2l0aEFjY2Vzc1Rva2VuKHVybCwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ3LnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSA5O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0N1tcImNhdGNoXCJdKDIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Ny50MC5tZXNzYWdlKTtcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNywgdGhpcywgW1syLCA5XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1cGRDYXRlZ29yeVJlcXVlc3QoX3g1KSB7XG4gICAgICAgIHJldHVybiBfdXBkQ2F0ZWdvcnlSZXF1ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cGRDYXRlZ29yeVJlcXVlc3Q7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkTGlzdEl0ZW1SZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBkTGlzdEl0ZW1SZXF1ZXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgobGlzdEl0ZW0pIHtcbiAgICAgICAgdmFyIHVybCwgb3B0aW9ucywgcmVzcG9uc2U7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHVybCA9IFwiL2xpc3RzXCI7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGxpc3RJdGVtKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSAyO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0V2l0aEFjY2Vzc1Rva2VuKHVybCwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ4LnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSA5O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IF9jb250ZXh0OFtcImNhdGNoXCJdKDIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0OC50MC5tZXNzYWdlKTtcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOCwgdGhpcywgW1syLCA5XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1cGRMaXN0SXRlbVJlcXVlc3QoX3g2KSB7XG4gICAgICAgIHJldHVybiBfdXBkTGlzdEl0ZW1SZXF1ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cGRMaXN0SXRlbVJlcXVlc3Q7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsTGlzdEl0ZW1SZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVsTGlzdEl0ZW1SZXF1ZXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkobGlzdEl0ZW0pIHtcbiAgICAgICAgdmFyIHVybCwgb3B0aW9ucywgcmVzcG9uc2U7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHVybCA9IFwiL2xpc3RzXCI7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGxpc3RJdGVtKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSAyO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0V2l0aEFjY2Vzc1Rva2VuKHVybCwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ5LnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSA5O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0OS50MCA9IF9jb250ZXh0OVtcImNhdGNoXCJdKDIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0OS50MC5tZXNzYWdlKTtcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOSwgdGhpcywgW1syLCA5XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxMaXN0SXRlbVJlcXVlc3QoX3g3KSB7XG4gICAgICAgIHJldHVybiBfZGVsTGlzdEl0ZW1SZXF1ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxMaXN0SXRlbVJlcXVlc3Q7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsQ2F0ZWdvcnlSZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVsQ2F0ZWdvcnlSZXF1ZXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKGNhdGVnb3J5KSB7XG4gICAgICAgIHZhciB1cmwsIG9wdGlvbnMsIHJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdXJsID0gXCIvY2F0ZWdvcnlzXCI7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhdGVnb3J5KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gMjtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RXaXRoQWNjZXNzVG9rZW4odXJsLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDEwLnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTAucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMC50MCA9IF9jb250ZXh0MTBbXCJjYXRjaFwiXSgyKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDEwLnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTAsIHRoaXMsIFtbMiwgOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZGVsQ2F0ZWdvcnlSZXF1ZXN0KF94OCkge1xuICAgICAgICByZXR1cm4gX2RlbENhdGVnb3J5UmVxdWVzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVsQ2F0ZWdvcnlSZXF1ZXN0O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImdldEFsbENhdGVnb3J5c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldEFsbENhdGVnb3J5cyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSh1c2VySWQpIHtcbiAgICAgICAgdmFyIHVybCwgb3B0aW9ucywgcmVzcG9uc2U7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB1cmwgPSBcIi9jYXRlZ29yeXM/dXNlcklkPVwiLmNvbmNhdCh1c2VySWQpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTEucHJldiA9IDI7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0V2l0aEFjY2Vzc1Rva2VuKHVybCwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxMS5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdChcInJldHVyblwiLCByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDExLnByZXYgPSA5O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTEudDAgPSBfY29udGV4dDExW1wiY2F0Y2hcIl0oMik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQxMS50MC5tZXNzYWdlKTtcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExLCB0aGlzLCBbWzIsIDldXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldEFsbENhdGVnb3J5cyhfeDkpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRBbGxDYXRlZ29yeXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEFsbENhdGVnb3J5cztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJnZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoX3JlZikge1xuICAgICAgICB2YXIgdXNlcklkLCBkYXRlTWluLCBkYXRlTWF4LCB1cmwsIG9wdGlvbnMsIHJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdXNlcklkID0gX3JlZi51c2VySWQsIGRhdGVNaW4gPSBfcmVmLmRhdGVNaW4sIGRhdGVNYXggPSBfcmVmLmRhdGVNYXg7XG4gICAgICAgICAgICAgICAgdXJsID0gXCIvbGlzdHM/dXNlcklkPVwiLmNvbmNhdCh1c2VySWQsIFwiJmRhdGVNaW49XCIpLmNvbmNhdChkYXRlTWluLCBcIiZkYXRlTWF4PVwiKS5jb25jYXQoZGF0ZU1heCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMi5wcmV2ID0gMztcbiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RXaXRoQWNjZXNzVG9rZW4odXJsLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDEyLnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAxMDtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnQwID0gX2NvbnRleHQxMltcImNhdGNoXCJdKDMpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0MTIudDAubWVzc2FnZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMiwgdGhpcywgW1szLCAxMF1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0QWxsTGlzdHNXaXRoQ2F0ZWdvcnlzKF94MTApIHtcbiAgICAgICAgcmV0dXJuIF9nZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEFsbExpc3RzV2l0aENhdGVnb3J5cztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJhZGRMaXN0SXRlbVJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hZGRMaXN0SXRlbVJlcXVlc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMobGlzdEl0ZW0pIHtcbiAgICAgICAgdmFyIHVybCwgb3B0aW9ucywgcmVzcG9uc2U7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB1cmwgPSBcIi9saXN0c1wiO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobGlzdEl0ZW0pXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSAyO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFdpdGhBY2Nlc3NUb2tlbih1cmwsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MTMuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMy5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnQwID0gX2NvbnRleHQxM1tcImNhdGNoXCJdKDIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0MTMudDAubWVzc2FnZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMywgdGhpcywgW1syLCA5XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBhZGRMaXN0SXRlbVJlcXVlc3QoX3gxMSkge1xuICAgICAgICByZXR1cm4gX2FkZExpc3RJdGVtUmVxdWVzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRkTGlzdEl0ZW1SZXF1ZXN0O1xuICAgIH0oKVxuICB9XSk7XG5cbiAgcmV0dXJuIEFwaTtcbn0oKTtcblxuZXhwb3J0IHsgQXBpIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgeyBub3JtYWxpemUsIHNjaGVtYSB9IGZyb20gJ25vcm1hbGl6cic7XG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplTGlzdHMoZGF0YSkge1xuICB2YXIgY2F0ZWdvcnkgPSBuZXcgc2NoZW1hLkVudGl0eSgnY2F0ZWdvcnlzJywge1xuICAgIGxpc3Q6IFtuZXcgc2NoZW1hLkVudGl0eSgnbGlzdCcpXVxuICB9KTtcbiAgdmFyIGxpc3RzU2NoZW1hID0ge1xuICAgIGNhdGVnb3J5czogW2NhdGVnb3J5XVxuICB9O1xuICByZXR1cm4gbm9ybWFsaXplKGRhdGEsIGxpc3RzU2NoZW1hKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVDYXRlZ29yeXMoZGF0YSkge1xuICB2YXIgY2F0ZWdvcnkgPSBuZXcgc2NoZW1hLkVudGl0eSgnY2F0ZWdvcnlzJyk7XG4gIHZhciBjYXRlZ29yeVNjaGVtYSA9IHtcbiAgICBjYXRlZ29yeXM6IFtjYXRlZ29yeV1cbiAgfTtcbiAgcmV0dXJuIG5vcm1hbGl6ZShkYXRhLCBjYXRlZ29yeVNjaGVtYSk7XG59IiwiZXhwb3J0IHZhciBsb2dpblJlcXVlc3RBY3Rpb24gPSBmdW5jdGlvbiBsb2dpblJlcXVlc3RBY3Rpb24oZGF0YSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiTE9HSU5fUkVRVUVTVFwiLFxuICAgIHBheWxvYWQ6IGRhdGFcbiAgfTtcbn07XG5leHBvcnQgdmFyIGxvZ2luVXNlckFjdGlvbiA9IGZ1bmN0aW9uIGxvZ2luVXNlckFjdGlvbih1c2VyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJMT0dJTl9TVE9SRVwiLFxuICAgIHBheWxvYWQ6IHVzZXJcbiAgfTtcbn07XG5leHBvcnQgdmFyIGxvZ291dFVzZXJBY3Rpb24gPSBmdW5jdGlvbiBsb2dvdXRVc2VyQWN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiTE9HT1VUX1NUT1JFXCIsXG4gICAgcGF5bG9hZDoge31cbiAgfTtcbn07XG5leHBvcnQgdmFyIGxvZ2luRXJyb3JBY3Rpb24gPSBmdW5jdGlvbiBsb2dpbkVycm9yQWN0aW9uKGVycm9yKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJMT0dJTl9FUlJPUl9TVE9SRVwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGVycm9yOiBlcnJvclxuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgdmFyIGF1dGhSZXF1ZXN0QWN0aW9uID0gZnVuY3Rpb24gYXV0aFJlcXVlc3RBY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJBVVRIX1JFUVVFU1RcIixcbiAgICBwYXlsb2FkOiB7fVxuICB9O1xufTtcbmV4cG9ydCB2YXIgbG9nb3V0QWN0aW9uID0gZnVuY3Rpb24gbG9nb3V0QWN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiTE9HT1VUX1JFUVVFU1RcIixcbiAgICBwYXlsb2FkOiB7fVxuICB9O1xufTtcbmV4cG9ydCB2YXIgcmVmcmVzaFRva2Vuc0FjdGlvbiA9IGZ1bmN0aW9uIHJlZnJlc2hUb2tlbnNBY3Rpb24obmV4dEFjdGlvbikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiUkVGUkVTSF9UT0tFTlNfUkVRVUVTVFwiLFxuICAgIHBheWxvYWQ6IG5leHRBY3Rpb25cbiAgfTtcbn07XG5leHBvcnQgdmFyIHRvZ2dsZUNhdGVnb3J5QWN0aW9uID0gZnVuY3Rpb24gdG9nZ2xlQ2F0ZWdvcnlBY3Rpb24oY2F0ZWdvcnlUeXBlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJUT0dHTEVfQ0FURUdPUllTX1RZUEVfU1RPUkVcIixcbiAgICBwYXlsb2FkOiB7XG4gICAgICBjYXRlZ29yeVR5cGU6IGNhdGVnb3J5VHlwZVxuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgdmFyIGFkZENhdGVnb3J5QWN0aW9uID0gZnVuY3Rpb24gYWRkQ2F0ZWdvcnlBY3Rpb24oY2F0ZWdvcnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkFERF9DQVRFR09SWV9SRVFVRVNUXCIsXG4gICAgcGF5bG9hZDogY2F0ZWdvcnlcbiAgfTtcbn07XG5leHBvcnQgdmFyIHVwZENhdGVnb3J5QWN0aW9uID0gZnVuY3Rpb24gdXBkQ2F0ZWdvcnlBY3Rpb24oY2F0ZWdvcnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIlVQRF9PTkVfQ0FURUdPUllfUkVRVUVTVFwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeVxuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgdmFyIGRlbENhdGVnb3J5QWN0aW9uID0gZnVuY3Rpb24gZGVsQ2F0ZWdvcnlBY3Rpb24oY2F0ZWdvcnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkRFTF9PTkVfQ0FURUdPUllfUkVRVUVTVFwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeVxuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgdmFyIGdldEFsbENhdGVnb3J5c0FjdGlvbiA9IGZ1bmN0aW9uIGdldEFsbENhdGVnb3J5c0FjdGlvbih1c2VySWQpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkdFVF9DQVRFR09SWVNfUkVRVUVTVFwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIHVzZXJJZDogdXNlcklkXG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgZ2V0QWxsTGlzdHNXaXRoQ2F0ZWdvcnlzQWN0aW9uID0gZnVuY3Rpb24gZ2V0QWxsTGlzdHNXaXRoQ2F0ZWdvcnlzQWN0aW9uKG9iaikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiR0VUX0xJU1RTX1JFUVVFU1RcIixcbiAgICBwYXlsb2FkOiB7XG4gICAgICB1c2VySWRBbmREYXRlUmFuZ2U6IG9ialxuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgdmFyIHVwZERhdGFJblN0b3JlQWN0aW9uID0gZnVuY3Rpb24gdXBkRGF0YUluU3RvcmVBY3Rpb24oY2F0ZWdvcnlzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJVUERfREFUQV9TVE9SRVwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGNhdGVnb3J5czogY2F0ZWdvcnlzXG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgYWRkQ2F0ZWdvcnlJblN0b3JlQWN0aW9uID0gZnVuY3Rpb24gYWRkQ2F0ZWdvcnlJblN0b3JlQWN0aW9uKGNhdGVnb3J5KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJBRERfTkVXX0NBVEVHT1JZX1NUT1JFXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5XG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgdXBkT25lQ2F0ZWdvcnlJblN0b3JlQWN0aW9uID0gZnVuY3Rpb24gdXBkT25lQ2F0ZWdvcnlJblN0b3JlQWN0aW9uKGNhdGVnb3J5KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJVUERfT05FX0NBVEVHT1JZX1NUT1JFXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5XG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgdXBkT25lTGlzdEl0ZW1JblN0b3JlQWN0aW9uID0gZnVuY3Rpb24gdXBkT25lTGlzdEl0ZW1JblN0b3JlQWN0aW9uKGxpc3RJdGVtKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJVUERfT05FX0xJU1RfSVRFTV9TVE9SRVwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGxpc3RJdGVtOiBsaXN0SXRlbVxuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgdmFyIGRlbE9uZUNhdGVnb3J5SW5TdG9yZUFjdGlvbiA9IGZ1bmN0aW9uIGRlbE9uZUNhdGVnb3J5SW5TdG9yZUFjdGlvbihjYXRlZ29yeSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiREVMX09ORV9DQVRFR09SWV9TVE9SRVwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeVxuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgdmFyIGRlbE9uZUxpc3RJdGVtSW5TdG9yZUFjdGlvbiA9IGZ1bmN0aW9uIGRlbE9uZUxpc3RJdGVtSW5TdG9yZUFjdGlvbihsaXN0SXRlbSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiREVMX09ORV9MSVNUX0lURU1fU1RPUkVcIixcbiAgICBwYXlsb2FkOiB7XG4gICAgICBsaXN0SXRlbTogbGlzdEl0ZW1cbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IHZhciBhZGRMaXN0SXRlbUFjdGlvbiA9IGZ1bmN0aW9uIGFkZExpc3RJdGVtQWN0aW9uKGxpc3RJdGVtKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJBRERfTElTVF9JVEVNX1JFUVVFU1RcIixcbiAgICBwYXlsb2FkOiB7XG4gICAgICBsaXN0SXRlbTogbGlzdEl0ZW1cbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IHZhciB1cGRMaXN0SXRlbUFjdGlvbiA9IGZ1bmN0aW9uIHVwZExpc3RJdGVtQWN0aW9uKGxpc3RJdGVtKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJVUERfT05FX0xJU1RfSVRFTV9SRVFVRVNUXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgbGlzdEl0ZW06IGxpc3RJdGVtXG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgZGVsTGlzdEl0ZW1BY3Rpb24gPSBmdW5jdGlvbiBkZWxMaXN0SXRlbUFjdGlvbihsaXN0SXRlbSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiREVMX09ORV9MSVNUX0lURU1fUkVRVUVTVFwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGxpc3RJdGVtOiBsaXN0SXRlbVxuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgdmFyIGFkZExpc3RJdGVtSW5TdG9yZUFjdGlvbiA9IGZ1bmN0aW9uIGFkZExpc3RJdGVtSW5TdG9yZUFjdGlvbihsaXN0SXRlbSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiQUREX05FV19MSVNUX0lURU1fU1RPUkVcIixcbiAgICBwYXlsb2FkOiB7XG4gICAgICBsaXN0SXRlbTogbGlzdEl0ZW1cbiAgICB9XG4gIH07XG59OyIsImltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gXCJAYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvclwiO1xuXG52YXIgX21hcmtlZCA9IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZmV0Y2hMb2dpbiksXG4gICAgX21hcmtlZDIgPSAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZldGNoQXV0aCksXG4gICAgX21hcmtlZDMgPSAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZldGNoTG9nb3V0KSxcbiAgICBfbWFya2VkNCA9IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZmV0Y2hSZWZyZXNoVG9rZW5zKSxcbiAgICBfbWFya2VkNSA9IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZmV0Y2hBZGRDYXRlZ29yeSksXG4gICAgX21hcmtlZDYgPSAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZldGNoQWxsQ2F0ZWdvcnlzKSxcbiAgICBfbWFya2VkNyA9IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZmV0Y2hVcGRhdGVDYXRlZ29yeSksXG4gICAgX21hcmtlZDggPSAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZldGNoRGVsZXRlQ2F0ZWdvcnkpLFxuICAgIF9tYXJrZWQ5ID0gLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmZXRjaEFsbExpc3RzV2l0aENhdGVnb3J5cyksXG4gICAgX21hcmtlZDEwID0gLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmZXRjaEFkZExpc3RJdGVtKSxcbiAgICBfbWFya2VkMTEgPSAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZldGNoVXBkYXRlTGlzdEl0ZW0pLFxuICAgIF9tYXJrZWQxMiA9IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZmV0Y2hEZWxldGVMaXN0SXRlbSksXG4gICAgX21hcmtlZDEzID0gLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhzYWdhcyk7XG5cbmltcG9ydCB7IGNhbGwsIHB1dCwgdGFrZUV2ZXJ5IH0gZnJvbSAncmVkdXgtc2FnYS9lZmZlY3RzJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vYXBpJztcbmltcG9ydCB7IHNhdmVUb2tlbnNUb1N0b3JhZ2UsIGNsZWFyVG9rZW5zRnJvbVN0b3JhZ2UgfSBmcm9tICcuLi91dGlscy90b2tlbnMnO1xuaW1wb3J0IHsgbm9ybWFsaXplTGlzdHMsIG5vcm1hbGl6ZUNhdGVnb3J5cyB9IGZyb20gXCIuLi91dGlscy9ub3JtYWxpemVcIjtcbmltcG9ydCB7IHVwZERhdGFJblN0b3JlQWN0aW9uLCB1cGRPbmVDYXRlZ29yeUluU3RvcmVBY3Rpb24sIGFkZENhdGVnb3J5SW5TdG9yZUFjdGlvbiwgbG9naW5Vc2VyQWN0aW9uLCBsb2dvdXRVc2VyQWN0aW9uLCBsb2dpbkVycm9yQWN0aW9uLCByZWZyZXNoVG9rZW5zQWN0aW9uLCBhdXRoUmVxdWVzdEFjdGlvbiwgYWRkTGlzdEl0ZW1JblN0b3JlQWN0aW9uLCBkZWxPbmVDYXRlZ29yeUluU3RvcmVBY3Rpb24sIHVwZE9uZUxpc3RJdGVtSW5TdG9yZUFjdGlvbiwgZGVsT25lTGlzdEl0ZW1JblN0b3JlQWN0aW9uIH0gZnJvbSAnLi4vc3RvcmUvYWN0aW9ucyc7XG52YXIgYXBpID0gbmV3IEFwaSgpO1xuXG5mdW5jdGlvbiBmZXRjaExvZ2luKGFjdGlvbikge1xuICB2YXIgdXNlcjtcbiAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBmZXRjaExvZ2luJChfY29udGV4dCkge1xuICAgIHdoaWxlICgxKSB7XG4gICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDtcbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICByZXR1cm4gY2FsbChhcGkubG9naW5SZXF1ZXN0LCBhY3Rpb24ucGF5bG9hZCk7XG5cbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHVzZXIgPSBfY29udGV4dC5zZW50O1xuXG4gICAgICAgICAgaWYgKHVzZXIuZXJyb3IpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghdXNlci50b2tlbnMpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7XG4gICAgICAgICAgcmV0dXJuIGNhbGwoc2F2ZVRva2Vuc1RvU3RvcmFnZSwgdXNlci50b2tlbnMpO1xuXG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7XG4gICAgICAgICAgcmV0dXJuIHB1dChsb2dpblVzZXJBY3Rpb24odXNlcikpO1xuXG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0O1xuICAgICAgICAgIHJldHVybiBwdXQobG9naW5FcnJvckFjdGlvbih1c2VyLmVycm9yKSk7XG5cbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTY7XG4gICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDApO1xuICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgX21hcmtlZCwgbnVsbCwgW1swLCAxNl1dKTtcbn1cblxuZnVuY3Rpb24gZmV0Y2hBdXRoKCkge1xuICB2YXIgdXNlcjtcbiAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBmZXRjaEF1dGgkKF9jb250ZXh0Mikge1xuICAgIHdoaWxlICgxKSB7XG4gICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDtcbiAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7XG4gICAgICAgICAgcmV0dXJuIGNhbGwoYXBpLmdldEF1dGhEYXRhQnlTZXNzaW9uKTtcblxuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgdXNlciA9IF9jb250ZXh0Mi5zZW50O1xuXG4gICAgICAgICAgaWYgKHVzZXIuZXJyb3IpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNztcbiAgICAgICAgICByZXR1cm4gcHV0KGxvZ2luVXNlckFjdGlvbih1c2VyKSk7XG5cbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIGlmICghKHVzZXIuZXJyb3IuY29kZSA9PT0gJ2wwMycpKSB7XG4gICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjtcbiAgICAgICAgICByZXR1cm4gcHV0KHJlZnJlc2hUb2tlbnNBY3Rpb24oYXV0aFJlcXVlc3RBY3Rpb24oKSkpO1xuXG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7XG4gICAgICAgICAgcmV0dXJuIHB1dChsb2dpblVzZXJBY3Rpb24oe1xuICAgICAgICAgICAgdXNlck5hbWU6IG51bGwsXG4gICAgICAgICAgICBpc0xvZ2luOiBmYWxzZVxuICAgICAgICAgIH0pKTtcblxuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjE7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE4O1xuICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MltcImNhdGNoXCJdKDApO1xuICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MC5tZXNzYWdlKTtcblxuICAgICAgICBjYXNlIDIxOlxuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBfbWFya2VkMiwgbnVsbCwgW1swLCAxOF1dKTtcbn1cblxuZnVuY3Rpb24gZmV0Y2hMb2dvdXQoKSB7XG4gIHZhciByZXNwb25zZTtcbiAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBmZXRjaExvZ291dCQoX2NvbnRleHQzKSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAwO1xuICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMztcbiAgICAgICAgICByZXR1cm4gY2FsbChhcGkubG9nb3V0UmVxdWVzdCk7XG5cbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7XG5cbiAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7XG4gICAgICAgICAgcmV0dXJuIGNhbGwoY2xlYXJUb2tlbnNGcm9tU3RvcmFnZSk7XG5cbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTtcbiAgICAgICAgICByZXR1cm4gcHV0KGxvZ291dFVzZXJBY3Rpb24oKSk7XG5cbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5lcnJvcik7XG5cbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNDtcbiAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbXCJjYXRjaFwiXSgwKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDMudDAubWVzc2FnZSk7XG5cbiAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgX21hcmtlZDMsIG51bGwsIFtbMCwgMTRdXSk7XG59XG5cbmZ1bmN0aW9uIGZldGNoUmVmcmVzaFRva2VucyhuZXh0QWN0aW9uKSB7XG4gIHZhciByZXNwb25zZTtcbiAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBmZXRjaFJlZnJlc2hUb2tlbnMkKF9jb250ZXh0NCkge1xuICAgIHdoaWxlICgxKSB7XG4gICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjtcbiAgICAgICAgICByZXR1cm4gY2FsbChhcGkucmVmcmVzaFRva2Vucyk7XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ0LnNlbnQ7XG5cbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7XG4gICAgICAgICAgcmV0dXJuIHB1dChsb2dpblVzZXJBY3Rpb24oe1xuICAgICAgICAgICAgdXNlck5hbWU6IG51bGwsXG4gICAgICAgICAgICBpc0xvZ2luOiBmYWxzZVxuICAgICAgICAgIH0pKTtcblxuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMDtcbiAgICAgICAgICByZXR1cm4gY2FsbChzYXZlVG9rZW5zVG9TdG9yYWdlLCByZXNwb25zZS50b2tlbnMpO1xuXG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMjtcbiAgICAgICAgICByZXR1cm4gcHV0KG5leHRBY3Rpb24ucGF5bG9hZCk7XG5cbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgX21hcmtlZDQpO1xufVxuXG5mdW5jdGlvbiBmZXRjaEFkZENhdGVnb3J5KGFjdGlvbikge1xuICB2YXIgcmVzcG9uc2U7XG4gIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZmV0Y2hBZGRDYXRlZ29yeSQoX2NvbnRleHQ1KSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyO1xuICAgICAgICAgIHJldHVybiBjYWxsKGFwaS5hZGRDYXRlZ29yeVJlcXVlc3QsIGFjdGlvbi5wYXlsb2FkKTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7XG4gICAgICAgICAgcmV0dXJuIHB1dChhZGRDYXRlZ29yeUluU3RvcmVBY3Rpb24ocmVzcG9uc2UuY2F0ZWdvcnkpKTtcblxuICAgICAgICBjYXNlIDU6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIF9tYXJrZWQ1KTtcbn1cblxuZnVuY3Rpb24gZmV0Y2hBbGxDYXRlZ29yeXMoYWN0aW9uKSB7XG4gIHZhciByZXNwb25zZTtcbiAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBmZXRjaEFsbENhdGVnb3J5cyQoX2NvbnRleHQ2KSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyO1xuICAgICAgICAgIHJldHVybiBjYWxsKGFwaS5nZXRBbGxDYXRlZ29yeXMsIGFjdGlvbi5wYXlsb2FkLnVzZXJJZCk7XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ2LnNlbnQ7XG4gICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1O1xuICAgICAgICAgIHJldHVybiBwdXQodXBkRGF0YUluU3RvcmVBY3Rpb24obm9ybWFsaXplQ2F0ZWdvcnlzKHJlc3BvbnNlKSkpO1xuXG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgX21hcmtlZDYpO1xufVxuXG5mdW5jdGlvbiBmZXRjaFVwZGF0ZUNhdGVnb3J5KGFjdGlvbikge1xuICB2YXIgcmVzcG9uc2U7XG4gIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZmV0Y2hVcGRhdGVDYXRlZ29yeSQoX2NvbnRleHQ3KSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyO1xuICAgICAgICAgIHJldHVybiBjYWxsKGFwaS51cGRDYXRlZ29yeVJlcXVlc3QsIGFjdGlvbi5wYXlsb2FkLmNhdGVnb3J5KTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDcuc2VudDtcbiAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDU7XG4gICAgICAgICAgcmV0dXJuIHB1dCh1cGRPbmVDYXRlZ29yeUluU3RvcmVBY3Rpb24ocmVzcG9uc2UuY2F0ZWdvcnkpKTtcblxuICAgICAgICBjYXNlIDU6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIF9tYXJrZWQ3KTtcbn1cblxuZnVuY3Rpb24gZmV0Y2hEZWxldGVDYXRlZ29yeShhY3Rpb24pIHtcbiAgdmFyIHJlc3BvbnNlO1xuICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGZldGNoRGVsZXRlQ2F0ZWdvcnkkKF9jb250ZXh0OCkge1xuICAgIHdoaWxlICgxKSB7XG4gICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjtcbiAgICAgICAgICByZXR1cm4gY2FsbChhcGkuZGVsQ2F0ZWdvcnlSZXF1ZXN0LCBhY3Rpb24ucGF5bG9hZC5jYXRlZ29yeSk7XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ4LnNlbnQ7XG4gICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA1O1xuICAgICAgICAgIHJldHVybiBwdXQoZGVsT25lQ2F0ZWdvcnlJblN0b3JlQWN0aW9uKHJlc3BvbnNlLmNhdGVnb3J5KSk7XG5cbiAgICAgICAgY2FzZSA1OlxuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBfbWFya2VkOCk7XG59XG5cbmZ1bmN0aW9uIGZldGNoQWxsTGlzdHNXaXRoQ2F0ZWdvcnlzKGFjdGlvbikge1xuICB2YXIgcmVzcG9uc2UsIGRhdGE7XG4gIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZmV0Y2hBbGxMaXN0c1dpdGhDYXRlZ29yeXMkKF9jb250ZXh0OSkge1xuICAgIHdoaWxlICgxKSB7XG4gICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjtcbiAgICAgICAgICByZXR1cm4gY2FsbChhcGkuZ2V0QWxsTGlzdHNXaXRoQ2F0ZWdvcnlzLCBhY3Rpb24ucGF5bG9hZC51c2VySWRBbmREYXRlUmFuZ2UpO1xuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0OS5zZW50O1xuICAgICAgICAgIGRhdGEgPSBub3JtYWxpemVMaXN0cyhyZXNwb25zZSk7XG4gICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA2O1xuICAgICAgICAgIHJldHVybiBwdXQodXBkRGF0YUluU3RvcmVBY3Rpb24oZGF0YSkpO1xuXG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgX21hcmtlZDkpO1xufVxuXG5mdW5jdGlvbiBmZXRjaEFkZExpc3RJdGVtKGFjdGlvbikge1xuICB2YXIgcmVzcG9uc2U7XG4gIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZmV0Y2hBZGRMaXN0SXRlbSQoX2NvbnRleHQxMCkge1xuICAgIHdoaWxlICgxKSB7XG4gICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjtcbiAgICAgICAgICByZXR1cm4gY2FsbChhcGkuYWRkTGlzdEl0ZW1SZXF1ZXN0LCBhY3Rpb24ucGF5bG9hZC5saXN0SXRlbSk7XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxMC5zZW50O1xuICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDU7XG4gICAgICAgICAgcmV0dXJuIHB1dChhZGRMaXN0SXRlbUluU3RvcmVBY3Rpb24ocmVzcG9uc2UubGlzdEl0ZW0pKTtcblxuICAgICAgICBjYXNlIDU6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBfbWFya2VkMTApO1xufVxuXG5mdW5jdGlvbiBmZXRjaFVwZGF0ZUxpc3RJdGVtKGFjdGlvbikge1xuICB2YXIgcmVzcG9uc2U7XG4gIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZmV0Y2hVcGRhdGVMaXN0SXRlbSQoX2NvbnRleHQxMSkge1xuICAgIHdoaWxlICgxKSB7XG4gICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjtcbiAgICAgICAgICByZXR1cm4gY2FsbChhcGkudXBkTGlzdEl0ZW1SZXF1ZXN0LCBhY3Rpb24ucGF5bG9hZC5saXN0SXRlbSk7XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxMS5zZW50O1xuICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDU7XG4gICAgICAgICAgcmV0dXJuIHB1dCh1cGRPbmVMaXN0SXRlbUluU3RvcmVBY3Rpb24ocmVzcG9uc2UubGlzdEl0ZW0pKTtcblxuICAgICAgICBjYXNlIDU6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBfbWFya2VkMTEpO1xufVxuXG5mdW5jdGlvbiBmZXRjaERlbGV0ZUxpc3RJdGVtKGFjdGlvbikge1xuICB2YXIgcmVzcG9uc2U7XG4gIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZmV0Y2hEZWxldGVMaXN0SXRlbSQoX2NvbnRleHQxMikge1xuICAgIHdoaWxlICgxKSB7XG4gICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMjtcbiAgICAgICAgICByZXR1cm4gY2FsbChhcGkuZGVsTGlzdEl0ZW1SZXF1ZXN0LCBhY3Rpb24ucGF5bG9hZC5saXN0SXRlbSk7XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxMi5zZW50O1xuICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDU7XG4gICAgICAgICAgcmV0dXJuIHB1dChkZWxPbmVMaXN0SXRlbUluU3RvcmVBY3Rpb24ocmVzcG9uc2UubGlzdEl0ZW0pKTtcblxuICAgICAgICBjYXNlIDU6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBfbWFya2VkMTIpO1xufVxuXG5mdW5jdGlvbiBzYWdhcygpIHtcbiAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzYWdhcyQoX2NvbnRleHQxMykge1xuICAgIHdoaWxlICgxKSB7XG4gICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjtcbiAgICAgICAgICByZXR1cm4gdGFrZUV2ZXJ5KFwiTE9HSU5fUkVRVUVTVFwiLCBmZXRjaExvZ2luKTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNDtcbiAgICAgICAgICByZXR1cm4gdGFrZUV2ZXJ5KFwiQVVUSF9SRVFVRVNUXCIsIGZldGNoQXV0aCk7XG5cbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDY7XG4gICAgICAgICAgcmV0dXJuIHRha2VFdmVyeShcIlJFRlJFU0hfVE9LRU5TX1JFUVVFU1RcIiwgZmV0Y2hSZWZyZXNoVG9rZW5zKTtcblxuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gODtcbiAgICAgICAgICByZXR1cm4gdGFrZUV2ZXJ5KFwiTE9HT1VUX1JFUVVFU1RcIiwgZmV0Y2hMb2dvdXQpO1xuXG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMDtcbiAgICAgICAgICByZXR1cm4gdGFrZUV2ZXJ5KFwiQUREX0NBVEVHT1JZX1JFUVVFU1RcIiwgZmV0Y2hBZGRDYXRlZ29yeSk7XG5cbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMjtcbiAgICAgICAgICByZXR1cm4gdGFrZUV2ZXJ5KFwiR0VUX0NBVEVHT1JZU19SRVFVRVNUXCIsIGZldGNoQWxsQ2F0ZWdvcnlzKTtcblxuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE0O1xuICAgICAgICAgIHJldHVybiB0YWtlRXZlcnkoXCJVUERfT05FX0NBVEVHT1JZX1JFUVVFU1RcIiwgZmV0Y2hVcGRhdGVDYXRlZ29yeSk7XG5cbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxNjtcbiAgICAgICAgICByZXR1cm4gdGFrZUV2ZXJ5KFwiR0VUX0xJU1RTX1JFUVVFU1RcIiwgZmV0Y2hBbGxMaXN0c1dpdGhDYXRlZ29yeXMpO1xuXG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTg7XG4gICAgICAgICAgcmV0dXJuIHRha2VFdmVyeShcIkFERF9MSVNUX0lURU1fUkVRVUVTVFwiLCBmZXRjaEFkZExpc3RJdGVtKTtcblxuICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDIwO1xuICAgICAgICAgIHJldHVybiB0YWtlRXZlcnkoXCJERUxfT05FX0NBVEVHT1JZX1JFUVVFU1RcIiwgZmV0Y2hEZWxldGVDYXRlZ29yeSk7XG5cbiAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyMjtcbiAgICAgICAgICByZXR1cm4gdGFrZUV2ZXJ5KFwiVVBEX09ORV9MSVNUX0lURU1fUkVRVUVTVFwiLCBmZXRjaFVwZGF0ZUxpc3RJdGVtKTtcblxuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI0O1xuICAgICAgICAgIHJldHVybiB0YWtlRXZlcnkoXCJERUxfT05FX0xJU1RfSVRFTV9SRVFVRVNUXCIsIGZldGNoRGVsZXRlTGlzdEl0ZW0pO1xuXG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBfbWFya2VkMTMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzYWdhczsiLCJpbXBvcnQgeyBpbml0aWFsU3RhdGUgfSBmcm9tICcuL2luZGV4JztcbmltcG9ydCB7IGNsb25lIH0gZnJvbSAncmFtZGEnO1xuZXhwb3J0IGZ1bmN0aW9uIHJldHVyblN0YXRlUmVkdWNlcigpIHtcbiAgdmFyIHByZXZTdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogaW5pdGlhbFN0YXRlO1xuICByZXR1cm4gcHJldlN0YXRlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVzZXJSZWR1Y2VyKCkge1xuICB2YXIgcHJldlN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBpbml0aWFsU3RhdGU7XG4gIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBcIkxPR0lOX1NUT1JFXCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGFjdGlvbi5wYXlsb2FkLmlkLFxuICAgICAgICAgIG5hbWU6IGFjdGlvbi5wYXlsb2FkLnVzZXJOYW1lLFxuICAgICAgICAgIGlzTG9naW46IGFjdGlvbi5wYXlsb2FkLmlzTG9naW5cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgIGNhc2UgXCJMT0dPVVRfU1RPUkVcIjpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogbnVsbCxcbiAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgIGlzTG9naW46IGZhbHNlLFxuICAgICAgICAgIGxvZ2luRXJyb3JNZXM6IG51bGxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgIGNhc2UgXCJMT0dJTl9FUlJPUl9TVE9SRVwiOlxuICAgICAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxvZ2luRXJyb3JNZXM6IGFjdGlvbi5wYXlsb2FkLmVycm9yLm1lc1xuICAgICAgICB9O1xuICAgICAgfVxuICB9XG5cbiAgcmV0dXJuIHByZXZTdGF0ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b29nbGVDYXRlZ29yeVJlZHVjZXIoKSB7XG4gIHZhciBwcmV2U3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGluaXRpYWxTdGF0ZTtcbiAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFwiVE9HR0xFX0NBVEVHT1JZU19UWVBFX1NUT1JFXCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBhY3Rpb24ucGF5bG9hZC5jYXRlZ29yeVR5cGU7XG4gICAgICB9XG4gIH1cblxuICByZXR1cm4gcHJldlN0YXRlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRhdGFSZWR1Y2VyKCkge1xuICB2YXIgcHJldlN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBpbml0aWFsU3RhdGU7XG4gIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBcIlVQRF9EQVRBX1NUT1JFXCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBhY3Rpb24ucGF5bG9hZC5jYXRlZ29yeXM7XG4gICAgICB9XG5cbiAgICBjYXNlIFwiQUREX05FV19DQVRFR09SWV9TVE9SRVwiOlxuICAgICAge1xuICAgICAgICB2YXIgZGF0YSA9IGNsb25lKHByZXZTdGF0ZSk7XG4gICAgICAgIGlmICghZGF0YS5lbnRpdGllcy5jYXRlZ29yeXMpIGRhdGEuZW50aXRpZXMuY2F0ZWdvcnlzID0ge307XG4gICAgICAgIGRhdGEuZW50aXRpZXMuY2F0ZWdvcnlzW2FjdGlvbi5wYXlsb2FkLmNhdGVnb3J5LmlkXSA9IGFjdGlvbi5wYXlsb2FkLmNhdGVnb3J5O1xuICAgICAgICBkYXRhLnJlc3VsdC5jYXRlZ29yeXMucHVzaChhY3Rpb24ucGF5bG9hZC5jYXRlZ29yeS5pZCk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuXG4gICAgY2FzZSBcIkFERF9ORVdfTElTVF9JVEVNX1NUT1JFXCI6XG4gICAgICB7XG4gICAgICAgIHZhciBfZGF0YSA9IGNsb25lKHByZXZTdGF0ZSk7XG5cbiAgICAgICAgaWYgKCFfZGF0YS5lbnRpdGllcy5saXN0KSBfZGF0YS5lbnRpdGllcy5saXN0ID0ge307XG4gICAgICAgIF9kYXRhLmVudGl0aWVzLmxpc3RbYWN0aW9uLnBheWxvYWQubGlzdEl0ZW0uaWRdID0gYWN0aW9uLnBheWxvYWQubGlzdEl0ZW07XG5cbiAgICAgICAgX2RhdGEuZW50aXRpZXMuY2F0ZWdvcnlzW2FjdGlvbi5wYXlsb2FkLmxpc3RJdGVtLmNhdGVnb3J5SWRdLmxpc3QudW5zaGlmdChhY3Rpb24ucGF5bG9hZC5saXN0SXRlbS5pZCk7XG5cbiAgICAgICAgX2RhdGEuZW50aXRpZXMuY2F0ZWdvcnlzW2FjdGlvbi5wYXlsb2FkLmxpc3RJdGVtLmNhdGVnb3J5SWRdLnRvdGFsU3VtICs9IGFjdGlvbi5wYXlsb2FkLmxpc3RJdGVtLnN1bTtcbiAgICAgICAgcmV0dXJuIF9kYXRhO1xuICAgICAgfVxuXG4gICAgY2FzZSBcIlVQRF9PTkVfQ0FURUdPUllfU1RPUkVcIjpcbiAgICAgIHtcbiAgICAgICAgdmFyIF9kYXRhMiA9IGNsb25lKHByZXZTdGF0ZSk7XG5cbiAgICAgICAgX2RhdGEyLmVudGl0aWVzLmNhdGVnb3J5c1thY3Rpb24ucGF5bG9hZC5jYXRlZ29yeS5pZF0gPSBhY3Rpb24ucGF5bG9hZC5jYXRlZ29yeTtcbiAgICAgICAgcmV0dXJuIF9kYXRhMjtcbiAgICAgIH1cblxuICAgIGNhc2UgXCJVUERfT05FX0xJU1RfSVRFTV9TVE9SRVwiOlxuICAgICAge1xuICAgICAgICB2YXIgX2RhdGEzID0gY2xvbmUocHJldlN0YXRlKTtcblxuICAgICAgICB2YXIgbGlzdEl0ZW0gPSBhY3Rpb24ucGF5bG9hZC5saXN0SXRlbTtcbiAgICAgICAgdmFyIHByZXZTdW0gPSBwcmV2U3RhdGUuZW50aXRpZXMubGlzdFtsaXN0SXRlbS5pZF0uc3VtO1xuICAgICAgICBfZGF0YTMuZW50aXRpZXMubGlzdFtsaXN0SXRlbS5pZF0gPSBsaXN0SXRlbTtcbiAgICAgICAgX2RhdGEzLmVudGl0aWVzLmNhdGVnb3J5c1tsaXN0SXRlbS5jYXRlZ29yeUlkXS50b3RhbFN1bSAtPSBwcmV2U3VtO1xuICAgICAgICBfZGF0YTMuZW50aXRpZXMuY2F0ZWdvcnlzW2xpc3RJdGVtLmNhdGVnb3J5SWRdLnRvdGFsU3VtICs9IGxpc3RJdGVtLnN1bTtcbiAgICAgICAgcmV0dXJuIF9kYXRhMztcbiAgICAgIH1cblxuICAgIGNhc2UgXCJERUxfT05FX0NBVEVHT1JZX1NUT1JFXCI6XG4gICAgICB7XG4gICAgICAgIHZhciBfZGF0YTQgPSBjbG9uZShwcmV2U3RhdGUpO1xuXG4gICAgICAgIGRlbGV0ZSBfZGF0YTQuZW50aXRpZXMuY2F0ZWdvcnlzW2FjdGlvbi5wYXlsb2FkLmNhdGVnb3J5LmlkXTtcbiAgICAgICAgX2RhdGE0LnJlc3VsdC5jYXRlZ29yeXMgPSBfZGF0YTQucmVzdWx0LmNhdGVnb3J5cy5maWx0ZXIoZnVuY3Rpb24gKGNhdGVnb3J5SWQpIHtcbiAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlJZCAhPT0gYWN0aW9uLnBheWxvYWQuY2F0ZWdvcnkuaWQ7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX2RhdGE0O1xuICAgICAgfVxuXG4gICAgY2FzZSBcIkRFTF9PTkVfTElTVF9JVEVNX1NUT1JFXCI6XG4gICAgICB7XG4gICAgICAgIHZhciBfZGF0YTUgPSBjbG9uZShwcmV2U3RhdGUpO1xuXG4gICAgICAgIHZhciBfbGlzdEl0ZW0gPSBhY3Rpb24ucGF5bG9hZC5saXN0SXRlbTtcblxuICAgICAgICB2YXIgbmV3TGlzdEFyciA9IF9kYXRhNS5lbnRpdGllcy5jYXRlZ29yeXNbX2xpc3RJdGVtLmNhdGVnb3J5SWRdLmxpc3QuZmlsdGVyKGZ1bmN0aW9uIChsaXN0SWQpIHtcbiAgICAgICAgICByZXR1cm4gbGlzdElkICE9PSBfbGlzdEl0ZW0uaWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF9kYXRhNS5lbnRpdGllcy5jYXRlZ29yeXNbX2xpc3RJdGVtLmNhdGVnb3J5SWRdLmxpc3QgPSBuZXdMaXN0QXJyO1xuICAgICAgICBfZGF0YTUuZW50aXRpZXMuY2F0ZWdvcnlzW19saXN0SXRlbS5jYXRlZ29yeUlkXS50b3RhbFN1bSAtPSBfbGlzdEl0ZW0uc3VtO1xuICAgICAgICBkZWxldGUgX2RhdGE1LmVudGl0aWVzLmxpc3RbX2xpc3RJdGVtLmlkXTtcbiAgICAgICAgcmV0dXJuIF9kYXRhNTtcbiAgICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcmV2U3RhdGU7XG59IiwiaW1wb3J0IHsgY3JlYXRlU3RvcmUsIGNvbWJpbmVSZWR1Y2VycywgYXBwbHlNaWRkbGV3YXJlIH0gZnJvbSBcInJlZHV4XCI7XG5pbXBvcnQgY3JlYXRlU2FnYU1pZGRsZXdhcmUgZnJvbSAncmVkdXgtc2FnYSc7XG5pbXBvcnQgc2FnYXMgZnJvbSAnLi9zYWdhcyc7XG5pbXBvcnQgeyByZXR1cm5TdGF0ZVJlZHVjZXIsIHRvb2dsZUNhdGVnb3J5UmVkdWNlciwgdXNlclJlZHVjZXIsIGRhdGFSZWR1Y2VyIH0gZnJvbSBcIi4vcmVkdWNlcnNcIjtcbnZhciBzYWdhTWlkZGxld2FyZSA9IGNyZWF0ZVNhZ2FNaWRkbGV3YXJlKCk7XG5leHBvcnQgdmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgdXNlcjoge1xuICAgIGlkOiBudWxsLFxuICAgIG5hbWU6IG51bGwsXG4gICAgaXNMb2dpbjogbnVsbCxcbiAgICBsb2dpbkVycm9yTWVzOiBudWxsXG4gIH0sXG4gIHRvZ2dsZUNhdGVnb3J5OiAnZXhwZW5zZScsXG4gIG1lbnU6IFt7XG4gICAgdGl0bGU6ICfQrdGC0L7RgiDQvNC10YHRj9GGJyxcbiAgICBsaW5rOiAnbW9udGgnXG4gIH0sIHtcbiAgICB0aXRsZTogJ9Cf0YDQvtGI0LvRi9C5INC80LXRgdGP0YYnLFxuICAgIGxpbms6ICdsYXN0LW1vbnRoJ1xuICB9LCB7XG4gICAgdGl0bGU6ICfQqNC10YHRgtGMINC80LXRgdGP0YbQtdCyJyxcbiAgICBsaW5rOiAnaGFsZi15ZWFyJ1xuICB9LCB7XG4gICAgdGl0bGU6ICfQrdGC0L7RgiDQs9C+0LQnLFxuICAgIGxpbms6ICd5ZWFyJ1xuICB9XSxcbiAgZGF0YTogbnVsbFxufTtcbnZhciByZWR1Y2VyID0gY29tYmluZVJlZHVjZXJzKHtcbiAgdXNlcjogdXNlclJlZHVjZXIsXG4gIG1lbnU6IHJldHVyblN0YXRlUmVkdWNlcixcbiAgZGF0YTogZGF0YVJlZHVjZXIsXG4gIHRvZ2dsZUNhdGVnb3J5OiB0b29nbGVDYXRlZ29yeVJlZHVjZXJcbn0pO1xuZXhwb3J0IHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgYXBwbHlNaWRkbGV3YXJlKHNhZ2FNaWRkbGV3YXJlKSk7XG5zYWdhTWlkZGxld2FyZS5ydW4oc2FnYXMpOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5cbnZhciBNZW51SXRlbSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKE1lbnVJdGVtLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNZW51SXRlbSk7XG5cbiAgZnVuY3Rpb24gTWVudUl0ZW0ocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVudUl0ZW0pO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNZW51SXRlbSwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgICAgIGhyZWY6IFwiL1wiLmNvbmNhdCh0aGlzLnByb3BzLmxpbmspLFxuICAgICAgICBjbGFzc05hbWU6IFwiYnV0dG9uIGJ1dHRvbl9wZXJpb2RcIlxuICAgICAgfSwgdGhpcy5wcm9wcy50aXRsZSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNZW51SXRlbTtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IE1lbnVJdGVtIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgTWVudUl0ZW0gZnJvbSAnLi9jb21wb25lbnQnO1xuZXhwb3J0IGRlZmF1bHQgTWVudUl0ZW07IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBNZW51SXRlbSBmcm9tICcuLi9NZW51SXRlbSc7XG5cbnZhciBNZW51Q29tcG9uZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTWVudUNvbXBvbmVudCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoTWVudUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTWVudUNvbXBvbmVudChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZW51Q29tcG9uZW50KTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWVudUNvbXBvbmVudCwgW3tcbiAgICBrZXk6IFwicmVuZGVySXRlbXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVySXRlbXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5tZW51Lm1hcChmdW5jdGlvbiAobWVudUl0ZW0sIGkpIHtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1lbnVJdGVtLCB7XG4gICAgICAgICAga2V5OiBpLFxuICAgICAgICAgIHRpdGxlOiBtZW51SXRlbS50aXRsZSxcbiAgICAgICAgICBsaW5rOiBtZW51SXRlbS5saW5rXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJuYXZcIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJtZW51XCJcbiAgICAgIH0sIHRoaXMucmVuZGVySXRlbXMoKSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNZW51Q29tcG9uZW50O1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IHsgTWVudUNvbXBvbmVudCBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgTWVudUNvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICBtZW51OiBzdGF0ZS5tZW51XG4gIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7fTtcbn07XG5cbmV4cG9ydCB2YXIgTWVudSA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKE1lbnVDb21wb25lbnQpOyIsImltcG9ydCB7IE1lbnUgfSBmcm9tICcuL2NvbnRhaW5lcic7XG5leHBvcnQgZGVmYXVsdCBNZW51OyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5cbnZhciBVc2VyTG9nb3V0TGlua0NvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFVzZXJMb2dvdXRMaW5rQ29tcG9uZW50LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihVc2VyTG9nb3V0TGlua0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVXNlckxvZ291dExpbmtDb21wb25lbnQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVXNlckxvZ291dExpbmtDb21wb25lbnQpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhVc2VyTG9nb3V0TGlua0NvbXBvbmVudCwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ1c2VyXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInVzZXItbmFtZVwiXG4gICAgICB9LCB0aGlzLnByb3BzLnVzZXJOYW1lKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICBvbkNsaWNrOiB0aGlzLnByb3BzLmxvZ291dCxcbiAgICAgICAgY2xhc3NOYW1lOiBcInVzZXItbG9nb3V0XCJcbiAgICAgIH0sIFwiXFx1MDQxMlxcdTA0NEJcXHUwNDQ1XFx1MDQzRVxcdTA0MzRcIikpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBVc2VyTG9nb3V0TGlua0NvbXBvbmVudDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IFVzZXJMb2dvdXRMaW5rQ29tcG9uZW50IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBVc2VyTG9nb3V0TGlua0NvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBsb2dvdXRBY3Rpb24gfSBmcm9tIFwiLi4vLi4vc3RvcmUvYWN0aW9uc1wiO1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdXNlck5hbWU6IHN0YXRlLnVzZXIubmFtZVxuICB9O1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKGxvZ291dEFjdGlvbigpKTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgdmFyIFVzZXJMb2dvdXRMaW5rID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoVXNlckxvZ291dExpbmtDb21wb25lbnQpOyIsImltcG9ydCB7IFVzZXJMb2dvdXRMaW5rIH0gZnJvbSAnLi9jb250YWluZXInO1xuZXhwb3J0IGRlZmF1bHQgVXNlckxvZ291dExpbms7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIFNldHVwTGluaygpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgaHJlZjogXCIvc2V0dXAvXCIsXG4gICAgY2xhc3NOYW1lOiBcImJ1dHRvbi1zZXR1cFwiXG4gIH0sIFwiXFx1MDQxRFxcdTA0MzBcXHUwNDQxXFx1MDQ0MlxcdTA0NDBcXHUwNDNFXFx1MDQzOVxcdTA0M0FcXHUwNDM4XCIpO1xufSIsImltcG9ydCB7IFNldHVwTGluayB9IGZyb20gJy4vY29tcG9uZW50JztcbmV4cG9ydCBkZWZhdWx0IFNldHVwTGluazsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IE1lbnUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9NZW51JztcbmltcG9ydCBVc2VyTG9nb3V0TGluayBmcm9tICcuLi8uLi9jb21wb25lbnRzL1VzZXJMb2dvdXRMaW5rJztcbmltcG9ydCBTZXR1cExpbmsgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9TZXR1cExpbmsnO1xuXG52YXIgSGVhZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhIZWFkZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSGVhZGVyKTtcblxuICBmdW5jdGlvbiBIZWFkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWRlcik7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSGVhZGVyLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInRvcFwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNZW51LCBudWxsKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibWVudS1zZXR1cFwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZXR1cExpbmssIG51bGwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChVc2VyTG9nb3V0TGluaywgbnVsbCkpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSGVhZGVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgeyBIZWFkZXIgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcblxudmFyIENoYXJ0c0l0ZW0gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDaGFydHNJdGVtLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDaGFydHNJdGVtKTtcblxuICBmdW5jdGlvbiBDaGFydHNJdGVtKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYXJ0c0l0ZW0pO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjaGFydFN0eWxlTmFtZTogXCJ3aWR0aFwiXG4gICAgfTtcbiAgICBfdGhpcy51cGRhdGVDaGFydERpbWVuc2lvbiA9IF90aGlzLnVwZGF0ZUNoYXJ0RGltZW5zaW9uLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDaGFydHNJdGVtLCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2hhcnREaW1lbnNpb24oKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMudXBkYXRlQ2hhcnREaW1lbnNpb24pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMudXBkYXRlQ2hhcnREaW1lbnNpb24pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVDaGFydERpbWVuc2lvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDaGFydERpbWVuc2lvbigpIHtcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA0ODApIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY2hhcnRTdHlsZU5hbWU6IFwiaGVpZ2h0XCJcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjaGFydFN0eWxlTmFtZTogXCJ3aWR0aFwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNoYXJ0XCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgc3R5bGU6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgdGhpcy5zdGF0ZS5jaGFydFN0eWxlTmFtZSwgXCJcIi5jb25jYXQodGhpcy5wcm9wcy5wZXJzZW50LCBcIiVcIikpLFxuICAgICAgICBjbGFzc05hbWU6IFwiY2hhcnQtbGluZSBjaGFydC1saW5lX1wiLmNvbmNhdCh0aGlzLnByb3BzLnR5cGUpXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2hhcnQtdHh0XCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNoYXJ0LXR4dF90aXRsZVwiXG4gICAgICB9LCB0aGlzLnByb3BzLnRpdGxlKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2hhcnQtdHh0X3ZhbFwiXG4gICAgICB9LCB0aGlzLnByb3BzLnN1bSwgXCIgXFx1MjBCRFwiKSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDaGFydHNJdGVtO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IHsgQ2hhcnRzSXRlbSBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IENoYXJ0c0l0ZW0gZnJvbSAnLi9jb21wb25lbnQnO1xuZXhwb3J0IGRlZmF1bHQgQ2hhcnRzSXRlbTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IENoYXJ0c0l0ZW0gZnJvbSAnLi4vQ2hhcnRzSXRlbSc7XG5cbnZhciBDaGFydHNDb21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDaGFydHNDb21wb25lbnQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENoYXJ0c0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2hhcnRzQ29tcG9uZW50KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYXJ0c0NvbXBvbmVudCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENoYXJ0c0NvbXBvbmVudCwgW3tcbiAgICBrZXk6IFwicmVuZGVySXRlbXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVySXRlbXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGFydHMubWFwKGZ1bmN0aW9uIChjaGFydHNJdGVtLCBpKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDaGFydHNJdGVtLCB7XG4gICAgICAgICAga2V5OiBpLFxuICAgICAgICAgIHRpdGxlOiBjaGFydHNJdGVtLnRpdGxlLFxuICAgICAgICAgIHN1bTogY2hhcnRzSXRlbS5zdW0sXG4gICAgICAgICAgcGVyc2VudDogY2hhcnRzSXRlbS5wZXJzZW50LFxuICAgICAgICAgIHR5cGU6IGNoYXJ0c0l0ZW0udHlwZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgaWYgKCdjaGFydHMnIGluIHRoaXMucHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiY2hhcnRzXCJcbiAgICAgICAgfSwgdGhpcy5yZW5kZXJJdGVtcygpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDaGFydHNDb21wb25lbnQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBDaGFydHNDb21wb25lbnQgYXMgZGVmYXVsdCB9OyIsImV4cG9ydCBmdW5jdGlvbiBjYWxjQ2hhcnRzKGRhdGEpIHtcbiAgdmFyIGluY29tZSA9IDA7XG4gIHZhciBleHBlbnNlID0gMDtcbiAgZGF0YS5yZXN1bHQuY2F0ZWdvcnlzLm1hcChmdW5jdGlvbiAoY2F0ZWdvcnlJZCkge1xuICAgIGlmIChkYXRhLmVudGl0aWVzLmNhdGVnb3J5c1tjYXRlZ29yeUlkXS50eXBlID09PSBcImluY29tZVwiKSB7XG4gICAgICBpbmNvbWUgKz0gZGF0YS5lbnRpdGllcy5jYXRlZ29yeXNbY2F0ZWdvcnlJZF0udG90YWxTdW07XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cGVuc2UgKz0gZGF0YS5lbnRpdGllcy5jYXRlZ29yeXNbY2F0ZWdvcnlJZF0udG90YWxTdW07XG4gICAgfVxuICB9KTtcbiAgdmFyIHBlcnNlbnRzID0gY2FsY0NoYXJ0c1BlcnNlbnRzKGluY29tZSwgZXhwZW5zZSk7XG4gIHJldHVybiBbe1xuICAgIHRpdGxlOiBcIlxcdTA0MTRcXHUwNDNFXFx1MDQ0NVxcdTA0M0VcXHUwNDM0XCIsXG4gICAgdHlwZTogXCJpbmNvbWVcIixcbiAgICBzdW06IGluY29tZSxcbiAgICBwZXJzZW50OiBwZXJzZW50cy5pbmNvbWVQZXJzZW50c1xuICB9LCB7XG4gICAgdGl0bGU6IFwiXFx1MDQyMFxcdTA0MzBcXHUwNDQxXFx1MDQ0NVxcdTA0M0VcXHUwNDM0XCIsXG4gICAgdHlwZTogXCJleHBlbnNlXCIsXG4gICAgc3VtOiBleHBlbnNlLFxuICAgIHBlcnNlbnQ6IHBlcnNlbnRzLmV4cGVuc2VQZXJzZW50c1xuICB9LCB7XG4gICAgdGl0bGU6IFwiXFx1MDQxRFxcdTA0MzBcXHUwNDNBXFx1MDQzRVxcdTA0M0ZcXHUwNDNCXFx1MDQzNVxcdTA0M0RcXHUwNDM4XFx1MDQ0RlwiLFxuICAgIHR5cGU6IFwic2F2aW5nc1wiLFxuICAgIHN1bTogaW5jb21lIC0gZXhwZW5zZSxcbiAgICBwZXJzZW50OiBwZXJzZW50cy5zYXZpbmdzUGVyc2VudHNcbiAgfV07XG59XG5leHBvcnQgZnVuY3Rpb24gY2FsY0NoYXJ0c1BlcnNlbnRzKGluY29tZSwgZXhwZW5zZSkge1xuICB2YXIgb25lUGVyc2VudCA9IDA7XG4gIGlmIChpbmNvbWUgIT09IDAgJiYgZXhwZW5zZSAhPT0gMCkgb25lUGVyc2VudCA9IGluY29tZSA+IGV4cGVuc2UgPyAxMDAgLyBpbmNvbWUgOiAxMDAgLyBleHBlbnNlO1xuICB2YXIgaW5jb21lUGVyc2VudHMgPSBNYXRoLmNlaWwoaW5jb21lID4gZXhwZW5zZSA/IDEwMCA6IGluY29tZSAqIG9uZVBlcnNlbnQpO1xuICB2YXIgZXhwZW5zZVBlcnNlbnRzID0gTWF0aC5jZWlsKGluY29tZSA8IGV4cGVuc2UgPyAxMDAgOiBleHBlbnNlICogb25lUGVyc2VudCk7XG4gIHZhciBzYXZpbmdzUGVyc2VudHMgPSBNYXRoLmNlaWwoKGluY29tZSAtIGV4cGVuc2UpICogb25lUGVyc2VudCk7XG4gIGlmIChpbmNvbWVQZXJzZW50cyA8IDEpIGluY29tZVBlcnNlbnRzID0gMTtcbiAgaWYgKGV4cGVuc2VQZXJzZW50cyA8IDEpIGV4cGVuc2VQZXJzZW50cyA9IDE7XG4gIGlmIChzYXZpbmdzUGVyc2VudHMgPCAxKSBzYXZpbmdzUGVyc2VudHMgPSAxO1xuICByZXR1cm4ge1xuICAgIGluY29tZVBlcnNlbnRzOiBpbmNvbWVQZXJzZW50cyxcbiAgICBleHBlbnNlUGVyc2VudHM6IGV4cGVuc2VQZXJzZW50cyxcbiAgICBzYXZpbmdzUGVyc2VudHM6IHNhdmluZ3NQZXJzZW50c1xuICB9O1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IENoYXJ0c0NvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBjYWxjQ2hhcnRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvY2FsY0NoYXJ0cyc7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmRhdGEgPT09IG51bGwpIHJldHVybiB7fTtcbiAgcmV0dXJuIHtcbiAgICBjaGFydHM6IGNhbGNDaGFydHMoc3RhdGUuZGF0YSlcbiAgfTtcbn07XG5cbmV4cG9ydCB2YXIgQ2hhcnRzID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKENoYXJ0c0NvbXBvbmVudCk7IiwiaW1wb3J0IHsgQ2hhcnRzIH0gZnJvbSAnLi9jb250YWluZXInO1xuZXhwb3J0IGRlZmF1bHQgQ2hhcnRzOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5cbnZhciBQbHVzQnV0dG9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUGx1c0J1dHRvbiwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUGx1c0J1dHRvbik7XG5cbiAgZnVuY3Rpb24gUGx1c0J1dHRvbihwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQbHVzQnV0dG9uKTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUGx1c0J1dHRvbiwgW3tcbiAgICBrZXk6IFwicmV0dXJuQ2xhc3NOYW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJldHVybkNsYXNzTmFtZSgpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzT3Blbikge1xuICAgICAgICByZXR1cm4gJ21pbnVzJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICdwbHVzJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIG9uQ2xpY2s6IHRoaXMucHJvcHMudG9nZ2xlQ2FsbGJhY2ssXG4gICAgICAgIGNsYXNzTmFtZTogdGhpcy5yZXR1cm5DbGFzc05hbWUoKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBsdXNCdXR0b247XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBQbHVzQnV0dG9uIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgUGx1c0J1dHRvbiBmcm9tICcuL2NvbXBvbmVudCc7XG5leHBvcnQgZGVmYXVsdCBQbHVzQnV0dG9uOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5cbnZhciBTdWJtaXRCdXR0b24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhTdWJtaXRCdXR0b24sIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFN1Ym1pdEJ1dHRvbik7XG5cbiAgZnVuY3Rpb24gU3VibWl0QnV0dG9uKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1Ym1pdEJ1dHRvbik7XG5cbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN1Ym1pdEJ1dHRvbiwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJidXR0b24gXCIuY29uY2F0KHRoaXMucHJvcHMuY2xhc3NOYW1lKSxcbiAgICAgICAgb25DbGljazogdGhpcy5wcm9wcy5jYWxsYmFja1xuICAgICAgfSwgdGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN1Ym1pdEJ1dHRvbjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IFN1Ym1pdEJ1dHRvbiBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFN1Ym1pdEJ1dHRvbiBmcm9tICcuL2NvbXBvbmVudCc7XG5leHBvcnQgZGVmYXVsdCBTdWJtaXRCdXR0b247IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBTdWJtaXRCdXR0b24gZnJvbSBcIi4uL1N1Ym1pdEJ1dHRvblwiO1xuXG52YXIgQWRkRm9ybUNvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEFkZEZvcm1Db21wb25lbnQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEFkZEZvcm1Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEFkZEZvcm1Db21wb25lbnQocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWRkRm9ybUNvbXBvbmVudCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHN1bTogJycsXG4gICAgICB0aXRsZTogJydcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBZGRGb3JtQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJoYW5kbGVDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUsIHZhbCkge1xuICAgICAgdmFyIGZpZWxkVmFsdWUgPSB2YWwgPT09IFwic3VtXCIgPyBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9cXEQvLCAnJykgOiBlLnRhcmdldC52YWx1ZTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoX2RlZmluZVByb3BlcnR5KHt9LCB2YWwsIGZpZWxkVmFsdWUpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tBbmRBZGRMaXN0SXRlbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0FuZEFkZExpc3RJdGVtKCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuc3VtICYmIHRoaXMuc3RhdGUudGl0bGUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5hZGRMaXN0SXRlbShfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHtcbiAgICAgICAgICBjYXRlZ29yeUlkOiB0aGlzLnByb3BzLmNhdGVnb3J5SWRcbiAgICAgICAgfSksIHRoaXMuc3RhdGUpKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc3VtOiAnJyxcbiAgICAgICAgICB0aXRsZTogJydcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJvcHMudG9nZ2xlQ2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5pc09wZW4gPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiYWRkLWZvcm1cIlxuICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5zdW0sXG4gICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlQ2hhbmdlKGUsICdzdW0nKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlxcdTA0MjFcXHUwNDQzXFx1MDQzQ1xcdTA0M0NcXHUwNDMwXCIsXG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgY2xhc3NOYW1lOiBcImFkZC1mb3JtX19zdW1cIlxuICAgICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLCB7XG4gICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuY29tbWVudCxcbiAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVDaGFuZ2UoZSwgJ3RpdGxlJyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwbGFjZWhvbGRlcjogXCJcXHUwNDFBXFx1MDQzRVxcdTA0M0NcXHUwNDNDXFx1MDQzNVxcdTA0M0RcXHUwNDQyXFx1MDQzMFxcdTA0NDBcXHUwNDM4XFx1MDQzOVwiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJhZGQtZm9ybV9fdHh0XCJcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogJ2J1dHRvbl9hZGQtZm9ybScsXG4gICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jaGVja0FuZEFkZExpc3RJdGVtKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBcIlxcdTA0MTRcXHUwNDNFXFx1MDQzMVxcdTA0MzBcXHUwNDMyXFx1MDQzOFxcdTA0NDJcXHUwNDRDXCIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFkZEZvcm1Db21wb25lbnQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBBZGRGb3JtQ29tcG9uZW50IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBBZGRGb3JtQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7IGFkZExpc3RJdGVtQWN0aW9uIH0gZnJvbSBcIi4uLy4uL3N0b3JlL2FjdGlvbnNcIjtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge307XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgYWRkTGlzdEl0ZW06IGZ1bmN0aW9uIGFkZExpc3RJdGVtKGxpc3RJdGVtKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goYWRkTGlzdEl0ZW1BY3Rpb24obGlzdEl0ZW0pKTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgdmFyIEFkZEZvcm0gPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShBZGRGb3JtQ29tcG9uZW50KTsiLCJpbXBvcnQgeyBBZGRGb3JtIH0gZnJvbSAnLi9jb250YWluZXInO1xuZXhwb3J0IGRlZmF1bHQgQWRkRm9ybTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuXG52YXIgTW9kYWxXaW5kb3dDb21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhNb2RhbFdpbmRvd0NvbXBvbmVudCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoTW9kYWxXaW5kb3dDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIE1vZGFsV2luZG93Q29tcG9uZW50KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsV2luZG93Q29tcG9uZW50KTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTW9kYWxXaW5kb3dDb21wb25lbnQsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibW9kYWwtd2luZG93LWNvbnRhaW5lclwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJtb2RhbC13aW5kb3dcIlxuICAgICAgfSwgdGhpcy5wcm9wcy5jaGlsZHJlbikpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNb2RhbFdpbmRvd0NvbXBvbmVudDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IE1vZGFsV2luZG93Q29tcG9uZW50IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBNb2RhbFdpbmRvd0NvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHt9O1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge307XG59O1xuXG5leHBvcnQgdmFyIE1vZGFsV2luZG93ID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoTW9kYWxXaW5kb3dDb21wb25lbnQpOyIsImltcG9ydCB7IE1vZGFsV2luZG93IH0gZnJvbSAnLi9jb250YWluZXInO1xuZXhwb3J0IGRlZmF1bHQgTW9kYWxXaW5kb3c7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcblxudmFyIENsb3NlV2luZG93QnV0dG9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ2xvc2VXaW5kb3dCdXR0b24sIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENsb3NlV2luZG93QnV0dG9uKTtcblxuICBmdW5jdGlvbiBDbG9zZVdpbmRvd0J1dHRvbihwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbG9zZVdpbmRvd0J1dHRvbik7XG5cbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENsb3NlV2luZG93QnV0dG9uLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNsb3NlLXdpbmRvdy1jb250YWluZXJcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICBvbkNsaWNrOiB0aGlzLnByb3BzLmNsb3NlQ2FsbGJhY2ssXG4gICAgICAgIGNsYXNzTmFtZTogXCJjbG9zZS13aW5kb3dcIlxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDbG9zZVdpbmRvd0J1dHRvbjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IENsb3NlV2luZG93QnV0dG9uIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgQ2xvc2VXaW5kb3dCdXR0b24gZnJvbSAnLi9jb21wb25lbnQnO1xuZXhwb3J0IGRlZmF1bHQgQ2xvc2VXaW5kb3dCdXR0b247IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBNb2RhbFdpbmRvdyBmcm9tIFwiLi4vTW9kYWxXaW5kb3dcIjtcbmltcG9ydCBDbG9zZVdpbmRvd0J1dHRvbiBmcm9tIFwiLi4vQ2xvc2VXaW5kb3dCdXR0b25cIjtcbmltcG9ydCBTdWJtaXRCdXR0b24gZnJvbSBcIi4uL1N1Ym1pdEJ1dHRvblwiO1xuXG52YXIgQ29uZmlybURlbGV0ZVdpbmRvdyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbmZpcm1EZWxldGVXaW5kb3csIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENvbmZpcm1EZWxldGVXaW5kb3cpO1xuXG4gIGZ1bmN0aW9uIENvbmZpcm1EZWxldGVXaW5kb3cocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29uZmlybURlbGV0ZVdpbmRvdyk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENvbmZpcm1EZWxldGVXaW5kb3csIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTW9kYWxXaW5kb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENsb3NlV2luZG93QnV0dG9uLCB7XG4gICAgICAgIGNsb3NlQ2FsbGJhY2s6IHRoaXMucHJvcHMuY2FuY2VsQ2FsbGJhY2tcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJkZWxldGUtd2luZG93LXRleHRcIlxuICAgICAgfSwgXCJcXHUwNDIzXFx1MDQzNFxcdTA0MzBcXHUwNDNCXFx1MDQzOFxcdTA0NDJcXHUwNDRDIFwiLCB0aGlzLnByb3BzLnRpdGxlLCBcIj9cIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm1vZGFsLXdpbmRvd19fYnV0dG9uc1wiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICAgICAgY2FsbGJhY2s6IHRoaXMucHJvcHMuZGVsZXRlQ2FsbGJhY2ssXG4gICAgICAgIGNsYXNzTmFtZTogXCJidXR0b25fbW9kYWwtd2luZG93XCJcbiAgICAgIH0sIFwiXFx1MDQyM1xcdTA0MzRcXHUwNDMwXFx1MDQzQlxcdTA0MzhcXHUwNDQyXFx1MDQ0Q1wiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3VibWl0QnV0dG9uLCB7XG4gICAgICAgIGNhbGxiYWNrOiB0aGlzLnByb3BzLmNhbmNlbENhbGxiYWNrLFxuICAgICAgICBjbGFzc05hbWU6IFwiYnV0dG9uX21vZGFsLXdpbmRvd1wiXG4gICAgICB9LCBcIlxcdTA0MUVcXHUwNDQyXFx1MDQzQ1xcdTA0MzVcXHUwNDNEXFx1MDQzMFwiKSkpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29uZmlybURlbGV0ZVdpbmRvdztcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IENvbmZpcm1EZWxldGVXaW5kb3cgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBDb25maXJtRGVsZXRlV2luZG93IGZyb20gJy4vY29tcG9uZW50JztcbmV4cG9ydCBkZWZhdWx0IENvbmZpcm1EZWxldGVXaW5kb3c7IiwiZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZVN0cmluZykge1xuICB2YXIgZGF0ZUFyciA9IGRhdGVTdHJpbmcuc2xpY2UoMCwgMTApLnNwbGl0KCctJyk7XG4gIHJldHVybiBcIlwiLmNvbmNhdChkYXRlQXJyWzJdLCBcIi1cIikuY29uY2F0KGRhdGVBcnJbMV0sIFwiLVwiKS5jb25jYXQoZGF0ZUFyclswXSk7XG59IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IE1vZGFsV2luZG93IGZyb20gXCIuLi9Nb2RhbFdpbmRvd1wiO1xuaW1wb3J0IENsb3NlV2luZG93QnV0dG9uIGZyb20gXCIuLi9DbG9zZVdpbmRvd0J1dHRvblwiO1xuaW1wb3J0IFN1Ym1pdEJ1dHRvbiBmcm9tIFwiLi4vU3VibWl0QnV0dG9uXCI7XG5pbXBvcnQgQ29uZmlybURlbGV0ZVdpbmRvdyBmcm9tIFwiLi4vQ29uZmlybURlbGV0ZVdpbmRvd1wiO1xuaW1wb3J0IHsgZm9ybWF0RGF0ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2Zvcm1hdExpc3REYXRlJztcblxudmFyIExpc3RJdGVtQ29tcG9uZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTGlzdEl0ZW1Db21wb25lbnQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKExpc3RJdGVtQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBMaXN0SXRlbUNvbXBvbmVudChwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaXN0SXRlbUNvbXBvbmVudCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzT3BlbkVkaXRXaW5kb3c6IGZhbHNlLFxuICAgICAgaXNPcGVuQ29uZmlybURlbGV0ZTogZmFsc2UsXG4gICAgICB0aXRsZTogX3RoaXMucHJvcHMudGl0bGUsXG4gICAgICBzdW06IF90aGlzLnByb3BzLnN1bVxuICAgIH07XG4gICAgX3RoaXMub3BlbkVkaXRXaW5kb3cgPSBfdGhpcy5vcGVuRWRpdFdpbmRvdy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5jbG9zZVdpbmRvd3MgPSBfdGhpcy5jbG9zZVdpbmRvd3MuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMub3BlbkNvbmZpcm1EZWxldGVXaW5kb3cgPSBfdGhpcy5vcGVuQ29uZmlybURlbGV0ZVdpbmRvdy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5zYXZlTGlzdEl0ZW0gPSBfdGhpcy5zYXZlTGlzdEl0ZW0uYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMuZGVsZXRlTGlzdEl0ZW0gPSBfdGhpcy5kZWxldGVMaXN0SXRlbS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGlzdEl0ZW1Db21wb25lbnQsIFt7XG4gICAga2V5OiBcImhhbmRsZUNoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSwgdmFsKSB7XG4gICAgICB2YXIgZmllbGRWYWx1ZSA9IHZhbCA9PT0gXCJzdW1cIiA/IGUudGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1xcRC8sICcnKSA6IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgdGhpcy5zZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIHZhbCwgZmllbGRWYWx1ZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvcGVuRWRpdFdpbmRvd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuRWRpdFdpbmRvdygpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc09wZW5FZGl0V2luZG93OiB0cnVlLFxuICAgICAgICBpc09wZW5Db25maXJtRGVsZXRlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9wZW5Db25maXJtRGVsZXRlV2luZG93XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5Db25maXJtRGVsZXRlV2luZG93KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzT3BlbkVkaXRXaW5kb3c6IGZhbHNlLFxuICAgICAgICBpc09wZW5Db25maXJtRGVsZXRlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VXaW5kb3dzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlV2luZG93cygpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc09wZW5FZGl0V2luZG93OiBmYWxzZSxcbiAgICAgICAgaXNPcGVuQ29uZmlybURlbGV0ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzYXZlTGlzdEl0ZW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUxpc3RJdGVtKCkge1xuICAgICAgdGhpcy5wcm9wcy51cGRMaXN0SXRlbSh7XG4gICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgICAgc3VtOiB0aGlzLnN0YXRlLnN1bVxuICAgICAgfSk7XG4gICAgICB0aGlzLmNsb3NlV2luZG93cygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVMaXN0SXRlbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVMaXN0SXRlbSgpIHtcbiAgICAgIHRoaXMucHJvcHMuZGVsTGlzdEl0ZW0oe1xuICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgc3VtOiB0aGlzLnByb3BzLnN1bVxuICAgICAgfSk7XG4gICAgICB0aGlzLmNsb3NlV2luZG93cygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBbLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIub3BlbkVkaXRXaW5kb3coKTtcbiAgICAgICAgfSxcbiAgICAgICAga2V5OiB0aGlzLnByb3BzLmlkLFxuICAgICAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnktaXRlbVwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjYXRlZ29yeS1pdGVtX190eHRcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnktaXRlbV9fZGF0ZVwiXG4gICAgICB9LCBmb3JtYXREYXRlKHRoaXMucHJvcHMuZGF0ZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjYXRlZ29yeS1pdGVtX19kZXNjclwiXG4gICAgICB9LCB0aGlzLnByb3BzLnRpdGxlKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5LWl0ZW1fX3N1bVwiXG4gICAgICB9LCB0aGlzLnByb3BzLnN1bSwgXCIgXFx1MjBCRFwiKSksIHRoaXMuc3RhdGUuaXNPcGVuRWRpdFdpbmRvdyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNb2RhbFdpbmRvdywge1xuICAgICAgICBrZXk6IFwiZXdcIi5jb25jYXQodGhpcy5wcm9wcy5pZClcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENsb3NlV2luZG93QnV0dG9uLCB7XG4gICAgICAgIGNsb3NlQ2FsbGJhY2s6IHRoaXMuY2xvc2VXaW5kb3dzXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnN1bSxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUNoYW5nZShlLCAnc3VtJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcIlxcdTA0MjFcXHUwNDQzXFx1MDQzQ1xcdTA0M0NcXHUwNDMwXCIsXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICBjbGFzc05hbWU6IFwiYWRkLWZvcm1fX3N1bVwiXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLCB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlQ2hhbmdlKGUsICd0aXRsZScpO1xuICAgICAgICB9LFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJcXHUwNDFBXFx1MDQzRVxcdTA0M0NcXHUwNDNDXFx1MDQzNVxcdTA0M0RcXHUwNDQyXFx1MDQzMFxcdTA0NDBcXHUwNDM4XFx1MDQzOVwiLFxuICAgICAgICBjbGFzc05hbWU6IFwiYWRkLWZvcm1fX3R4dFwiXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibW9kYWwtd2luZG93X19idXR0b25zXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbiwge1xuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5zYXZlTGlzdEl0ZW0oKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBcImJ1dHRvbl9tb2RhbC13aW5kb3dcIlxuICAgICAgfSwgXCJcXHUwNDIxXFx1MDQzRVxcdTA0NDVcXHUwNDQwXFx1MDQzMFxcdTA0M0RcXHUwNDM4XFx1MDQ0MlxcdTA0NENcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbiwge1xuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5vcGVuQ29uZmlybURlbGV0ZVdpbmRvdygpO1xuICAgICAgICB9LFxuICAgICAgICBjbGFzc05hbWU6IFwiYnV0dG9uX21vZGFsLXdpbmRvd1wiXG4gICAgICB9LCBcIlxcdTA0MjNcXHUwNDM0XFx1MDQzMFxcdTA0M0JcXHUwNDM4XFx1MDQ0MlxcdTA0NENcIikpKSksIHRoaXMuc3RhdGUuaXNPcGVuQ29uZmlybURlbGV0ZSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb25maXJtRGVsZXRlV2luZG93LCB7XG4gICAgICAgIGtleTogXCJkd1wiLmNvbmNhdCh0aGlzLnByb3BzLmlkKSxcbiAgICAgICAgY2FuY2VsQ2FsbGJhY2s6IGZ1bmN0aW9uIGNhbmNlbENhbGxiYWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuY2xvc2VXaW5kb3dzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlbGV0ZUNhbGxiYWNrOiBmdW5jdGlvbiBkZWxldGVDYWxsYmFjaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmRlbGV0ZUxpc3RJdGVtKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRpdGxlXG4gICAgICB9KV07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExpc3RJdGVtQ29tcG9uZW50O1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IHsgTGlzdEl0ZW1Db21wb25lbnQgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IExpc3RJdGVtQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7IGRlbExpc3RJdGVtQWN0aW9uLCB1cGRMaXN0SXRlbUFjdGlvbiB9IGZyb20gXCIuLi8uLi9zdG9yZS9hY3Rpb25zXCI7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHt9O1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHVwZExpc3RJdGVtOiBmdW5jdGlvbiB1cGRMaXN0SXRlbShsaXN0SXRlbSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKHVwZExpc3RJdGVtQWN0aW9uKGxpc3RJdGVtKSk7XG4gICAgfSxcbiAgICBkZWxMaXN0SXRlbTogZnVuY3Rpb24gZGVsTGlzdEl0ZW0obGlzdEl0ZW0pIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaChkZWxMaXN0SXRlbUFjdGlvbihsaXN0SXRlbSkpO1xuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydCB2YXIgTGlzdEl0ZW0gPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShMaXN0SXRlbUNvbXBvbmVudCk7IiwiaW1wb3J0IHsgTGlzdEl0ZW0gfSBmcm9tICcuL2NvbnRhaW5lcic7XG5leHBvcnQgZGVmYXVsdCBMaXN0SXRlbTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IExpc3RJdGVtIGZyb20gXCIuLi9MaXN0SXRlbVwiO1xuXG52YXIgTGlzdENvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKExpc3RDb21wb25lbnQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKExpc3RDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIExpc3RDb21wb25lbnQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGlzdENvbXBvbmVudCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExpc3RDb21wb25lbnQsIFt7XG4gICAga2V5OiBcInJlbmRlckl0ZW1zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckl0ZW1zKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMucHJvcHMubGlzdElkQXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMubGlzdElkQXJyLm1hcChmdW5jdGlvbiAobGlzdEl0ZW1JZCkge1xuICAgICAgICAgIHZhciBsaXN0SXRlbSA9IF90aGlzLnByb3BzLmxpc3RbbGlzdEl0ZW1JZF07XG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtLCB7XG4gICAgICAgICAgICBpZDogbGlzdEl0ZW0uaWQsXG4gICAgICAgICAgICBkYXRlOiBsaXN0SXRlbS5kYXRlLFxuICAgICAgICAgICAga2V5OiBsaXN0SXRlbS5pZCxcbiAgICAgICAgICAgIHRpdGxlOiBsaXN0SXRlbS50aXRsZSxcbiAgICAgICAgICAgIHN1bTogbGlzdEl0ZW0uc3VtXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pc09wZW4gPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnktbGlzdFwiXG4gICAgICAgIH0sIHRoaXMucmVuZGVySXRlbXMoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMaXN0Q29tcG9uZW50O1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IHsgTGlzdENvbXBvbmVudCBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgTGlzdENvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICBsaXN0OiBzdGF0ZS5kYXRhLmVudGl0aWVzLmxpc3RcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHt9O1xufTtcblxuZXhwb3J0IHZhciBMaXN0ID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoTGlzdENvbXBvbmVudCk7IiwiaW1wb3J0IHsgTGlzdCB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IExpc3Q7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBQbHVzQnV0dG9uIGZyb20gJy4uL1BsdXNCdXR0b24nO1xuaW1wb3J0IEFkZEZvcm0gZnJvbSAnLi4vQWRkRm9ybSc7XG5pbXBvcnQgTGlzdCBmcm9tICcuLi9MaXN0JztcblxudmFyIENhdGVnb3J5SXRlbSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENhdGVnb3J5SXRlbSwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2F0ZWdvcnlJdGVtKTtcblxuICBmdW5jdGlvbiBDYXRlZ29yeUl0ZW0ocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2F0ZWdvcnlJdGVtKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaXNPcGVuTGlzdDogZmFsc2UsXG4gICAgICBpc09wZW5Gb3JtOiBmYWxzZVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhdGVnb3J5SXRlbSwgW3tcbiAgICBrZXk6IFwidG9nZ2xlTGlzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVMaXN0KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzT3Blbkxpc3Q6ICF0aGlzLnN0YXRlLmlzT3Blbkxpc3RcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b2dnbGVGb3JtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZUZvcm0oKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNPcGVuRm9ybTogIXRoaXMuc3RhdGUuaXNPcGVuRm9ybVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5XCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5X19oZWFkZXJcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIudG9nZ2xlTGlzdCgpO1xuICAgICAgICB9LFxuICAgICAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnktdHh0IFwiLmNvbmNhdCh0aGlzLnN0YXRlLmlzT3Blbkxpc3QgPyBcImNhdGVnb3J5LXR4dF9yb3RhdGU5MFwiIDogXCJjYXRlZ29yeS10eHRfcm90YXRlMFwiKVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnktdHh0X190aXRsZVwiXG4gICAgICB9LCB0aGlzLnByb3BzLnRpdGxlKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnktdHh0X19zdW1cIlxuICAgICAgfSwgdGhpcy5wcm9wcy5zdW0gPiAwID8gdGhpcy5wcm9wcy5zdW0gOiAwLCBcIiBcXHUyMEJEXCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiYWRkLWJ1dHRvblwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQbHVzQnV0dG9uLCB7XG4gICAgICAgIGlzT3BlbjogdGhpcy5zdGF0ZS5pc09wZW5Gb3JtLFxuICAgICAgICB0b2dnbGVDYWxsYmFjazogZnVuY3Rpb24gdG9nZ2xlQ2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi50b2dnbGVGb3JtKCk7XG4gICAgICAgIH1cbiAgICAgIH0pKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5LWNvbnRlbnRcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQWRkRm9ybSwge1xuICAgICAgICBjYXRlZ29yeVR5cGU6IHRoaXMucHJvcHMudHlwZSxcbiAgICAgICAgY2F0ZWdvcnlJZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgaXNPcGVuOiB0aGlzLnN0YXRlLmlzT3BlbkZvcm0sXG4gICAgICAgIHRvZ2dsZUNhbGxiYWNrOiBmdW5jdGlvbiB0b2dnbGVDYWxsYmFjaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnRvZ2dsZUZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpc3QsIHtcbiAgICAgICAgbGlzdElkQXJyOiB0aGlzLnByb3BzLmxpc3RJZEFycixcbiAgICAgICAgaXNPcGVuOiB0aGlzLnN0YXRlLmlzT3Blbkxpc3RcbiAgICAgIH0pKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhdGVnb3J5SXRlbTtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IENhdGVnb3J5SXRlbSBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IENhdGVnb3J5SXRlbSBmcm9tICcuL2NvbXBvbmVudCc7XG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yeUl0ZW07IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBDYXRlZ29yeUl0ZW0gZnJvbSAnLi4vQ2F0ZWdvcnlJdGVtJztcblxudmFyIENhdGVnb3J5Q29tcG9uZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ2F0ZWdvcnlDb21wb25lbnQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENhdGVnb3J5Q29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYXRlZ29yeUNvbXBvbmVudChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYXRlZ29yeUNvbXBvbmVudCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhdGVnb3J5Q29tcG9uZW50LCBbe1xuICAgIGtleTogXCJyZXR1cm5DbGFzc05hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmV0dXJuQ2xhc3NOYW1lKCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMudHlwZSAhPT0gdGhpcy5wcm9wcy50b2dnbGVDYXRlZ29yeSkge1xuICAgICAgICByZXR1cm4gJ2RldGFpbHNfX2Jsb2NrX2hpZGUnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlckl0ZW1zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckl0ZW1zKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2F0ZWdvcnlzSWRBcnIubWFwKGZ1bmN0aW9uIChjYXRlZ29yeUlkKSB7XG4gICAgICAgIHZhciBjYXRlZ29yeSA9IF90aGlzLnByb3BzLmNhdGVnb3J5c1tjYXRlZ29yeUlkXTtcblxuICAgICAgICBpZiAoY2F0ZWdvcnkudHlwZSA9PT0gX3RoaXMucHJvcHMudHlwZSkge1xuICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDYXRlZ29yeUl0ZW0sIHtcbiAgICAgICAgICAgIGtleTogY2F0ZWdvcnkuaWQsXG4gICAgICAgICAgICBpZDogY2F0ZWdvcnkuaWQsXG4gICAgICAgICAgICB0aXRsZTogY2F0ZWdvcnkudGl0bGUsXG4gICAgICAgICAgICB0eXBlOiBjYXRlZ29yeS50eXBlLFxuICAgICAgICAgICAgc3VtOiBjYXRlZ29yeS50b3RhbFN1bSxcbiAgICAgICAgICAgIGxpc3RJZEFycjogY2F0ZWdvcnkubGlzdFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIGlmICgnY2F0ZWdvcnlzJyBpbiB0aGlzLnByb3BzKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImRldGFpbHNfX2Jsb2NrIFwiLmNvbmNhdCh0aGlzLnJldHVybkNsYXNzTmFtZSgpKVxuICAgICAgICB9LCB0aGlzLnJlbmRlckl0ZW1zKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhdGVnb3J5Q29tcG9uZW50O1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IHsgQ2F0ZWdvcnlDb21wb25lbnQgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IENhdGVnb3J5Q29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICBpZiAoc3RhdGUuZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHt9O1xuICByZXR1cm4ge1xuICAgIGNhdGVnb3J5czogc3RhdGUuZGF0YS5lbnRpdGllcy5jYXRlZ29yeXMsXG4gICAgY2F0ZWdvcnlzSWRBcnI6IHN0YXRlLmRhdGEucmVzdWx0LmNhdGVnb3J5cyxcbiAgICB0b2dnbGVDYXRlZ29yeTogc3RhdGUudG9nZ2xlQ2F0ZWdvcnlcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHt9O1xufTtcblxuZXhwb3J0IHZhciBDYXRlZ29yeSA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKENhdGVnb3J5Q29tcG9uZW50KTsiLCJpbXBvcnQgeyBDYXRlZ29yeSB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3J5OyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgU3VibWl0QnV0dG9uIGZyb20gJy4uL1N1Ym1pdEJ1dHRvbic7XG5cbnZhciBUb2dnbGVDYXRlZ29yeUNvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFRvZ2dsZUNhdGVnb3J5Q29tcG9uZW50LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihUb2dnbGVDYXRlZ29yeUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVG9nZ2xlQ2F0ZWdvcnlDb21wb25lbnQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9nZ2xlQ2F0ZWdvcnlDb21wb25lbnQpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUb2dnbGVDYXRlZ29yeUNvbXBvbmVudCwgW3tcbiAgICBrZXk6IFwicmV0dXJuQ2xhc3NOYW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJldHVybkNsYXNzTmFtZSh0eXBlKSB7XG4gICAgICBpZiAodHlwZSA9PT0gdGhpcy5wcm9wcy50b2dnbGVDYXRlZ29yeSkge1xuICAgICAgICByZXR1cm4gJ2J1dHRvbl9hY3RpdmUnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJtZW51X19kZXRhaWxzIG1lbnVfX2RldGFpbHNfc2VhcmNoXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3VibWl0QnV0dG9uLCB7XG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMucHJvcHMudG9nZ2xlKCdleHBlbnNlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZTogXCJidXR0b25fZGV0YWlscyBcIi5jb25jYXQodGhpcy5yZXR1cm5DbGFzc05hbWUoJ2V4cGVuc2UnKSlcbiAgICAgIH0sIFwiXFx1MDQyMFxcdTA0MzBcXHUwNDQxXFx1MDQ0NVxcdTA0M0VcXHUwNDM0XFx1MDQ0QlwiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3VibWl0QnV0dG9uLCB7XG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMucHJvcHMudG9nZ2xlKCdpbmNvbWUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBcImJ1dHRvbl9kZXRhaWxzIFwiLmNvbmNhdCh0aGlzLnJldHVybkNsYXNzTmFtZSgnaW5jb21lJykpXG4gICAgICB9LCBcIlxcdTA0MTRcXHUwNDNFXFx1MDQ0NVxcdTA0M0VcXHUwNDM0XFx1MDQ0QlwiKSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUb2dnbGVDYXRlZ29yeUNvbXBvbmVudDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IFRvZ2dsZUNhdGVnb3J5Q29tcG9uZW50IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHRvZ2dsZUNhdGVnb3J5QWN0aW9uIH0gZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucyc7XG5pbXBvcnQgVG9nZ2xlQ2F0ZWdvcnlDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdG9nZ2xlQ2F0ZWdvcnk6IHN0YXRlLnRvZ2dsZUNhdGVnb3J5XG4gIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoY2F0ZWdvcnlUeXBlKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2godG9nZ2xlQ2F0ZWdvcnlBY3Rpb24oY2F0ZWdvcnlUeXBlKSk7XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IHZhciBUb2dnbGVDYXRlZ29yeSA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKFRvZ2dsZUNhdGVnb3J5Q29tcG9uZW50KTsiLCJpbXBvcnQgeyBUb2dnbGVDYXRlZ29yeSB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IFRvZ2dsZUNhdGVnb3J5OyIsImV4cG9ydCBmdW5jdGlvbiBjYWxjRGF0ZVJhbmdlKHBlcmlvZCkge1xuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gIHZhciBkYXRlTWluO1xuICB2YXIgZGF0ZU1heDtcbiAgdmFyIHllYXJNaW47XG4gIHZhciBtb250aE1pbjtcblxuICBzd2l0Y2ggKHBlcmlvZCkge1xuICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgIGRhdGVNaW4gPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgMSk7XG4gICAgICBkYXRlTWF4ID0gbmV3IERhdGUoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnbGFzdC1tb250aCc6XG4gICAgICB5ZWFyTWluID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgbW9udGhNaW4gPSBkYXRlLmdldE1vbnRoKCkgLSAxO1xuXG4gICAgICBpZiAobW9udGhNaW4gPCAwKSB7XG4gICAgICAgIC0teWVhck1pbjtcbiAgICAgICAgbW9udGhNaW4gPSAxMTtcbiAgICAgIH1cblxuICAgICAgZGF0ZU1pbiA9IG5ldyBEYXRlKHllYXJNaW4sIG1vbnRoTWluLCAxKTtcbiAgICAgIGRhdGVNYXggPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgMSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2hhbGYteWVhcic6XG4gICAgICB5ZWFyTWluID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgbW9udGhNaW4gPSBkYXRlLmdldE1vbnRoKCkgLSA2O1xuXG4gICAgICBpZiAobW9udGhNaW4gPCAwKSB7XG4gICAgICAgIC0teWVhck1pbjtcbiAgICAgICAgbW9udGhNaW4gPSAxMSAtIC1tb250aE1pbjtcbiAgICAgIH1cblxuICAgICAgZGF0ZU1pbiA9IG5ldyBEYXRlKHllYXJNaW4sIG1vbnRoTWluLCAxKTtcbiAgICAgIGRhdGVNYXggPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgMSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3llYXInOlxuICAgICAgZGF0ZU1pbiA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgMCwgMSk7XG4gICAgICBkYXRlTWF4ID0gbmV3IERhdGUoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGRhdGVNaW4gPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgMSk7XG4gICAgICBkYXRlTWF4ID0gbmV3IERhdGUoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZGF0ZU1pbjogZGF0ZU1pbixcbiAgICBkYXRlTWF4OiBkYXRlTWF4XG4gIH07XG59IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBDYXRlZ29yeSBmcm9tICcuLi9DYXRlZ29yeSc7XG5pbXBvcnQgVG9nZ2xlQ2F0ZWdvcnkgZnJvbSBcIi4uL1RvZ2dsZUNhdGVnb3J5XCI7XG5pbXBvcnQgeyBjYWxjRGF0ZVJhbmdlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2NhbGNEYXRlUmFuZ2VcIjtcblxudmFyIENhdGVnb3J5c0NvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENhdGVnb3J5c0NvbXBvbmVudCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2F0ZWdvcnlzQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYXRlZ29yeXNDb21wb25lbnQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2F0ZWdvcnlzQ29tcG9uZW50KTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2F0ZWdvcnlzQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBkYXRlUmFuZ2UgPSBjYWxjRGF0ZVJhbmdlKHRoaXMucHJvcHMuZGF0ZVBlcmlvZCk7XG4gICAgICB0aGlzLnByb3BzLmdldEFsbExpc3RzV2l0aENhdGVnb3J5cyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHtcbiAgICAgICAgdXNlcklkOiB0aGlzLnByb3BzLnVzZXIuaWRcbiAgICAgIH0pLCBkYXRlUmFuZ2UpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBbLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9nZ2xlQ2F0ZWdvcnksIHtcbiAgICAgICAga2V5OiBcImN0MDFcIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAga2V5OiBcImN0MDJcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcImRldGFpbHMgZGV0YWlsc19jYXRlZ29yeXNcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2F0ZWdvcnksIHtcbiAgICAgICAgdHlwZTogXCJleHBlbnNlXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDYXRlZ29yeSwge1xuICAgICAgICB0eXBlOiBcImluY29tZVwiXG4gICAgICB9KSldO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYXRlZ29yeXNDb21wb25lbnQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBDYXRlZ29yeXNDb21wb25lbnQgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IENhdGVnb3J5c0NvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXNBY3Rpb24gfSBmcm9tICcuLi8uLi9zdG9yZS9hY3Rpb25zJztcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLnVzZXJcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICBnZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXM6IGZ1bmN0aW9uIGdldEFsbExpc3RzV2l0aENhdGVnb3J5cyh1c2VySWRBbmREYXRlUmFuZ2UpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaChnZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXNBY3Rpb24odXNlcklkQW5kRGF0ZVJhbmdlKSk7XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IHZhciBDYXRlZ29yeXMgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShDYXRlZ29yeXNDb21wb25lbnQpOyIsImltcG9ydCB7IENhdGVnb3J5cyB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3J5czsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IEhlYWRlciBmcm9tICcuLi9oZWFkZXInO1xuaW1wb3J0IENoYXJ0cyBmcm9tICcuLi8uLi9jb21wb25lbnRzL0NoYXJ0cyc7XG5pbXBvcnQgQ2F0ZWdvcnlzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQ2F0ZWdvcnlzJztcblxudmFyIEhvbWUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEhvbWUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSG9tZSk7XG5cbiAgZnVuY3Rpb24gSG9tZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSG9tZSk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSG9tZSwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkZXIsIG51bGwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hhcnRzLCBudWxsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDYXRlZ29yeXMsIHtcbiAgICAgICAgZGF0ZVBlcmlvZDogdGhpcy5wcm9wcy51cmxQYXJhbXMucGVyaW9kXG4gICAgICB9KSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBIb21lO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgeyBIb21lIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuXG52YXIgUmFkaW9CdXR0b24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhSYWRpb0J1dHRvbiwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUmFkaW9CdXR0b24pO1xuXG4gIGZ1bmN0aW9uIFJhZGlvQnV0dG9uKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJhZGlvQnV0dG9uKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICAgIF90aGlzLmRlZmF1bHRDaGVja2VkID0gX3RoaXMucHJvcHMuZGVmYXVsdENoZWNrZWQgfHwgZmFsc2U7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJhZGlvQnV0dG9uLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFsvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAga2V5OiAncmIwMScsXG4gICAgICAgIGNsYXNzTmFtZTogXCJyYWRpby1idXR0b25cIixcbiAgICAgICAgdHlwZTogXCJyYWRpb1wiLFxuICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgbmFtZTogdGhpcy5wcm9wcy5uYW1lLFxuICAgICAgICB2YWx1ZTogdGhpcy5wcm9wcy52YWx1ZSxcbiAgICAgICAgZGVmYXVsdENoZWNrZWQ6IHRoaXMuZGVmYXVsdENoZWNrZWQsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMucHJvcHMuY2FsbGJhY2tcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHtcbiAgICAgICAga2V5OiAncmIwMicsXG4gICAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQodGhpcy5wcm9wcy5jbGFzc05hbWUsIFwiIHJhZGlvLWJ1dHRvbi1sYWJsZVwiKSxcbiAgICAgICAgaHRtbEZvcjogdGhpcy5wcm9wcy5pZFxuICAgICAgfSwgdGhpcy5wcm9wcy5jaGlsZHJlbildO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSYWRpb0J1dHRvbjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IFJhZGlvQnV0dG9uIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgUmFkaW9CdXR0b24gZnJvbSAnLi9jb21wb25lbnQnO1xuZXhwb3J0IGRlZmF1bHQgUmFkaW9CdXR0b247IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IFJhZGlvQnV0dG9uIGZyb20gXCIuLi9SYWRpb0J1dHRvblwiO1xuaW1wb3J0IFN1Ym1pdEJ1dHRvbiBmcm9tIFwiLi4vU3VibWl0QnV0dG9uXCI7XG5cbnZhciBBZGRDYXRlZ29yeUNvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEFkZENhdGVnb3J5Q29tcG9uZW50LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihBZGRDYXRlZ29yeUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQWRkQ2F0ZWdvcnlDb21wb25lbnQocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWRkQ2F0ZWdvcnlDb21wb25lbnQpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0eXBlOiAnZXhwZW5zZScsXG4gICAgICB0aXRsZTogJycsXG4gICAgICB1c2VySWQ6IHByb3BzLnVzZXIuaWRcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IF90aGlzLmhhbmRsZUNoYW5nZS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5hZGRDYXRlZ29yeUFuZFJlc2V0U3RhdGUgPSBfdGhpcy5hZGRDYXRlZ29yeUFuZFJlc2V0U3RhdGUuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEFkZENhdGVnb3J5Q29tcG9uZW50LCBbe1xuICAgIGtleTogXCJoYW5kbGVDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUsIHZhbCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIHZhbCwgZS50YXJnZXQudmFsdWUpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkQ2F0ZWdvcnlBbmRSZXNldFN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENhdGVnb3J5QW5kUmVzZXRTdGF0ZShjYXRlZ29yeSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUudGl0bGUgIT09ICcnKSB7XG4gICAgICAgIHRoaXMucHJvcHMuYWRkQ2F0ZWdvcnkoY2F0ZWdvcnkpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB0aXRsZTogJydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzZXR1cC1mb3JtXCIsXG4gICAgICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChlKSB7XG4gICAgICAgICAgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmFkaW9CdXR0b24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiAncmFkaW8tc2V0dXAtbGFibGUnLFxuICAgICAgICBpZDogJ3JhZGlvLWV4cGVuc2UnLFxuICAgICAgICBuYW1lOiAnY2F0ZWdvcnktdHlwZScsXG4gICAgICAgIHZhbHVlOiAnZXhwZW5zZScsXG4gICAgICAgIGRlZmF1bHRDaGVja2VkOiB0cnVlLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlQ2hhbmdlKGUsICd0eXBlJyk7XG4gICAgICAgIH1cbiAgICAgIH0sIFwiXFx1MDQyMFxcdTA0MzBcXHUwNDQxXFx1MDQ0NVxcdTA0M0VcXHUwNDM0XCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSYWRpb0J1dHRvbiwge1xuICAgICAgICBjbGFzc05hbWU6ICdyYWRpby1zZXR1cC1sYWJsZScsXG4gICAgICAgIGlkOiAncmFkaW8taW5jb21lJyxcbiAgICAgICAgbmFtZTogJ2NhdGVnb3J5LXR5cGUnLFxuICAgICAgICB2YWx1ZTogJ2luY29tZScsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVDaGFuZ2UoZSwgJ3R5cGUnKTtcbiAgICAgICAgfVxuICAgICAgfSwgXCJcXHUwNDE0XFx1MDQzRVxcdTA0NDVcXHUwNDNFXFx1MDQzNFwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlQ2hhbmdlKGUsICd0aXRsZScpO1xuICAgICAgICB9LFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJcXHUwNDFEXFx1MDQzMFxcdTA0MzdcXHUwNDMyXFx1MDQzMFxcdTA0M0RcXHUwNDM4XFx1MDQzNVwiLFxuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInNldHVwLWlucHV0LWZpZWxkXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiAnYnV0dG9uX3NldHVwLWZvcm0nLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5hZGRDYXRlZ29yeUFuZFJlc2V0U3RhdGUoX3RoaXMyLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSwgXCJcXHUwNDE0XFx1MDQzRVxcdTA0MzFcXHUwNDMwXFx1MDQzMlxcdTA0MzhcXHUwNDQyXFx1MDQ0Q1wiKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFkZENhdGVnb3J5Q29tcG9uZW50O1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IHsgQWRkQ2F0ZWdvcnlDb21wb25lbnQgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgYWRkQ2F0ZWdvcnlBY3Rpb24gfSBmcm9tICcuLi8uLi9zdG9yZS9hY3Rpb25zJztcbmltcG9ydCBBZGRDYXRlZ29yeUNvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyOiBzdGF0ZS51c2VyXG4gIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgYWRkQ2F0ZWdvcnk6IGZ1bmN0aW9uIGFkZENhdGVnb3J5KGNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goYWRkQ2F0ZWdvcnlBY3Rpb24oY2F0ZWdvcnkpKTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgdmFyIEFkZENhdGVnb3J5ID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoQWRkQ2F0ZWdvcnlDb21wb25lbnQpOyIsImltcG9ydCB7IEFkZENhdGVnb3J5IH0gZnJvbSAnLi9jb250YWluZXInO1xuZXhwb3J0IGRlZmF1bHQgQWRkQ2F0ZWdvcnk7IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IFN1Ym1pdEJ1dHRvbiBmcm9tIFwiLi4vU3VibWl0QnV0dG9uXCI7XG5pbXBvcnQgTW9kYWxXaW5kb3cgZnJvbSBcIi4uL01vZGFsV2luZG93XCI7XG5pbXBvcnQgQ2xvc2VXaW5kb3dCdXR0b24gZnJvbSBcIi4uL0Nsb3NlV2luZG93QnV0dG9uXCI7XG5pbXBvcnQgQ29uZmlybURlbGV0ZVdpbmRvdyBmcm9tIFwiLi4vQ29uZmlybURlbGV0ZVdpbmRvd1wiO1xuXG52YXIgQ2F0ZWdvcnlJdGVtU2V0dXBDb21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDYXRlZ29yeUl0ZW1TZXR1cENvbXBvbmVudCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2F0ZWdvcnlJdGVtU2V0dXBDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhdGVnb3J5SXRlbVNldHVwQ29tcG9uZW50KHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhdGVnb3J5SXRlbVNldHVwQ29tcG9uZW50KTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaXNPcGVuRWRpdFdpbmRvdzogZmFsc2UsXG4gICAgICBpc09wZW5Db25maXJtRGVsZXRlOiBmYWxzZSxcbiAgICAgIHRpdGxlOiBfdGhpcy5wcm9wcy50aXRsZVxuICAgIH07XG4gICAgX3RoaXMub3BlbkVkaXRXaW5kb3cgPSBfdGhpcy5vcGVuRWRpdFdpbmRvdy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5jbG9zZVdpbmRvd3MgPSBfdGhpcy5jbG9zZVdpbmRvd3MuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMub3BlbkNvbmZpcm1EZWxldGVXaW5kb3cgPSBfdGhpcy5vcGVuQ29uZmlybURlbGV0ZVdpbmRvdy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5zYXZlQ2F0ZWdvcnlJdGVtID0gX3RoaXMuc2F2ZUNhdGVnb3J5SXRlbS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5kZWxldGVDYXRlZ29yeUl0ZW0gPSBfdGhpcy5kZWxldGVDYXRlZ29yeUl0ZW0uYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMudG9nZ2xlVmlzaWJsZUFuZFVwZGF0ZSA9IF90aGlzLnRvZ2dsZVZpc2libGVBbmRVcGRhdGUuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhdGVnb3J5SXRlbVNldHVwQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJ0b2dnbGVWaXNpYmxlQW5kVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZVZpc2libGVBbmRVcGRhdGUoKSB7XG4gICAgICB2YXIgY2F0ZWdvcnkgPSB7XG4gICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICB2aXNpYmxlOiAhdGhpcy5wcm9wcy52aXNpYmxlXG4gICAgICB9O1xuICAgICAgdGhpcy5wcm9wcy51cGRDYXRlZ29yeShjYXRlZ29yeSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZUNoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSwgdmFsKSB7XG4gICAgICB2YXIgZmllbGRWYWx1ZSA9IHZhbCA9PT0gXCJzdW1cIiA/IGUudGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1xcRC8sICcnKSA6IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgdGhpcy5zZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIHZhbCwgZmllbGRWYWx1ZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvcGVuRWRpdFdpbmRvd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuRWRpdFdpbmRvdygpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc09wZW5FZGl0V2luZG93OiB0cnVlLFxuICAgICAgICBpc09wZW5Db25maXJtRGVsZXRlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9wZW5Db25maXJtRGVsZXRlV2luZG93XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5Db25maXJtRGVsZXRlV2luZG93KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzT3BlbkVkaXRXaW5kb3c6IGZhbHNlLFxuICAgICAgICBpc09wZW5Db25maXJtRGVsZXRlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VXaW5kb3dzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlV2luZG93cygpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc09wZW5FZGl0V2luZG93OiBmYWxzZSxcbiAgICAgICAgaXNPcGVuQ29uZmlybURlbGV0ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzYXZlQ2F0ZWdvcnlJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVDYXRlZ29yeUl0ZW0oKSB7XG4gICAgICB0aGlzLnByb3BzLnVwZENhdGVnb3J5KHtcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2xvc2VXaW5kb3dzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUNhdGVnb3J5SXRlbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVDYXRlZ29yeUl0ZW0oKSB7XG4gICAgICB0aGlzLnByb3BzLmRlbENhdGVnb3J5KHtcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWRcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jbG9zZVdpbmRvd3MoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gWy8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAga2V5OiB0aGlzLnByb3BzLmlkLFxuICAgICAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnlfX3NldHVwXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLm9wZW5FZGl0V2luZG93KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZTogXCJjYXRlZ29yeS1zZXR1cF9faXRlbSBcIi5jb25jYXQoIXRoaXMucHJvcHMudmlzaWJsZSAmJiBcImNhdGVnb3J5LXNldHVwX19pdGVtX2hpZGRlblwiKVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnktc2V0dXBfX3RpdGxlXCJcbiAgICAgIH0sIHRoaXMucHJvcHMudGl0bGUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3VibWl0QnV0dG9uLCB7XG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnRvZ2dsZVZpc2libGVBbmRVcGRhdGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b25faGlkZVwiXG4gICAgICB9LCB0aGlzLnByb3BzLnZpc2libGUgPyBcIlxcdTA0MjFcXHUwNDNBXFx1MDQ0MFxcdTA0NEJcXHUwNDQyXFx1MDQ0Q1wiIDogXCJcXHUwNDFGXFx1MDQzRVxcdTA0M0FcXHUwNDMwXFx1MDQzN1xcdTA0MzBcXHUwNDQyXFx1MDQ0Q1wiKSksIHRoaXMuc3RhdGUuaXNPcGVuRWRpdFdpbmRvdyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNb2RhbFdpbmRvdywge1xuICAgICAgICBrZXk6IFwiZXdcIi5jb25jYXQodGhpcy5wcm9wcy5pZClcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENsb3NlV2luZG93QnV0dG9uLCB7XG4gICAgICAgIGNsb3NlQ2FsbGJhY2s6IHRoaXMuY2xvc2VXaW5kb3dzXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLCB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlQ2hhbmdlKGUsICd0aXRsZScpO1xuICAgICAgICB9LFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJcXHUwNDFBXFx1MDQzRVxcdTA0M0NcXHUwNDNDXFx1MDQzNVxcdTA0M0RcXHUwNDQyXFx1MDQzMFxcdTA0NDBcXHUwNDM4XFx1MDQzOVwiLFxuICAgICAgICBjbGFzc05hbWU6IFwiYWRkLWZvcm1fX3R4dFwiXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibW9kYWwtd2luZG93X19idXR0b25zXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbiwge1xuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5zYXZlQ2F0ZWdvcnlJdGVtKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZTogXCJidXR0b25fbW9kYWwtd2luZG93XCJcbiAgICAgIH0sIFwiXFx1MDQyMVxcdTA0M0VcXHUwNDQ1XFx1MDQ0MFxcdTA0MzBcXHUwNDNEXFx1MDQzOFxcdTA0NDJcXHUwNDRDXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIub3BlbkNvbmZpcm1EZWxldGVXaW5kb3coKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBcImJ1dHRvbl9tb2RhbC13aW5kb3dcIlxuICAgICAgfSwgXCJcXHUwNDIzXFx1MDQzNFxcdTA0MzBcXHUwNDNCXFx1MDQzOFxcdTA0NDJcXHUwNDRDXCIpKSkpLCB0aGlzLnN0YXRlLmlzT3BlbkNvbmZpcm1EZWxldGUgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29uZmlybURlbGV0ZVdpbmRvdywge1xuICAgICAgICBrZXk6IFwiZHdcIi5jb25jYXQodGhpcy5wcm9wcy5pZCksXG4gICAgICAgIGNhbmNlbENhbGxiYWNrOiBmdW5jdGlvbiBjYW5jZWxDYWxsYmFjaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmNsb3NlV2luZG93cygpO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGVDYWxsYmFjazogZnVuY3Rpb24gZGVsZXRlQ2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5kZWxldGVDYXRlZ29yeUl0ZW0oKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGl0bGU6IHRoaXMucHJvcHMudGl0bGVcbiAgICAgIH0pXTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2F0ZWdvcnlJdGVtU2V0dXBDb21wb25lbnQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBDYXRlZ29yeUl0ZW1TZXR1cENvbXBvbmVudCBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQ2F0ZWdvcnlJdGVtU2V0dXBDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgdXBkQ2F0ZWdvcnlBY3Rpb24sIGRlbENhdGVnb3J5QWN0aW9uIH0gZnJvbSBcIi4uLy4uL3N0b3JlL2FjdGlvbnNcIjtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge307XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgdXBkQ2F0ZWdvcnk6IGZ1bmN0aW9uIHVwZENhdGVnb3J5KGNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2godXBkQ2F0ZWdvcnlBY3Rpb24oY2F0ZWdvcnkpKTtcbiAgICB9LFxuICAgIGRlbENhdGVnb3J5OiBmdW5jdGlvbiBkZWxDYXRlZ29yeShjYXRlZ29yeSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKGRlbENhdGVnb3J5QWN0aW9uKGNhdGVnb3J5KSk7XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IHZhciBDYXRlZ29yeUl0ZW1TZXR1cCA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKENhdGVnb3J5SXRlbVNldHVwQ29tcG9uZW50KTsiLCJpbXBvcnQgeyBDYXRlZ29yeUl0ZW1TZXR1cCB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3J5SXRlbVNldHVwOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgQ2F0ZWdvcnlJdGVtU2V0dXAgZnJvbSBcIi4uL0NhdGVnb3J5SXRlbV9TZXR1cFwiO1xuXG52YXIgQ2F0ZWdvcnlTZXR1cENvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ2F0ZWdvcnlTZXR1cENvbXBvbmVudCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDYXRlZ29yeVNldHVwQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYXRlZ29yeVNldHVwQ29tcG9uZW50KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhdGVnb3J5U2V0dXBDb21wb25lbnQpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDYXRlZ29yeVNldHVwQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJyZXR1cm5DbGFzc05hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmV0dXJuQ2xhc3NOYW1lKCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMudHlwZSAhPT0gdGhpcy5wcm9wcy50b2dnbGVDYXRlZ29yeSkge1xuICAgICAgICByZXR1cm4gXCJkZXRhaWxzLXNldHVwX19ibG9ja19oaWRlXCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVySXRlbXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVySXRlbXMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jYXRlZ29yeXNJZEFyci5tYXAoZnVuY3Rpb24gKGNhdGVnb3J5SWQpIHtcbiAgICAgICAgdmFyIGNhdGVnb3J5ID0gX3RoaXMucHJvcHMuY2F0ZWdvcnlzW2NhdGVnb3J5SWRdO1xuXG4gICAgICAgIGlmIChjYXRlZ29yeS50eXBlID09PSBfdGhpcy5wcm9wcy50eXBlKSB7XG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENhdGVnb3J5SXRlbVNldHVwLCB7XG4gICAgICAgICAgICBrZXk6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgICAgaWQ6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgICAgdGl0bGU6IGNhdGVnb3J5LnRpdGxlLFxuICAgICAgICAgICAgdHlwZTogY2F0ZWdvcnkudHlwZSxcbiAgICAgICAgICAgIHZpc2libGU6IGNhdGVnb3J5LnZpc2libGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICBpZiAoJ2NhdGVnb3J5cycgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJkZXRhaWxzLXNldHVwX19ibG9jayBcIi5jb25jYXQodGhpcy5yZXR1cm5DbGFzc05hbWUoKSlcbiAgICAgICAgfSwgdGhpcy5yZW5kZXJJdGVtcygpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYXRlZ29yeVNldHVwQ29tcG9uZW50O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgeyBDYXRlZ29yeVNldHVwQ29tcG9uZW50IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBDYXRlZ29yeVNldHVwQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICBpZiAoc3RhdGUuZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHt9O1xuICByZXR1cm4ge1xuICAgIGNhdGVnb3J5czogc3RhdGUuZGF0YS5lbnRpdGllcy5jYXRlZ29yeXMsXG4gICAgY2F0ZWdvcnlzSWRBcnI6IHN0YXRlLmRhdGEucmVzdWx0LmNhdGVnb3J5cyxcbiAgICB0b2dnbGVDYXRlZ29yeTogc3RhdGUudG9nZ2xlQ2F0ZWdvcnlcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHt9O1xufTtcblxuZXhwb3J0IHZhciBDYXRlZ29yeVNldHVwID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoQ2F0ZWdvcnlTZXR1cENvbXBvbmVudCk7IiwiaW1wb3J0IHsgQ2F0ZWdvcnlTZXR1cCB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3J5U2V0dXA7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBDYXRlZ29yeVNldHVwIGZyb20gJy4uL0NhdGVnb3J5X1NldHVwJztcbmltcG9ydCBUb2dnbGVDYXRlZ29yeSBmcm9tIFwiLi4vVG9nZ2xlQ2F0ZWdvcnlcIjtcblxudmFyIENhdGVnb3J5c0NvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENhdGVnb3J5c0NvbXBvbmVudCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2F0ZWdvcnlzQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYXRlZ29yeXNDb21wb25lbnQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2F0ZWdvcnlzQ29tcG9uZW50KTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2F0ZWdvcnlzQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMucHJvcHMuZ2V0QWxsQ2F0ZWdvcnlzKHRoaXMucHJvcHMudXNlci5pZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gWy8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRvZ2dsZUNhdGVnb3J5LCB7XG4gICAgICAgIGtleTogXCJjdDAxXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGtleTogXCJjdDAyXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJkZXRhaWxzLXNldHVwIGRldGFpbHMtc2V0dXBfY2F0ZWdvcnlzXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENhdGVnb3J5U2V0dXAsIHtcbiAgICAgICAgdHlwZTogXCJleHBlbnNlXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDYXRlZ29yeVNldHVwLCB7XG4gICAgICAgIHR5cGU6IFwiaW5jb21lXCJcbiAgICAgIH0pKV07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhdGVnb3J5c0NvbXBvbmVudDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IENhdGVnb3J5c0NvbXBvbmVudCBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQ2F0ZWdvcnlzU2V0dXBDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgZ2V0QWxsQ2F0ZWdvcnlzQWN0aW9uIH0gZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucyc7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyOiBzdGF0ZS51c2VyXG4gIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgZ2V0QWxsQ2F0ZWdvcnlzOiBmdW5jdGlvbiBnZXRBbGxDYXRlZ29yeXModXNlcklkKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goZ2V0QWxsQ2F0ZWdvcnlzQWN0aW9uKHVzZXJJZCkpO1xuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydCB2YXIgQ2F0ZWdvcnlzU2V0dXAgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShDYXRlZ29yeXNTZXR1cENvbXBvbmVudCk7IiwiaW1wb3J0IHsgQ2F0ZWdvcnlzU2V0dXAgfSBmcm9tICcuL2NvbnRhaW5lcic7XG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yeXNTZXR1cDsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IEhlYWRlciBmcm9tICcuLi9oZWFkZXInO1xuaW1wb3J0IEFkZENhdGVnb3J5IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0FkZENhdGVnb3J5XCI7XG5pbXBvcnQgQ2F0ZWdvcnlzU2V0dXAgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvQ2F0ZWdvcnlzX1NldHVwXCI7XG5cbnZhciBTZXR1cCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoU2V0dXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU2V0dXApO1xuXG4gIGZ1bmN0aW9uIFNldHVwKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXR1cCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2V0dXAsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gWy8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlciwge1xuICAgICAgICBrZXk6ICdhYzAxJ1xuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFkZENhdGVnb3J5LCB7XG4gICAgICAgIGtleTogJ2FjMDInXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2F0ZWdvcnlzU2V0dXAsIHtcbiAgICAgICAga2V5OiAnYWMwMydcbiAgICAgIH0pXTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2V0dXA7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IFNldHVwIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IFN1Ym1pdEJ1dHRvbiBmcm9tIFwiLi4vU3VibWl0QnV0dG9uXCI7XG5cbnZhciBMb2dpbkZvcm1Db21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhMb2dpbkZvcm1Db21wb25lbnQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKExvZ2luRm9ybUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTG9naW5Gb3JtQ29tcG9uZW50KHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvZ2luRm9ybUNvbXBvbmVudCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvZ2luOiAnJyxcbiAgICAgIHBhc3M6ICcnXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTG9naW5Gb3JtQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJoYW5kbGVDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUsIHZhbCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIHZhbCwgZS50YXJnZXQudmFsdWUpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgdGhpcy5wcm9wcy51c2VyLmxvZ2luRXJyb3JNZXMgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibG9naW4tZXJyb3ItbWVzXCJcbiAgICAgIH0sIHRoaXMucHJvcHMudXNlci5sb2dpbkVycm9yTWVzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHtcbiAgICAgICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KGUpIHtcbiAgICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUubG9naW4sXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVDaGFuZ2UoZSwgJ2xvZ2luJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcIlxcdTA0MUJcXHUwNDNFXFx1MDQzM1xcdTA0MzhcXHUwNDNEXCIsXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICBjbGFzc05hbWU6IFwiYWRkLWZvcm1fX3N1bVwiXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnBhc3MsXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVDaGFuZ2UoZSwgJ3Bhc3MnKTtcbiAgICAgICAgfSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwiXFx1MDQxRlxcdTA0MzBcXHUwNDQwXFx1MDQzRVxcdTA0M0JcXHUwNDRDXCIsXG4gICAgICAgIHR5cGU6IFwicGFzc3dvcmRcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcImFkZC1mb3JtX19zdW1cIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImxvZ2luLWZvcm0tc3VibWl0LXdyYXBcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3VibWl0QnV0dG9uLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ2J1dHRvbl9sb2dpbi1mb3JtJyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIucHJvcHMubG9naW5SZXF1ZXN0KHtcbiAgICAgICAgICAgIGxvZ2luOiBfdGhpczIuc3RhdGUubG9naW4sXG4gICAgICAgICAgICBwYXNzOiBfdGhpczIuc3RhdGUucGFzc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCBcIlxcdTA0MTJcXHUwNDNFXFx1MDQzOVxcdTA0NDJcXHUwNDM4XCIpKSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMb2dpbkZvcm1Db21wb25lbnQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBMb2dpbkZvcm1Db21wb25lbnQgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgbG9naW5SZXF1ZXN0QWN0aW9uIH0gZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucyc7XG5pbXBvcnQgTG9naW5Gb3JtQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLnVzZXJcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICBsb2dpblJlcXVlc3Q6IGZ1bmN0aW9uIGxvZ2luUmVxdWVzdChkYXRhKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2gobG9naW5SZXF1ZXN0QWN0aW9uKGRhdGEpKTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgdmFyIExvZ2luRm9ybSA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKExvZ2luRm9ybUNvbXBvbmVudCk7IiwiaW1wb3J0IHsgTG9naW5Gb3JtIH0gZnJvbSAnLi9jb250YWluZXInO1xuZXhwb3J0IGRlZmF1bHQgTG9naW5Gb3JtOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IExvZ2luRm9ybSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0xvZ2luRm9ybSc7XG5pbXBvcnQgeyBSb3V0ZSwgUmVkaXJlY3QgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuXG52YXIgTG9naW5QYWdlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhMb2dpblBhZ2UsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoTG9naW5QYWdlKTtcblxuICBmdW5jdGlvbiBMb2dpblBhZ2UocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9naW5QYWdlKTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTG9naW5QYWdlLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImxvZ2luLWZvcm0td3JhcFwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMb2dpbkZvcm0sIG51bGwpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9naW5QYWdlO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG52YXIgUmVkaXJlY3RSb3V0ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFJlZGlyZWN0Um91dGUsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyMiA9IF9jcmVhdGVTdXBlcihSZWRpcmVjdFJvdXRlKTtcblxuICBmdW5jdGlvbiBSZWRpcmVjdFJvdXRlKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlZGlyZWN0Um91dGUpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIyLmNhbGwodGhpcywgcHJvcHMpO1xuICAgIF90aGlzLmxvY2F0aW9uID0gcHJvcHMubG9jYXRpb247XG4gICAgX3RoaXMuZnJvbSA9IFwiL1wiO1xuICAgIGlmIChwcm9wcy5sb2NhdGlvbi5zdGF0ZSAhPT0gdW5kZWZpbmVkKSBfdGhpcy5mcm9tID0gcHJvcHMubG9jYXRpb24uc3RhdGUuZnJvbS5wYXRobmFtZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVkaXJlY3RSb3V0ZSwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgcmV0dXJuICFfdGhpczIucHJvcHMudXNlci5pc0xvZ2luID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTG9naW5QYWdlLCBudWxsKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlZGlyZWN0LCB7XG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICBwYXRobmFtZTogX3RoaXMyLmZyb20gLy9zdGF0ZToge2Zyb206IHRoaXMubG9jYXRpb259XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlZGlyZWN0Um91dGU7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG52YXIgTG9naW4gPSBjb25uZWN0KGZ1bmN0aW9uIChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLnVzZXJcbiAgfTtcbn0pKFJlZGlyZWN0Um91dGUpO1xuZXhwb3J0IGRlZmF1bHQgTG9naW47IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcblxudmFyIFBhZ2U0MDQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFBhZ2U0MDQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUGFnZTQwNCk7XG5cbiAgZnVuY3Rpb24gUGFnZTQwNChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdlNDA0KTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUGFnZTQwNCwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBcIjQwNCBcXHUwNDQxXFx1MDQ0MlxcdTA0NDBcXHUwNDMwXFx1MDQzRFxcdTA0MzhcXHUwNDQ2XFx1MDQzMCBcXHUwNDNEXFx1MDQzNSBcXHUwNDNEXFx1MDQzMFxcdTA0MzlcXHUwNDM0XFx1MDQzNVxcdTA0M0RcXHUwNDMwXCIpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQYWdlNDA0O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgeyBQYWdlNDA0IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJvdXRlLCBSZWRpcmVjdCB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5cbnZhciBQcml2YXRlUm91dGVDb21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQcml2YXRlUm91dGVDb21wb25lbnQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFByaXZhdGVSb3V0ZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUHJpdmF0ZVJvdXRlQ29tcG9uZW50KHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByaXZhdGVSb3V0ZUNvbXBvbmVudCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgICBfdGhpcy5jaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICAgIF90aGlzLnVybFBhcmFtcyA9IHByb3BzLmNvbXB1dGVkTWF0Y2gucGFyYW1zO1xuICAgIF90aGlzLmxvY2F0aW9uID0gcHJvcHMubG9jYXRpb247XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFByaXZhdGVSb3V0ZUNvbXBvbmVudCwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy51c2VyLmlzTG9naW4gIT09IHRydWUgJiYgdGhpcy5wcm9wcy51c2VyLmlzTG9naW4gIT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMucHJvcHMuYXV0aFJlcXVlc3QoKTsgLy/QsNCy0YLQvtGA0LjQt9Cw0YbQuNGPXG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMucHJvcHMudXNlci5pc0xvZ2luICE9PSB0cnVlICYmIHRoaXMucHJvcHMudXNlci5pc0xvZ2luICE9PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gW107IC8v0LfQsNCz0LvRg9GI0LrQsFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5wcm9wcy51c2VyLmlzTG9naW4gLy/Qv9C+0LTRgtCy0LXRgNC20LTQtdC90LjQtSDQsNCy0YLQvtGA0LjQt9Cw0YbQuNC4XG4gICAgICAgICAgPyAvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KF90aGlzMi5jaGlsZHJlbiwge1xuICAgICAgICAgICAgdXJsUGFyYW1zOiBfdGhpczIudXJsUGFyYW1zXG4gICAgICAgICAgfSkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWRpcmVjdCwge1xuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgcGF0aG5hbWU6IFwiL2xvZ2luXCIsXG4gICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgZnJvbTogX3RoaXMyLmxvY2F0aW9uXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFByaXZhdGVSb3V0ZUNvbXBvbmVudDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IFByaXZhdGVSb3V0ZUNvbXBvbmVudCBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUHJpdmF0ZVJvdXRlQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7IGF1dGhSZXF1ZXN0QWN0aW9uIH0gZnJvbSBcIi4uLy4uL3N0b3JlL2FjdGlvbnNcIjtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLnVzZXJcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICBhdXRoUmVxdWVzdDogZnVuY3Rpb24gYXV0aFJlcXVlc3QoKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goYXV0aFJlcXVlc3RBY3Rpb24oKSk7XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IHZhciBQcml2YXRlUm91dGUgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShQcml2YXRlUm91dGVDb21wb25lbnQpOyIsImltcG9ydCB7IFByaXZhdGVSb3V0ZSB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IFByaXZhdGVSb3V0ZTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBCcm93c2VyUm91dGVyIGFzIFJvdXRlciwgU3dpdGNoLCBSb3V0ZSB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IEhvbWUgZnJvbSAnLi9wYWdlcy9ob21lJztcbmltcG9ydCBTZXR1cCBmcm9tICcuL3BhZ2VzL3NldHVwJztcbmltcG9ydCBMb2dpbiBmcm9tICcuL3BhZ2VzL2xvZ2luJztcbmltcG9ydCBQYWdlNDA0IGZyb20gJy4vcGFnZXMvNDA0JztcbmltcG9ydCBQcml2YXRlUm91dGUgZnJvbSAnLi9jb21wb25lbnRzL1ByaXZhdGVSb3V0ZSc7XG5pbXBvcnQgJy4vc3R5bGVzLmNzcyc7XG5cbnZhciBBcHAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEFwcCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihBcHApO1xuXG4gIGZ1bmN0aW9uIEFwcCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXBwKTtcblxuICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBcHAsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvdmlkZXIsIHtcbiAgICAgICAgc3RvcmU6IHN0b3JlXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJtYXgtd2lkdGhcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTd2l0Y2gsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFByaXZhdGVSb3V0ZSwge1xuICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgcGF0aDogXCIvXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhvbWUsIG51bGwpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUHJpdmF0ZVJvdXRlLCB7XG4gICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICBwYXRoOiBcIi9zZXR1cFwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZXR1cCwgbnVsbCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwge1xuICAgICAgICBwYXRoOiBcIi9sb2dpbi9cIixcbiAgICAgICAgY29tcG9uZW50OiBMb2dpblxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFByaXZhdGVSb3V0ZSwge1xuICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgcGF0aDogXCIvOnBlcmlvZFwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChIb21lLCBudWxsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgICAgIHBhdGg6IFwiKlwiLFxuICAgICAgICBjb21wb25lbnQ6IFBhZ2U0MDRcbiAgICAgIH0pKSkpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQXBwO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5SZWFjdERPTS5yZW5kZXIoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFwcCwgbnVsbCksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///e+/uGl/8\n");

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, [953,296], () => (__webpack_exec__("e+/uGl/8")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);