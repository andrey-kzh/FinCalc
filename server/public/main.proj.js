"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkReact_project"] = self["webpackChunkReact_project"] || []).push([[179],{

/***/ "e+/uGl/8":
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

eval("\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/classCallCheck.js\nvar classCallCheck = __webpack_require__(\"lwsEjDFy\");\nvar classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/createClass.js\nvar createClass = __webpack_require__(\"W8MJtME8\");\nvar createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/inherits.js\nvar inherits = __webpack_require__(\"7W2iVumU\");\nvar inherits_default = /*#__PURE__*/__webpack_require__.n(inherits);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\nvar possibleConstructorReturn = __webpack_require__(\"a1gurjc+\");\nvar possibleConstructorReturn_default = /*#__PURE__*/__webpack_require__.n(possibleConstructorReturn);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/getPrototypeOf.js\nvar getPrototypeOf = __webpack_require__(\"NsbkXAeW\");\nvar getPrototypeOf_default = /*#__PURE__*/__webpack_require__.n(getPrototypeOf);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tIBJhx\");\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(\"i8i4LrFt\");\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 19 modules\nvar es = __webpack_require__(\"SNoJyrEz\");\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(\"55IpiCAJ\");\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js + 1 modules\nvar react_router = __webpack_require__(\"4qXz/kfb\");\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js + 2 modules\nvar redux = __webpack_require__(\"ofL3qLP6\");\n// EXTERNAL MODULE: ./node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js + 2 modules\nvar redux_saga_core_npm_proxy_esm = __webpack_require__(\"mM01Bdt2\");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"o0o1ebC6\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n// EXTERNAL MODULE: ./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js + 1 modules\nvar redux_saga_effects_npm_proxy_esm = __webpack_require__(\"IihTIhwn\");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/defineProperty.js\nvar defineProperty = __webpack_require__(\"lSNAPYH/\");\nvar defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"yXPUfTdm\");\nvar asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);\n;// CONCATENATED MODULE: ./src/utils/tokens.js\nfunction saveTokensToStorage(tokens) {\n  localStorage.setItem('tokens', JSON.stringify(tokens));\n}\nfunction clearTokensFromStorage() {\n  localStorage.removeItem('tokens');\n}\nfunction getRefreshTokenFromStorage() {\n  if (!localStorage.tokens) return null;\n  return JSON.parse(localStorage.tokens).refreshToken;\n}\nfunction getAccessTokenFromStorage() {\n  if (!localStorage.tokens) return null;\n  return JSON.parse(localStorage.tokens).accessToken;\n}\n;// CONCATENATED MODULE: ./src/api/index.js\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\nvar Api = /*#__PURE__*/function () {\n  function Api() {\n    classCallCheck_default()(this, Api);\n\n    this.urlRoot = '/api'; //this.urlRoot = 'http://localhost:3000/api';\n\n    this.optionsDefault = {\n      mode: \"cors\"\n    };\n    this.getRefreshTokenFromStorage = getRefreshTokenFromStorage;\n    this.getAccessTokenFromStorage = getAccessTokenFromStorage;\n    this.loginRequest = this.loginRequest.bind(this);\n    this.logoutRequest = this.logoutRequest.bind(this);\n    this.requestWithAccessToken = this.requestWithAccessToken.bind(this);\n    this.refreshTokens = this.refreshTokens.bind(this);\n    this.getAuthDataBySession = this.getAuthDataBySession.bind(this);\n    this.addCategoryRequest = this.addCategoryRequest.bind(this);\n    this.updCategoryRequest = this.updCategoryRequest.bind(this);\n    this.delCategoryRequest = this.delCategoryRequest.bind(this);\n    this.getAllCategorys = this.getAllCategorys.bind(this);\n    this.getAllListsWithCategorys = this.getAllListsWithCategorys.bind(this);\n    this.addListItemRequest = this.addListItemRequest.bind(this);\n    this.updListItemRequest = this.updListItemRequest.bind(this);\n    this.delListItemRequest = this.delListItemRequest.bind(this);\n  }\n\n  createClass_default()(Api, [{\n    key: \"requestWithAccessToken\",\n    value: function () {\n      var _requestWithAccessToken = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee(url, options) {\n        var fullUrl, accessToken;\n        return regenerator_default().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                fullUrl = \"\".concat(this.urlRoot).concat(url);\n                accessToken = this.getAccessTokenFromStorage();\n                if (!options.headers) options.headers = {};\n                options.headers = {\n                  'Content-Type': 'application/json'\n                };\n                if (accessToken) options.headers.Authorization = \"Bearer \".concat(accessToken);\n                _context.next = 8;\n                return fetch(fullUrl, _objectSpread(_objectSpread({}, this.optionsDefault), options));\n\n              case 8:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0.message);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 11]]);\n      }));\n\n      function requestWithAccessToken(_x, _x2) {\n        return _requestWithAccessToken.apply(this, arguments);\n      }\n\n      return requestWithAccessToken;\n    }()\n  }, {\n    key: \"refreshTokens\",\n    value: function () {\n      var _refreshTokens = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee2() {\n        var refreshToken, fullUrl, options, response;\n        return regenerator_default().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                refreshToken = this.getRefreshTokenFromStorage();\n                fullUrl = \"\".concat(this.urlRoot, \"/auth/refresh\");\n                options = {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                    refreshToken: refreshToken\n                  }),\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                };\n                _context2.next = 6;\n                return fetch(fullUrl, _objectSpread(_objectSpread({}, this.optionsDefault), options));\n\n              case 6:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0.message);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 10]]);\n      }));\n\n      function refreshTokens() {\n        return _refreshTokens.apply(this, arguments);\n      }\n\n      return refreshTokens;\n    }()\n  }, {\n    key: \"loginRequest\",\n    value: function () {\n      var _loginRequest = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee3(data) {\n        var fullUrl, options, response;\n        return regenerator_default().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                fullUrl = \"\".concat(this.urlRoot, \"/auth/login\");\n                options = {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                    login: data.login,\n                    password: data.pass\n                  }),\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                };\n                _context3.prev = 2;\n                _context3.next = 5;\n                return fetch(fullUrl, _objectSpread(_objectSpread({}, this.optionsDefault), options));\n\n              case 5:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context3.prev = 9;\n                _context3.t0 = _context3[\"catch\"](2);\n                console.log(_context3.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[2, 9]]);\n      }));\n\n      function loginRequest(_x3) {\n        return _loginRequest.apply(this, arguments);\n      }\n\n      return loginRequest;\n    }()\n  }, {\n    key: \"logoutRequest\",\n    value: function () {\n      var _logoutRequest = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee4() {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                url = \"/auth/logout\";\n                options = {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                    refreshToken: this.getRefreshTokenFromStorage()\n                  }),\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                };\n                _context4.prev = 2;\n                _context4.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context4.sent;\n                return _context4.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context4.prev = 9;\n                _context4.t0 = _context4[\"catch\"](2);\n                console.log(_context4.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[2, 9]]);\n      }));\n\n      function logoutRequest() {\n        return _logoutRequest.apply(this, arguments);\n      }\n\n      return logoutRequest;\n    }()\n  }, {\n    key: \"getAuthDataBySession\",\n    value: function () {\n      var _getAuthDataBySession = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee5() {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                url = \"/auth/user\";\n                options = {\n                  method: \"GET\"\n                };\n                _context5.prev = 2;\n                _context5.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context5.sent;\n                return _context5.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context5.prev = 9;\n                _context5.t0 = _context5[\"catch\"](2);\n                console.log(_context5.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[2, 9]]);\n      }));\n\n      function getAuthDataBySession() {\n        return _getAuthDataBySession.apply(this, arguments);\n      }\n\n      return getAuthDataBySession;\n    }()\n  }, {\n    key: \"addCategoryRequest\",\n    value: function () {\n      var _addCategoryRequest = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee6(category) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                url = \"/categorys\";\n                options = {\n                  method: \"POST\",\n                  body: JSON.stringify({\n                    title: category.title,\n                    userId: category.userId,\n                    type: category.type\n                  })\n                };\n                _context6.prev = 2;\n                _context6.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context6.sent;\n                return _context6.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context6.prev = 9;\n                _context6.t0 = _context6[\"catch\"](2);\n                console.log(_context6.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[2, 9]]);\n      }));\n\n      function addCategoryRequest(_x4) {\n        return _addCategoryRequest.apply(this, arguments);\n      }\n\n      return addCategoryRequest;\n    }()\n  }, {\n    key: \"updCategoryRequest\",\n    value: function () {\n      var _updCategoryRequest = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee7(category) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                url = \"/categorys\";\n                options = {\n                  method: \"PUT\",\n                  body: JSON.stringify(category)\n                };\n                _context7.prev = 2;\n                _context7.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context7.sent;\n                return _context7.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context7.prev = 9;\n                _context7.t0 = _context7[\"catch\"](2);\n                console.log(_context7.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[2, 9]]);\n      }));\n\n      function updCategoryRequest(_x5) {\n        return _updCategoryRequest.apply(this, arguments);\n      }\n\n      return updCategoryRequest;\n    }()\n  }, {\n    key: \"updListItemRequest\",\n    value: function () {\n      var _updListItemRequest = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee8(listItem) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                url = \"/lists\";\n                options = {\n                  method: \"PUT\",\n                  body: JSON.stringify(listItem)\n                };\n                _context8.prev = 2;\n                _context8.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context8.sent;\n                return _context8.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context8.prev = 9;\n                _context8.t0 = _context8[\"catch\"](2);\n                console.log(_context8.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[2, 9]]);\n      }));\n\n      function updListItemRequest(_x6) {\n        return _updListItemRequest.apply(this, arguments);\n      }\n\n      return updListItemRequest;\n    }()\n  }, {\n    key: \"delListItemRequest\",\n    value: function () {\n      var _delListItemRequest = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee9(listItem) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                url = \"/lists\";\n                options = {\n                  method: \"DELETE\",\n                  body: JSON.stringify(listItem)\n                };\n                _context9.prev = 2;\n                _context9.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context9.sent;\n                return _context9.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context9.prev = 9;\n                _context9.t0 = _context9[\"catch\"](2);\n                console.log(_context9.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this, [[2, 9]]);\n      }));\n\n      function delListItemRequest(_x7) {\n        return _delListItemRequest.apply(this, arguments);\n      }\n\n      return delListItemRequest;\n    }()\n  }, {\n    key: \"delCategoryRequest\",\n    value: function () {\n      var _delCategoryRequest = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee10(category) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                url = \"/categorys\";\n                options = {\n                  method: \"DELETE\",\n                  body: JSON.stringify(category)\n                };\n                _context10.prev = 2;\n                _context10.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context10.sent;\n                return _context10.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context10.prev = 9;\n                _context10.t0 = _context10[\"catch\"](2);\n                console.log(_context10.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this, [[2, 9]]);\n      }));\n\n      function delCategoryRequest(_x8) {\n        return _delCategoryRequest.apply(this, arguments);\n      }\n\n      return delCategoryRequest;\n    }()\n  }, {\n    key: \"getAllCategorys\",\n    value: function () {\n      var _getAllCategorys = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee11(userId) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                url = \"/categorys?userId=\".concat(userId);\n                options = {\n                  method: \"GET\"\n                };\n                _context11.prev = 2;\n                _context11.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context11.sent;\n                return _context11.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context11.prev = 9;\n                _context11.t0 = _context11[\"catch\"](2);\n                console.log(_context11.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this, [[2, 9]]);\n      }));\n\n      function getAllCategorys(_x9) {\n        return _getAllCategorys.apply(this, arguments);\n      }\n\n      return getAllCategorys;\n    }()\n  }, {\n    key: \"getAllListsWithCategorys\",\n    value: function () {\n      var _getAllListsWithCategorys = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee12(_ref) {\n        var userId, dateMin, dateMax, url, options, response;\n        return regenerator_default().wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                userId = _ref.userId, dateMin = _ref.dateMin, dateMax = _ref.dateMax;\n                url = \"/lists?userId=\".concat(userId, \"&dateMin=\").concat(dateMin, \"&dateMax=\").concat(dateMax);\n                options = {\n                  method: \"GET\"\n                };\n                _context12.prev = 3;\n                _context12.next = 6;\n                return this.requestWithAccessToken(url, options);\n\n              case 6:\n                response = _context12.sent;\n                return _context12.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 10:\n                _context12.prev = 10;\n                _context12.t0 = _context12[\"catch\"](3);\n                console.log(_context12.t0.message);\n\n              case 13:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this, [[3, 10]]);\n      }));\n\n      function getAllListsWithCategorys(_x10) {\n        return _getAllListsWithCategorys.apply(this, arguments);\n      }\n\n      return getAllListsWithCategorys;\n    }()\n  }, {\n    key: \"addListItemRequest\",\n    value: function () {\n      var _addListItemRequest = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee13(listItem) {\n        var url, options, response;\n        return regenerator_default().wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                url = \"/lists\";\n                options = {\n                  method: \"POST\",\n                  body: JSON.stringify(listItem)\n                };\n                _context13.prev = 2;\n                _context13.next = 5;\n                return this.requestWithAccessToken(url, options);\n\n              case 5:\n                response = _context13.sent;\n                return _context13.abrupt(\"return\", response.json().then(function (data) {\n                  return data;\n                }));\n\n              case 9:\n                _context13.prev = 9;\n                _context13.t0 = _context13[\"catch\"](2);\n                console.log(_context13.t0.message);\n\n              case 12:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this, [[2, 9]]);\n      }));\n\n      function addListItemRequest(_x11) {\n        return _addListItemRequest.apply(this, arguments);\n      }\n\n      return addListItemRequest;\n    }()\n  }]);\n\n  return Api;\n}();\n\n\n// EXTERNAL MODULE: ./node_modules/normalizr/dist/normalizr.es.js\nvar normalizr_es = __webpack_require__(\"XiPHYwkG\");\n;// CONCATENATED MODULE: ./src/utils/normalize.js\n\nfunction normalizeLists(data) {\n  var category = new normalizr_es/* schema.Entity */.fK.Entity('categorys', {\n    list: [new normalizr_es/* schema.Entity */.fK.Entity('list')]\n  });\n  var listsSchema = {\n    categorys: [category]\n  };\n  return (0,normalizr_es/* normalize */.Fv)(data, listsSchema);\n}\nfunction normalizeCategorys(data) {\n  var category = new normalizr_es/* schema.Entity */.fK.Entity('categorys');\n  var categorySchema = {\n    categorys: [category]\n  };\n  return (0,normalizr_es/* normalize */.Fv)(data, categorySchema);\n}\n;// CONCATENATED MODULE: ./src/store/actions.js\nvar loginRequestAction = function loginRequestAction(data) {\n  return {\n    type: \"LOGIN_REQUEST\",\n    payload: data\n  };\n};\nvar loginUserAction = function loginUserAction(user) {\n  return {\n    type: \"LOGIN_STORE\",\n    payload: user\n  };\n};\nvar logoutUserAction = function logoutUserAction() {\n  return {\n    type: \"LOGOUT_STORE\",\n    payload: {}\n  };\n};\nvar loginErrorAction = function loginErrorAction(error) {\n  return {\n    type: \"LOGIN_ERROR_STORE\",\n    payload: {\n      error: error\n    }\n  };\n};\nvar authRequestAction = function authRequestAction() {\n  return {\n    type: \"AUTH_REQUEST\",\n    payload: {}\n  };\n};\nvar logoutAction = function logoutAction() {\n  return {\n    type: \"LOGOUT_REQUEST\",\n    payload: {}\n  };\n};\nvar refreshTokensAction = function refreshTokensAction(nextAction) {\n  return {\n    type: \"REFRESH_TOKENS_REQUEST\",\n    payload: nextAction\n  };\n};\nvar toggleCategoryAction = function toggleCategoryAction(categoryType) {\n  return {\n    type: \"TOGGLE_CATEGORYS_TYPE_STORE\",\n    payload: {\n      categoryType: categoryType\n    }\n  };\n};\nvar addCategoryAction = function addCategoryAction(category) {\n  return {\n    type: \"ADD_CATEGORY_REQUEST\",\n    payload: category\n  };\n};\nvar updCategoryAction = function updCategoryAction(category) {\n  return {\n    type: \"UPD_ONE_CATEGORY_REQUEST\",\n    payload: {\n      category: category\n    }\n  };\n};\nvar delCategoryAction = function delCategoryAction(category) {\n  return {\n    type: \"DEL_ONE_CATEGORY_REQUEST\",\n    payload: {\n      category: category\n    }\n  };\n};\nvar getAllCategorysAction = function getAllCategorysAction(userId) {\n  return {\n    type: \"GET_CATEGORYS_REQUEST\",\n    payload: {\n      userId: userId\n    }\n  };\n};\nvar getAllListsWithCategorysAction = function getAllListsWithCategorysAction(obj) {\n  return {\n    type: \"GET_LISTS_REQUEST\",\n    payload: {\n      userIdAndDateRange: obj\n    }\n  };\n};\nvar updDataInStoreAction = function updDataInStoreAction(categorys) {\n  return {\n    type: \"UPD_DATA_STORE\",\n    payload: {\n      categorys: categorys\n    }\n  };\n};\nvar addCategoryInStoreAction = function addCategoryInStoreAction(category) {\n  return {\n    type: \"ADD_NEW_CATEGORY_STORE\",\n    payload: {\n      category: category\n    }\n  };\n};\nvar updOneCategoryInStoreAction = function updOneCategoryInStoreAction(category) {\n  return {\n    type: \"UPD_ONE_CATEGORY_STORE\",\n    payload: {\n      category: category\n    }\n  };\n};\nvar updOneListItemInStoreAction = function updOneListItemInStoreAction(listItem) {\n  return {\n    type: \"UPD_ONE_LIST_ITEM_STORE\",\n    payload: {\n      listItem: listItem\n    }\n  };\n};\nvar delOneCategoryInStoreAction = function delOneCategoryInStoreAction(category) {\n  return {\n    type: \"DEL_ONE_CATEGORY_STORE\",\n    payload: {\n      category: category\n    }\n  };\n};\nvar delOneListItemInStoreAction = function delOneListItemInStoreAction(listItem) {\n  return {\n    type: \"DEL_ONE_LIST_ITEM_STORE\",\n    payload: {\n      listItem: listItem\n    }\n  };\n};\nvar addListItemAction = function addListItemAction(listItem) {\n  return {\n    type: \"ADD_LIST_ITEM_REQUEST\",\n    payload: {\n      listItem: listItem\n    }\n  };\n};\nvar updListItemAction = function updListItemAction(listItem) {\n  return {\n    type: \"UPD_ONE_LIST_ITEM_REQUEST\",\n    payload: {\n      listItem: listItem\n    }\n  };\n};\nvar delListItemAction = function delListItemAction(listItem) {\n  return {\n    type: \"DEL_ONE_LIST_ITEM_REQUEST\",\n    payload: {\n      listItem: listItem\n    }\n  };\n};\nvar addListItemInStoreAction = function addListItemInStoreAction(listItem) {\n  return {\n    type: \"ADD_NEW_LIST_ITEM_STORE\",\n    payload: {\n      listItem: listItem\n    }\n  };\n};\n;// CONCATENATED MODULE: ./src/store/sagas.js\n\n\nvar _marked = /*#__PURE__*/regenerator_default().mark(fetchLogin),\n    _marked2 = /*#__PURE__*/regenerator_default().mark(fetchAuth),\n    _marked3 = /*#__PURE__*/regenerator_default().mark(fetchLogout),\n    _marked4 = /*#__PURE__*/regenerator_default().mark(fetchRefreshTokens),\n    _marked5 = /*#__PURE__*/regenerator_default().mark(fetchAddCategory),\n    _marked6 = /*#__PURE__*/regenerator_default().mark(fetchAllCategorys),\n    _marked7 = /*#__PURE__*/regenerator_default().mark(fetchUpdateCategory),\n    _marked8 = /*#__PURE__*/regenerator_default().mark(fetchDeleteCategory),\n    _marked9 = /*#__PURE__*/regenerator_default().mark(fetchAllListsWithCategorys),\n    _marked10 = /*#__PURE__*/regenerator_default().mark(fetchAddListItem),\n    _marked11 = /*#__PURE__*/regenerator_default().mark(fetchUpdateListItem),\n    _marked12 = /*#__PURE__*/regenerator_default().mark(fetchDeleteListItem),\n    _marked13 = /*#__PURE__*/regenerator_default().mark(sagas);\n\n\n\n\n\n\nvar api = new Api();\n\nfunction fetchLogin(action) {\n  var user;\n  return regenerator_default().wrap(function fetchLogin$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.loginRequest, action.payload);\n\n        case 3:\n          user = _context.sent;\n\n          if (user.error) {\n            _context.next = 12;\n            break;\n          }\n\n          if (!user.tokens) {\n            _context.next = 8;\n            break;\n          }\n\n          _context.next = 8;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(saveTokensToStorage, user.tokens);\n\n        case 8:\n          _context.next = 10;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(loginUserAction(user));\n\n        case 10:\n          _context.next = 14;\n          break;\n\n        case 12:\n          _context.next = 14;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(loginErrorAction(user.error));\n\n        case 14:\n          _context.next = 19;\n          break;\n\n        case 16:\n          _context.prev = 16;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(_context.t0.message);\n\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 16]]);\n}\n\nfunction fetchAuth() {\n  var user;\n  return regenerator_default().wrap(function fetchAuth$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.getAuthDataBySession);\n\n        case 3:\n          user = _context2.sent;\n\n          if (user.error) {\n            _context2.next = 9;\n            break;\n          }\n\n          _context2.next = 7;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(loginUserAction(user));\n\n        case 7:\n          _context2.next = 16;\n          break;\n\n        case 9:\n          if (!(user.error.code === 'l03')) {\n            _context2.next = 14;\n            break;\n          }\n\n          _context2.next = 12;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(refreshTokensAction(authRequestAction()));\n\n        case 12:\n          _context2.next = 16;\n          break;\n\n        case 14:\n          _context2.next = 16;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(loginUserAction({\n            userName: null,\n            isLogin: false\n          }));\n\n        case 16:\n          _context2.next = 21;\n          break;\n\n        case 18:\n          _context2.prev = 18;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.log(_context2.t0.message);\n\n        case 21:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[0, 18]]);\n}\n\nfunction fetchLogout() {\n  var response;\n  return regenerator_default().wrap(function fetchLogout$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.logoutRequest);\n\n        case 3:\n          response = _context3.sent;\n\n          if (response.error) {\n            _context3.next = 11;\n            break;\n          }\n\n          _context3.next = 7;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(clearTokensFromStorage);\n\n        case 7:\n          _context3.next = 9;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(logoutUserAction());\n\n        case 9:\n          _context3.next = 12;\n          break;\n\n        case 11:\n          console.log(response.error);\n\n        case 12:\n          _context3.next = 17;\n          break;\n\n        case 14:\n          _context3.prev = 14;\n          _context3.t0 = _context3[\"catch\"](0);\n          console.log(_context3.t0.message);\n\n        case 17:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 14]]);\n}\n\nfunction fetchRefreshTokens(nextAction) {\n  var response;\n  return regenerator_default().wrap(function fetchRefreshTokens$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.refreshTokens);\n\n        case 2:\n          response = _context4.sent;\n\n          if (!response.error) {\n            _context4.next = 8;\n            break;\n          }\n\n          _context4.next = 6;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(loginUserAction({\n            userName: null,\n            isLogin: false\n          }));\n\n        case 6:\n          _context4.next = 12;\n          break;\n\n        case 8:\n          _context4.next = 10;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(saveTokensToStorage, response.tokens);\n\n        case 10:\n          _context4.next = 12;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(nextAction.payload);\n\n        case 12:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction fetchAddCategory(action) {\n  var response;\n  return regenerator_default().wrap(function fetchAddCategory$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.addCategoryRequest, action.payload);\n\n        case 2:\n          response = _context5.sent;\n          _context5.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(addCategoryInStoreAction(response.category));\n\n        case 5:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5);\n}\n\nfunction fetchAllCategorys(action) {\n  var response;\n  return regenerator_default().wrap(function fetchAllCategorys$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.getAllCategorys, action.payload.userId);\n\n        case 2:\n          response = _context6.sent;\n          _context6.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(updDataInStoreAction(normalizeCategorys(response)));\n\n        case 5:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6);\n}\n\nfunction fetchUpdateCategory(action) {\n  var response;\n  return regenerator_default().wrap(function fetchUpdateCategory$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.updCategoryRequest, action.payload.category);\n\n        case 2:\n          response = _context7.sent;\n          _context7.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(updOneCategoryInStoreAction(response.category));\n\n        case 5:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7);\n}\n\nfunction fetchDeleteCategory(action) {\n  var response;\n  return regenerator_default().wrap(function fetchDeleteCategory$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.delCategoryRequest, action.payload.category);\n\n        case 2:\n          response = _context8.sent;\n          _context8.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(delOneCategoryInStoreAction(response.category));\n\n        case 5:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8);\n}\n\nfunction fetchAllListsWithCategorys(action) {\n  var response, data;\n  return regenerator_default().wrap(function fetchAllListsWithCategorys$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.getAllListsWithCategorys, action.payload.userIdAndDateRange);\n\n        case 2:\n          response = _context9.sent;\n          data = normalizeLists(response);\n          _context9.next = 6;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(updDataInStoreAction(data));\n\n        case 6:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked9);\n}\n\nfunction fetchAddListItem(action) {\n  var response;\n  return regenerator_default().wrap(function fetchAddListItem$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.addListItemRequest, action.payload.listItem);\n\n        case 2:\n          response = _context10.sent;\n          _context10.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(addListItemInStoreAction(response.listItem));\n\n        case 5:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, _marked10);\n}\n\nfunction fetchUpdateListItem(action) {\n  var response;\n  return regenerator_default().wrap(function fetchUpdateListItem$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.updListItemRequest, action.payload.listItem);\n\n        case 2:\n          response = _context11.sent;\n          _context11.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(updOneListItemInStoreAction(response.listItem));\n\n        case 5:\n        case \"end\":\n          return _context11.stop();\n      }\n    }\n  }, _marked11);\n}\n\nfunction fetchDeleteListItem(action) {\n  var response;\n  return regenerator_default().wrap(function fetchDeleteListItem$(_context12) {\n    while (1) {\n      switch (_context12.prev = _context12.next) {\n        case 0:\n          _context12.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* call */.RE)(api.delListItemRequest, action.payload.listItem);\n\n        case 2:\n          response = _context12.sent;\n          _context12.next = 5;\n          return (0,redux_saga_effects_npm_proxy_esm/* put */.gz)(delOneListItemInStoreAction(response.listItem));\n\n        case 5:\n        case \"end\":\n          return _context12.stop();\n      }\n    }\n  }, _marked12);\n}\n\nfunction sagas() {\n  return regenerator_default().wrap(function sagas$(_context13) {\n    while (1) {\n      switch (_context13.prev = _context13.next) {\n        case 0:\n          _context13.next = 2;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"LOGIN_REQUEST\", fetchLogin);\n\n        case 2:\n          _context13.next = 4;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"AUTH_REQUEST\", fetchAuth);\n\n        case 4:\n          _context13.next = 6;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"REFRESH_TOKENS_REQUEST\", fetchRefreshTokens);\n\n        case 6:\n          _context13.next = 8;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"LOGOUT_REQUEST\", fetchLogout);\n\n        case 8:\n          _context13.next = 10;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"ADD_CATEGORY_REQUEST\", fetchAddCategory);\n\n        case 10:\n          _context13.next = 12;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"GET_CATEGORYS_REQUEST\", fetchAllCategorys);\n\n        case 12:\n          _context13.next = 14;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"UPD_ONE_CATEGORY_REQUEST\", fetchUpdateCategory);\n\n        case 14:\n          _context13.next = 16;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"GET_LISTS_REQUEST\", fetchAllListsWithCategorys);\n\n        case 16:\n          _context13.next = 18;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"ADD_LIST_ITEM_REQUEST\", fetchAddListItem);\n\n        case 18:\n          _context13.next = 20;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"DEL_ONE_CATEGORY_REQUEST\", fetchDeleteCategory);\n\n        case 20:\n          _context13.next = 22;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"UPD_ONE_LIST_ITEM_REQUEST\", fetchUpdateListItem);\n\n        case 22:\n          _context13.next = 24;\n          return (0,redux_saga_effects_npm_proxy_esm/* takeEvery */.ib)(\"DEL_ONE_LIST_ITEM_REQUEST\", fetchDeleteListItem);\n\n        case 24:\n        case \"end\":\n          return _context13.stop();\n      }\n    }\n  }, _marked13);\n}\n\n/* harmony default export */ const store_sagas = (sagas);\n// EXTERNAL MODULE: ./node_modules/ramda/es/clone.js + 5 modules\nvar clone = __webpack_require__(\"Wjd+fjFr\");\n;// CONCATENATED MODULE: ./src/store/reducers.js\n\n\nfunction returnStateReducer() {\n  var prevState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  return prevState;\n}\nfunction userReducer() {\n  var prevState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"LOGIN_STORE\":\n      {\n        return {\n          id: action.payload.id,\n          name: action.payload.userName,\n          isLogin: action.payload.isLogin\n        };\n      }\n\n    case \"LOGOUT_STORE\":\n      {\n        return {\n          id: null,\n          name: null,\n          isLogin: false,\n          loginErrorMes: null\n        };\n      }\n\n    case \"LOGIN_ERROR_STORE\":\n      {\n        return {\n          loginErrorMes: action.payload.error.mes\n        };\n      }\n  }\n\n  return prevState;\n}\nfunction toogleCategoryReducer() {\n  var prevState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"TOGGLE_CATEGORYS_TYPE_STORE\":\n      {\n        return action.payload.categoryType;\n      }\n  }\n\n  return prevState;\n}\nfunction dataReducer() {\n  var prevState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"UPD_DATA_STORE\":\n      {\n        return action.payload.categorys;\n      }\n\n    case \"ADD_NEW_CATEGORY_STORE\":\n      {\n        var data = (0,clone/* default */.Z)(prevState);\n        if (!data.entities.categorys) data.entities.categorys = {};\n        data.entities.categorys[action.payload.category.id] = action.payload.category;\n        data.result.categorys.push(action.payload.category.id);\n        return data;\n      }\n\n    case \"ADD_NEW_LIST_ITEM_STORE\":\n      {\n        var _data = (0,clone/* default */.Z)(prevState);\n\n        if (!_data.entities.list) _data.entities.list = {};\n        _data.entities.list[action.payload.listItem.id] = action.payload.listItem;\n\n        _data.entities.categorys[action.payload.listItem.categoryId].list.unshift(action.payload.listItem.id);\n\n        _data.entities.categorys[action.payload.listItem.categoryId].totalSum += action.payload.listItem.sum;\n        return _data;\n      }\n\n    case \"UPD_ONE_CATEGORY_STORE\":\n      {\n        var _data2 = (0,clone/* default */.Z)(prevState);\n\n        _data2.entities.categorys[action.payload.category.id] = action.payload.category;\n        return _data2;\n      }\n\n    case \"UPD_ONE_LIST_ITEM_STORE\":\n      {\n        var _data3 = (0,clone/* default */.Z)(prevState);\n\n        var listItem = action.payload.listItem;\n        var prevSum = prevState.entities.list[listItem.id].sum;\n        _data3.entities.list[listItem.id] = listItem;\n        _data3.entities.categorys[listItem.categoryId].totalSum -= prevSum;\n        _data3.entities.categorys[listItem.categoryId].totalSum += listItem.sum;\n        return _data3;\n      }\n\n    case \"DEL_ONE_CATEGORY_STORE\":\n      {\n        var _data4 = (0,clone/* default */.Z)(prevState);\n\n        delete _data4.entities.categorys[action.payload.category.id];\n        _data4.result.categorys = _data4.result.categorys.filter(function (categoryId) {\n          return categoryId !== action.payload.category.id;\n        });\n        return _data4;\n      }\n\n    case \"DEL_ONE_LIST_ITEM_STORE\":\n      {\n        var _data5 = (0,clone/* default */.Z)(prevState);\n\n        var _listItem = action.payload.listItem;\n\n        var newListArr = _data5.entities.categorys[_listItem.categoryId].list.filter(function (listId) {\n          return listId !== _listItem.id;\n        });\n\n        _data5.entities.categorys[_listItem.categoryId].list = newListArr;\n        _data5.entities.categorys[_listItem.categoryId].totalSum -= _listItem.sum;\n        delete _data5.entities.list[_listItem.id];\n        return _data5;\n      }\n  }\n\n  return prevState;\n}\n;// CONCATENATED MODULE: ./src/store/index.js\n\n\n\n\nvar sagaMiddleware = (0,redux_saga_core_npm_proxy_esm/* default */.ZP)();\nvar initialState = {\n  user: {\n    id: null,\n    name: null,\n    isLogin: null,\n    loginErrorMes: null\n  },\n  toggleCategory: 'expense',\n  menu: [{\n    title: ' ',\n    link: 'month'\n  }, {\n    title: ' ',\n    link: 'last-month'\n  }, {\n    title: ' ',\n    link: 'half-year'\n  }, {\n    title: ' ',\n    link: 'year'\n  }],\n  data: null\n};\nvar reducer = (0,redux/* combineReducers */.UY)({\n  user: userReducer,\n  menu: returnStateReducer,\n  data: dataReducer,\n  toggleCategory: toogleCategoryReducer\n});\nvar store = (0,redux/* createStore */.MT)(reducer, initialState, (0,redux/* applyMiddleware */.md)(sagaMiddleware));\nsagaMiddleware.run(store_sagas);\n;// CONCATENATED MODULE: ./src/components/MenuItem/component.js\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar MenuItem = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(MenuItem, _React$PureComponent);\n\n  var _super = _createSuper(MenuItem);\n\n  function MenuItem(props) {\n    classCallCheck_default()(this, MenuItem);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(MenuItem, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"li\", null, /*#__PURE__*/react.createElement(\"a\", {\n        href: \"/\".concat(this.props.link),\n        className: \"button button_period\"\n      }, this.props.title));\n    }\n  }]);\n\n  return MenuItem;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/MenuItem/index.js\n\n/* harmony default export */ const components_MenuItem = (MenuItem);\n;// CONCATENATED MODULE: ./src/components/Menu/component.js\n\n\n\n\n\n\nfunction component_createSuper(Derived) { var hasNativeReflectConstruct = component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar MenuComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(MenuComponent, _React$PureComponent);\n\n  var _super = component_createSuper(MenuComponent);\n\n  function MenuComponent(props) {\n    classCallCheck_default()(this, MenuComponent);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(MenuComponent, [{\n    key: \"renderItems\",\n    value: function renderItems() {\n      return this.props.menu.map(function (menuItem, i) {\n        return /*#__PURE__*/react.createElement(components_MenuItem, {\n          key: i,\n          title: menuItem.title,\n          link: menuItem.link\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"nav\", null, /*#__PURE__*/react.createElement(\"ul\", {\n        className: \"menu\"\n      }, this.renderItems()));\n    }\n  }]);\n\n  return MenuComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/Menu/container.js\n\n\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    menu: state.menu\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\n\nvar Menu = (0,es/* connect */.$j)(mapStateToProps, mapDispatchToProps)(MenuComponent);\n;// CONCATENATED MODULE: ./src/components/Menu/index.js\n\n/* harmony default export */ const components_Menu = (Menu);\n;// CONCATENATED MODULE: ./src/components/UserLogoutLink/component.js\n\n\n\n\n\n\nfunction UserLogoutLink_component_createSuper(Derived) { var hasNativeReflectConstruct = UserLogoutLink_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction UserLogoutLink_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar UserLogoutLinkComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(UserLogoutLinkComponent, _React$PureComponent);\n\n  var _super = UserLogoutLink_component_createSuper(UserLogoutLinkComponent);\n\n  function UserLogoutLinkComponent(props) {\n    classCallCheck_default()(this, UserLogoutLinkComponent);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(UserLogoutLinkComponent, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", {\n        className: \"user\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"user-name\"\n      }, this.props.userName), /*#__PURE__*/react.createElement(\"button\", {\n        onClick: this.props.logout,\n        className: \"user-logout\"\n      }, \"\\u0412\\u044B\\u0445\\u043E\\u0434\"));\n    }\n  }]);\n\n  return UserLogoutLinkComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/UserLogoutLink/container.js\n\n\n\n\n\nvar container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    userName: state.user.name\n  };\n};\n\nvar container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    logout: function logout() {\n      return dispatch(logoutAction());\n    }\n  };\n};\n\nvar UserLogoutLink = (0,es/* connect */.$j)(container_mapStateToProps, container_mapDispatchToProps)(UserLogoutLinkComponent);\n;// CONCATENATED MODULE: ./src/components/UserLogoutLink/index.js\n\n/* harmony default export */ const components_UserLogoutLink = (UserLogoutLink);\n;// CONCATENATED MODULE: ./src/components/SetupLink/component.js\n\n\nfunction SetupLink() {\n  return /*#__PURE__*/react.createElement(\"a\", {\n    href: \"/setup/\",\n    className: \"button-setup\"\n  }, \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\");\n}\n;// CONCATENATED MODULE: ./src/components/SetupLink/index.js\n\n/* harmony default export */ const components_SetupLink = (SetupLink);\n;// CONCATENATED MODULE: ./src/pages/header/index.js\n\n\n\n\n\n\nfunction header_createSuper(Derived) { var hasNativeReflectConstruct = header_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction header_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar Header = /*#__PURE__*/function (_React$Component) {\n  inherits_default()(Header, _React$Component);\n\n  var _super = header_createSuper(Header);\n\n  function Header() {\n    classCallCheck_default()(this, Header);\n\n    return _super.apply(this, arguments);\n  }\n\n  createClass_default()(Header, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"header\", {\n        className: \"top\"\n      }, /*#__PURE__*/react.createElement(components_Menu, null), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"menu-setup\"\n      }, /*#__PURE__*/react.createElement(components_SetupLink, null), /*#__PURE__*/react.createElement(components_UserLogoutLink, null)));\n    }\n  }]);\n\n  return Header;\n}(react.Component);\n\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(\"PJYZgaOA\");\nvar assertThisInitialized_default = /*#__PURE__*/__webpack_require__.n(assertThisInitialized);\n;// CONCATENATED MODULE: ./src/components/ChartsItem/component.js\n\n\n\n\n\n\n\n\nfunction ChartsItem_component_createSuper(Derived) { var hasNativeReflectConstruct = ChartsItem_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction ChartsItem_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar ChartsItem = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(ChartsItem, _React$PureComponent);\n\n  var _super = ChartsItem_component_createSuper(ChartsItem);\n\n  function ChartsItem(props) {\n    var _this;\n\n    classCallCheck_default()(this, ChartsItem);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      chartStyleName: \"width\"\n    };\n    _this.updateChartDimension = _this.updateChartDimension.bind(assertThisInitialized_default()(_this));\n    return _this;\n  }\n\n  createClass_default()(ChartsItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateChartDimension();\n      window.addEventListener(\"resize\", this.updateChartDimension);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"resize\", this.updateChartDimension);\n    }\n  }, {\n    key: \"updateChartDimension\",\n    value: function updateChartDimension() {\n      if (window.innerWidth <= 480) {\n        this.setState({\n          chartStyleName: \"height\"\n        });\n      } else {\n        this.setState({\n          chartStyleName: \"width\"\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", {\n        className: \"chart\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        style: defineProperty_default()({}, this.state.chartStyleName, \"\".concat(this.props.persent, \"%\")),\n        className: \"chart-line chart-line_\".concat(this.props.type)\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"chart-txt\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"chart-txt_title\"\n      }, this.props.title), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"chart-txt_val\"\n      }, this.props.sum, \" \\u20BD\")));\n    }\n  }]);\n\n  return ChartsItem;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/ChartsItem/index.js\n\n/* harmony default export */ const components_ChartsItem = (ChartsItem);\n;// CONCATENATED MODULE: ./src/components/Charts/component.js\n\n\n\n\n\n\nfunction Charts_component_createSuper(Derived) { var hasNativeReflectConstruct = Charts_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction Charts_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar ChartsComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(ChartsComponent, _React$PureComponent);\n\n  var _super = Charts_component_createSuper(ChartsComponent);\n\n  function ChartsComponent(props) {\n    classCallCheck_default()(this, ChartsComponent);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(ChartsComponent, [{\n    key: \"renderItems\",\n    value: function renderItems() {\n      return this.props.charts.map(function (chartsItem, i) {\n        return /*#__PURE__*/react.createElement(components_ChartsItem, {\n          key: i,\n          title: chartsItem.title,\n          sum: chartsItem.sum,\n          persent: chartsItem.persent,\n          type: chartsItem.type\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if ('charts' in this.props) {\n        return /*#__PURE__*/react.createElement(\"div\", {\n          className: \"charts\"\n        }, this.renderItems());\n      }\n\n      return [];\n    }\n  }]);\n\n  return ChartsComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/utils/calcCharts.js\nfunction calcCharts(data) {\n  var income = 0;\n  var expense = 0;\n  data.result.categorys.map(function (categoryId) {\n    if (data.entities.categorys[categoryId].type === \"income\") {\n      income += data.entities.categorys[categoryId].totalSum;\n    } else {\n      expense += data.entities.categorys[categoryId].totalSum;\n    }\n  });\n  var persents = calcChartsPersents(income, expense);\n  return [{\n    title: \"\\u0414\\u043E\\u0445\\u043E\\u0434\",\n    type: \"income\",\n    sum: income,\n    persent: persents.incomePersents\n  }, {\n    title: \"\\u0420\\u0430\\u0441\\u0445\\u043E\\u0434\",\n    type: \"expense\",\n    sum: expense,\n    persent: persents.expensePersents\n  }, {\n    title: \"\\u041D\\u0430\\u043A\\u043E\\u043F\\u043B\\u0435\\u043D\\u0438\\u044F\",\n    type: \"savings\",\n    sum: income - expense,\n    persent: persents.savingsPersents\n  }];\n}\nfunction calcChartsPersents(income, expense) {\n  var onePersent = 0;\n  if (income !== 0 && expense !== 0) onePersent = income > expense ? 100 / income : 100 / expense;\n  var incomePersents = Math.ceil(income > expense ? 100 : income * onePersent);\n  var expensePersents = Math.ceil(income < expense ? 100 : expense * onePersent);\n  var savingsPersents = Math.ceil((income - expense) * onePersent);\n  if (incomePersents < 1) incomePersents = 1;\n  if (expensePersents < 1) expensePersents = 1;\n  if (savingsPersents < 1) savingsPersents = 1;\n  return {\n    incomePersents: incomePersents,\n    expensePersents: expensePersents,\n    savingsPersents: savingsPersents\n  };\n}\n;// CONCATENATED MODULE: ./src/components/Charts/container.js\n\n\n\n\n\nvar Charts_container_mapStateToProps = function mapStateToProps(state) {\n  if (state.data === null) return {};\n  return {\n    charts: calcCharts(state.data)\n  };\n};\n\nvar Charts = (0,es/* connect */.$j)(Charts_container_mapStateToProps)(ChartsComponent);\n;// CONCATENATED MODULE: ./src/components/Charts/index.js\n\n/* harmony default export */ const components_Charts = (Charts);\n;// CONCATENATED MODULE: ./src/components/PlusButton/component.js\n\n\n\n\n\n\nfunction PlusButton_component_createSuper(Derived) { var hasNativeReflectConstruct = PlusButton_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction PlusButton_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar PlusButton = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(PlusButton, _React$PureComponent);\n\n  var _super = PlusButton_component_createSuper(PlusButton);\n\n  function PlusButton(props) {\n    classCallCheck_default()(this, PlusButton);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(PlusButton, [{\n    key: \"returnClassName\",\n    value: function returnClassName() {\n      if (this.props.isOpen) {\n        return 'minus';\n      }\n\n      return 'plus';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"button\", {\n        onClick: this.props.toggleCallback,\n        className: this.returnClassName()\n      });\n    }\n  }]);\n\n  return PlusButton;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/PlusButton/index.js\n\n/* harmony default export */ const components_PlusButton = (PlusButton);\n;// CONCATENATED MODULE: ./src/components/SubmitButton/component.js\n\n\n\n\n\n\nfunction SubmitButton_component_createSuper(Derived) { var hasNativeReflectConstruct = SubmitButton_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction SubmitButton_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar SubmitButton = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(SubmitButton, _React$PureComponent);\n\n  var _super = SubmitButton_component_createSuper(SubmitButton);\n\n  function SubmitButton(props) {\n    classCallCheck_default()(this, SubmitButton);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(SubmitButton, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"button\", {\n        className: \"button \".concat(this.props.className),\n        onClick: this.props.callback\n      }, this.props.children);\n    }\n  }]);\n\n  return SubmitButton;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/SubmitButton/index.js\n\n/* harmony default export */ const components_SubmitButton = (SubmitButton);\n;// CONCATENATED MODULE: ./src/components/AddForm/component.js\n\n\n\n\n\n\n\nfunction component_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction component_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { component_ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { component_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction AddForm_component_createSuper(Derived) { var hasNativeReflectConstruct = AddForm_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction AddForm_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar AddFormComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(AddFormComponent, _React$PureComponent);\n\n  var _super = AddForm_component_createSuper(AddFormComponent);\n\n  function AddFormComponent(props) {\n    var _this;\n\n    classCallCheck_default()(this, AddFormComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      sum: '',\n      title: ''\n    };\n    return _this;\n  }\n\n  createClass_default()(AddFormComponent, [{\n    key: \"handleChange\",\n    value: function handleChange(e, val) {\n      var fieldValue = val === \"sum\" ? e.target.value.replace(/\\D/, '') : e.target.value;\n      this.setState(defineProperty_default()({}, val, fieldValue));\n    }\n  }, {\n    key: \"checkAndAddListItem\",\n    value: function checkAndAddListItem() {\n      if (this.state.sum && this.state.title) {\n        this.props.addListItem(component_objectSpread(component_objectSpread({}, {\n          categoryId: this.props.categoryId\n        }), this.state));\n        this.setState({\n          sum: '',\n          title: ''\n        });\n        this.props.toggleCallback();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.props.isOpen === true) {\n        return /*#__PURE__*/react.createElement(\"div\", {\n          className: \"add-form\"\n        }, /*#__PURE__*/react.createElement(\"input\", {\n          value: this.state.sum,\n          onChange: function onChange(e) {\n            return _this2.handleChange(e, 'sum');\n          },\n          placeholder: \"\\u0421\\u0443\\u043C\\u043C\\u0430\",\n          type: \"text\",\n          className: \"add-form__sum\"\n        }), /*#__PURE__*/react.createElement(\"textarea\", {\n          value: this.state.comment,\n          onChange: function onChange(e) {\n            return _this2.handleChange(e, 'title');\n          },\n          placeholder: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n          className: \"add-form__txt\"\n        }), /*#__PURE__*/react.createElement(components_SubmitButton, {\n          className: 'button_add-form',\n          callback: function callback() {\n            return _this2.checkAndAddListItem();\n          }\n        }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"));\n      }\n\n      return null;\n    }\n  }]);\n\n  return AddFormComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/AddForm/container.js\n\n\n\n\n\nvar AddForm_container_mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar AddForm_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addListItem: function addListItem(listItem) {\n      return dispatch(addListItemAction(listItem));\n    }\n  };\n};\n\nvar AddForm = (0,es/* connect */.$j)(AddForm_container_mapStateToProps, AddForm_container_mapDispatchToProps)(AddFormComponent);\n;// CONCATENATED MODULE: ./src/components/AddForm/index.js\n\n/* harmony default export */ const components_AddForm = (AddForm);\n;// CONCATENATED MODULE: ./src/components/ModalWindow/component.js\n\n\n\n\n\n\nfunction ModalWindow_component_createSuper(Derived) { var hasNativeReflectConstruct = ModalWindow_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction ModalWindow_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar ModalWindowComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(ModalWindowComponent, _React$PureComponent);\n\n  var _super = ModalWindow_component_createSuper(ModalWindowComponent);\n\n  function ModalWindowComponent(props) {\n    classCallCheck_default()(this, ModalWindowComponent);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(ModalWindowComponent, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", {\n        className: \"modal-window-container\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"modal-window\"\n      }, this.props.children));\n    }\n  }]);\n\n  return ModalWindowComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/ModalWindow/container.js\n\n\n\n\nvar ModalWindow_container_mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar ModalWindow_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\n\nvar ModalWindow = (0,es/* connect */.$j)(ModalWindow_container_mapStateToProps, ModalWindow_container_mapDispatchToProps)(ModalWindowComponent);\n;// CONCATENATED MODULE: ./src/components/ModalWindow/index.js\n\n/* harmony default export */ const components_ModalWindow = (ModalWindow);\n;// CONCATENATED MODULE: ./src/components/CloseWindowButton/component.js\n\n\n\n\n\n\nfunction CloseWindowButton_component_createSuper(Derived) { var hasNativeReflectConstruct = CloseWindowButton_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction CloseWindowButton_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar CloseWindowButton = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(CloseWindowButton, _React$PureComponent);\n\n  var _super = CloseWindowButton_component_createSuper(CloseWindowButton);\n\n  function CloseWindowButton(props) {\n    classCallCheck_default()(this, CloseWindowButton);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(CloseWindowButton, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", {\n        className: \"close-window-container\"\n      }, /*#__PURE__*/react.createElement(\"button\", {\n        onClick: this.props.closeCallback,\n        className: \"close-window\"\n      }));\n    }\n  }]);\n\n  return CloseWindowButton;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/CloseWindowButton/index.js\n\n/* harmony default export */ const components_CloseWindowButton = (CloseWindowButton);\n;// CONCATENATED MODULE: ./src/components/ConfirmDeleteWindow/component.js\n\n\n\n\n\n\nfunction ConfirmDeleteWindow_component_createSuper(Derived) { var hasNativeReflectConstruct = ConfirmDeleteWindow_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction ConfirmDeleteWindow_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar ConfirmDeleteWindow = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(ConfirmDeleteWindow, _React$PureComponent);\n\n  var _super = ConfirmDeleteWindow_component_createSuper(ConfirmDeleteWindow);\n\n  function ConfirmDeleteWindow(props) {\n    classCallCheck_default()(this, ConfirmDeleteWindow);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(ConfirmDeleteWindow, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(components_ModalWindow, null, /*#__PURE__*/react.createElement(\"div\", null, /*#__PURE__*/react.createElement(components_CloseWindowButton, {\n        closeCallback: this.props.cancelCallback\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"delete-window-text\"\n      }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \", this.props.title, \"?\"), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"modal-window__buttons\"\n      }, /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: this.props.deleteCallback,\n        className: \"button_modal-window\"\n      }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"), /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: this.props.cancelCallback,\n        className: \"button_modal-window\"\n      }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"))));\n    }\n  }]);\n\n  return ConfirmDeleteWindow;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/ConfirmDeleteWindow/index.js\n\n/* harmony default export */ const components_ConfirmDeleteWindow = (ConfirmDeleteWindow);\n;// CONCATENATED MODULE: ./src/utils/formatListDate.js\nfunction formatDate(dateString) {\n  var dateArr = dateString.slice(0, 10).split('-');\n  return \"\".concat(dateArr[2], \"-\").concat(dateArr[1], \"-\").concat(dateArr[0]);\n}\n;// CONCATENATED MODULE: ./src/components/ListItem/component.js\n\n\n\n\n\n\n\n\nfunction ListItem_component_createSuper(Derived) { var hasNativeReflectConstruct = ListItem_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction ListItem_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\nvar ListItemComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(ListItemComponent, _React$PureComponent);\n\n  var _super = ListItem_component_createSuper(ListItemComponent);\n\n  function ListItemComponent(props) {\n    var _this;\n\n    classCallCheck_default()(this, ListItemComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      isOpenEditWindow: false,\n      isOpenConfirmDelete: false,\n      title: _this.props.title,\n      sum: _this.props.sum\n    };\n    _this.openEditWindow = _this.openEditWindow.bind(assertThisInitialized_default()(_this));\n    _this.closeWindows = _this.closeWindows.bind(assertThisInitialized_default()(_this));\n    _this.openConfirmDeleteWindow = _this.openConfirmDeleteWindow.bind(assertThisInitialized_default()(_this));\n    _this.saveListItem = _this.saveListItem.bind(assertThisInitialized_default()(_this));\n    _this.deleteListItem = _this.deleteListItem.bind(assertThisInitialized_default()(_this));\n    return _this;\n  }\n\n  createClass_default()(ListItemComponent, [{\n    key: \"handleChange\",\n    value: function handleChange(e, val) {\n      var fieldValue = val === \"sum\" ? e.target.value.replace(/\\D/, '') : e.target.value;\n      this.setState(defineProperty_default()({}, val, fieldValue));\n    }\n  }, {\n    key: \"openEditWindow\",\n    value: function openEditWindow() {\n      this.setState({\n        isOpenEditWindow: true,\n        isOpenConfirmDelete: false\n      });\n    }\n  }, {\n    key: \"openConfirmDeleteWindow\",\n    value: function openConfirmDeleteWindow() {\n      this.setState({\n        isOpenEditWindow: false,\n        isOpenConfirmDelete: true\n      });\n    }\n  }, {\n    key: \"closeWindows\",\n    value: function closeWindows() {\n      this.setState({\n        isOpenEditWindow: false,\n        isOpenConfirmDelete: false\n      });\n    }\n  }, {\n    key: \"saveListItem\",\n    value: function saveListItem() {\n      this.props.updListItem({\n        id: this.props.id,\n        title: this.state.title,\n        sum: this.state.sum\n      });\n      this.closeWindows();\n    }\n  }, {\n    key: \"deleteListItem\",\n    value: function deleteListItem() {\n      this.props.delListItem({\n        id: this.props.id,\n        sum: this.props.sum\n      });\n      this.closeWindows();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return [/*#__PURE__*/react.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.openEditWindow();\n        },\n        key: this.props.id,\n        className: \"category-item\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-item__txt\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-item__date\"\n      }, formatDate(this.props.date)), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-item__descr\"\n      }, this.props.title)), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-item__sum\"\n      }, this.props.sum, \" \\u20BD\")), this.state.isOpenEditWindow && /*#__PURE__*/react.createElement(components_ModalWindow, {\n        key: \"ew\".concat(this.props.id)\n      }, /*#__PURE__*/react.createElement(\"div\", null, /*#__PURE__*/react.createElement(components_CloseWindowButton, {\n        closeCallback: this.closeWindows\n      }), /*#__PURE__*/react.createElement(\"input\", {\n        value: this.state.sum,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'sum');\n        },\n        placeholder: \"\\u0421\\u0443\\u043C\\u043C\\u0430\",\n        type: \"text\",\n        className: \"add-form__sum\"\n      }), /*#__PURE__*/react.createElement(\"textarea\", {\n        value: this.state.title,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'title');\n        },\n        placeholder: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n        className: \"add-form__txt\"\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"modal-window__buttons\"\n      }, /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this2.saveListItem();\n        },\n        className: \"button_modal-window\"\n      }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"), /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this2.openConfirmDeleteWindow();\n        },\n        className: \"button_modal-window\"\n      }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")))), this.state.isOpenConfirmDelete && /*#__PURE__*/react.createElement(components_ConfirmDeleteWindow, {\n        key: \"dw\".concat(this.props.id),\n        cancelCallback: function cancelCallback() {\n          return _this2.closeWindows();\n        },\n        deleteCallback: function deleteCallback() {\n          return _this2.deleteListItem();\n        },\n        title: this.props.title\n      })];\n    }\n  }]);\n\n  return ListItemComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/ListItem/container.js\n\n\n\n\n\nvar ListItem_container_mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar ListItem_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updListItem: function updListItem(listItem) {\n      return dispatch(updListItemAction(listItem));\n    },\n    delListItem: function delListItem(listItem) {\n      return dispatch(delListItemAction(listItem));\n    }\n  };\n};\n\nvar ListItem = (0,es/* connect */.$j)(ListItem_container_mapStateToProps, ListItem_container_mapDispatchToProps)(ListItemComponent);\n;// CONCATENATED MODULE: ./src/components/ListItem/index.js\n\n/* harmony default export */ const components_ListItem = (ListItem);\n;// CONCATENATED MODULE: ./src/components/List/component.js\n\n\n\n\n\n\nfunction List_component_createSuper(Derived) { var hasNativeReflectConstruct = List_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction List_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar ListComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(ListComponent, _React$PureComponent);\n\n  var _super = List_component_createSuper(ListComponent);\n\n  function ListComponent(props) {\n    classCallCheck_default()(this, ListComponent);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(ListComponent, [{\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this = this;\n\n      if (this.props.listIdArr.length > 0) {\n        return this.props.listIdArr.map(function (listItemId) {\n          var listItem = _this.props.list[listItemId];\n          return /*#__PURE__*/react.createElement(components_ListItem, {\n            id: listItem.id,\n            date: listItem.date,\n            key: listItem.id,\n            title: listItem.title,\n            sum: listItem.sum\n          });\n        });\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.isOpen === true) {\n        return /*#__PURE__*/react.createElement(\"div\", {\n          className: \"category-list\"\n        }, this.renderItems());\n      }\n\n      return null;\n    }\n  }]);\n\n  return ListComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/List/container.js\n\n\n\n\nvar List_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    list: state.data.entities.list\n  };\n};\n\nvar List_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\n\nvar List = (0,es/* connect */.$j)(List_container_mapStateToProps, List_container_mapDispatchToProps)(ListComponent);\n;// CONCATENATED MODULE: ./src/components/List/index.js\n\n/* harmony default export */ const components_List = (List);\n;// CONCATENATED MODULE: ./src/components/CategoryItem/component.js\n\n\n\n\n\n\nfunction CategoryItem_component_createSuper(Derived) { var hasNativeReflectConstruct = CategoryItem_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction CategoryItem_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar CategoryItem = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(CategoryItem, _React$PureComponent);\n\n  var _super = CategoryItem_component_createSuper(CategoryItem);\n\n  function CategoryItem(props) {\n    var _this;\n\n    classCallCheck_default()(this, CategoryItem);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      isOpenList: false,\n      isOpenForm: false\n    };\n    return _this;\n  }\n\n  createClass_default()(CategoryItem, [{\n    key: \"toggleList\",\n    value: function toggleList() {\n      this.setState({\n        isOpenList: !this.state.isOpenList\n      });\n    }\n  }, {\n    key: \"toggleForm\",\n    value: function toggleForm() {\n      this.setState({\n        isOpenForm: !this.state.isOpenForm\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category__header\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.toggleList();\n        },\n        className: \"category-txt \".concat(this.state.isOpenList ? \"category-txt_rotate90\" : \"category-txt_rotate0\")\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-txt__title\"\n      }, this.props.title), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-txt__sum\"\n      }, this.props.sum > 0 ? this.props.sum : 0, \" \\u20BD\")), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"add-button\"\n      }, /*#__PURE__*/react.createElement(components_PlusButton, {\n        isOpen: this.state.isOpenForm,\n        toggleCallback: function toggleCallback() {\n          return _this2.toggleForm();\n        }\n      }))), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-content\"\n      }, /*#__PURE__*/react.createElement(components_AddForm, {\n        categoryType: this.props.type,\n        categoryId: this.props.id,\n        isOpen: this.state.isOpenForm,\n        toggleCallback: function toggleCallback() {\n          return _this2.toggleForm();\n        }\n      }), /*#__PURE__*/react.createElement(components_List, {\n        listIdArr: this.props.listIdArr,\n        isOpen: this.state.isOpenList\n      })));\n    }\n  }]);\n\n  return CategoryItem;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/CategoryItem/index.js\n\n/* harmony default export */ const components_CategoryItem = (CategoryItem);\n;// CONCATENATED MODULE: ./src/components/Category/component.js\n\n\n\n\n\n\nfunction Category_component_createSuper(Derived) { var hasNativeReflectConstruct = Category_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction Category_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar CategoryComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(CategoryComponent, _React$PureComponent);\n\n  var _super = Category_component_createSuper(CategoryComponent);\n\n  function CategoryComponent(props) {\n    classCallCheck_default()(this, CategoryComponent);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(CategoryComponent, [{\n    key: \"returnClassName\",\n    value: function returnClassName() {\n      if (this.props.type !== this.props.toggleCategory) {\n        return 'details__block_hide';\n      }\n\n      return '';\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this = this;\n\n      return this.props.categorysIdArr.map(function (categoryId) {\n        var category = _this.props.categorys[categoryId];\n\n        if (category.type === _this.props.type) {\n          return /*#__PURE__*/react.createElement(components_CategoryItem, {\n            key: category.id,\n            id: category.id,\n            title: category.title,\n            type: category.type,\n            sum: category.totalSum,\n            listIdArr: category.list\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if ('categorys' in this.props) {\n        return /*#__PURE__*/react.createElement(\"div\", {\n          className: \"details__block \".concat(this.returnClassName())\n        }, this.renderItems());\n      }\n\n      return [];\n    }\n  }]);\n\n  return CategoryComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/Category/container.js\n\n\n\n\nvar Category_container_mapStateToProps = function mapStateToProps(state) {\n  if (state.data === null) return {};\n  return {\n    categorys: state.data.entities.categorys,\n    categorysIdArr: state.data.result.categorys,\n    toggleCategory: state.toggleCategory\n  };\n};\n\nvar Category_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\n\nvar Category = (0,es/* connect */.$j)(Category_container_mapStateToProps, Category_container_mapDispatchToProps)(CategoryComponent);\n;// CONCATENATED MODULE: ./src/components/Category/index.js\n\n/* harmony default export */ const components_Category = (Category);\n;// CONCATENATED MODULE: ./src/components/ToggleCategory/component.js\n\n\n\n\n\n\nfunction ToggleCategory_component_createSuper(Derived) { var hasNativeReflectConstruct = ToggleCategory_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction ToggleCategory_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar ToggleCategoryComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(ToggleCategoryComponent, _React$PureComponent);\n\n  var _super = ToggleCategory_component_createSuper(ToggleCategoryComponent);\n\n  function ToggleCategoryComponent(props) {\n    classCallCheck_default()(this, ToggleCategoryComponent);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(ToggleCategoryComponent, [{\n    key: \"returnClassName\",\n    value: function returnClassName(type) {\n      if (type === this.props.toggleCategory) {\n        return 'button_active';\n      }\n\n      return '';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return /*#__PURE__*/react.createElement(\"ul\", {\n        className: \"menu__details menu__details_search\"\n      }, /*#__PURE__*/react.createElement(\"li\", null, /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this.props.toggle('expense');\n        },\n        className: \"button_details \".concat(this.returnClassName('expense'))\n      }, \"\\u0420\\u0430\\u0441\\u0445\\u043E\\u0434\\u044B\")), /*#__PURE__*/react.createElement(\"li\", null, /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this.props.toggle('income');\n        },\n        className: \"button_details \".concat(this.returnClassName('income'))\n      }, \"\\u0414\\u043E\\u0445\\u043E\\u0434\\u044B\")));\n    }\n  }]);\n\n  return ToggleCategoryComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/ToggleCategory/container.js\n\n\n\n\n\nvar ToggleCategory_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    toggleCategory: state.toggleCategory\n  };\n};\n\nvar ToggleCategory_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    toggle: function toggle(categoryType) {\n      return dispatch(toggleCategoryAction(categoryType));\n    }\n  };\n};\n\nvar ToggleCategory = (0,es/* connect */.$j)(ToggleCategory_container_mapStateToProps, ToggleCategory_container_mapDispatchToProps)(ToggleCategoryComponent);\n;// CONCATENATED MODULE: ./src/components/ToggleCategory/index.js\n\n/* harmony default export */ const components_ToggleCategory = (ToggleCategory);\n;// CONCATENATED MODULE: ./src/utils/calcDateRange.js\nfunction calcDateRange(period) {\n  var date = new Date();\n  var dateMin;\n  var dateMax;\n  var yearMin;\n  var monthMin;\n\n  switch (period) {\n    case 'month':\n      dateMin = new Date(date.getFullYear(), date.getMonth(), 1);\n      dateMax = new Date();\n      break;\n\n    case 'last-month':\n      yearMin = date.getFullYear();\n      monthMin = date.getMonth() - 1;\n\n      if (monthMin < 0) {\n        --yearMin;\n        monthMin = 11;\n      }\n\n      dateMin = new Date(yearMin, monthMin, 1);\n      dateMax = new Date(date.getFullYear(), date.getMonth(), 1);\n      break;\n\n    case 'half-year':\n      yearMin = date.getFullYear();\n      monthMin = date.getMonth() - 6;\n\n      if (monthMin < 0) {\n        --yearMin;\n        monthMin = 11 - -monthMin;\n      }\n\n      dateMin = new Date(yearMin, monthMin, 1);\n      dateMax = new Date(date.getFullYear(), date.getMonth(), 1);\n      break;\n\n    case 'year':\n      dateMin = new Date(date.getFullYear(), 0, 1);\n      dateMax = new Date();\n      break;\n\n    default:\n      dateMin = new Date(date.getFullYear(), date.getMonth(), 1);\n      dateMax = new Date();\n  }\n\n  return {\n    dateMin: dateMin,\n    dateMax: dateMax\n  };\n}\n;// CONCATENATED MODULE: ./src/components/Categorys/component.js\n\n\n\n\n\n\n\nfunction Categorys_component_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction Categorys_component_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { Categorys_component_ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { Categorys_component_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction Categorys_component_createSuper(Derived) { var hasNativeReflectConstruct = Categorys_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction Categorys_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar CategorysComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(CategorysComponent, _React$PureComponent);\n\n  var _super = Categorys_component_createSuper(CategorysComponent);\n\n  function CategorysComponent(props) {\n    classCallCheck_default()(this, CategorysComponent);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(CategorysComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var dateRange = calcDateRange(this.props.datePeriod);\n      this.props.getAllListsWithCategorys(Categorys_component_objectSpread(Categorys_component_objectSpread({}, {\n        userId: this.props.user.id\n      }), dateRange));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return [/*#__PURE__*/react.createElement(components_ToggleCategory, {\n        key: \"ct01\"\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        key: \"ct02\",\n        className: \"details details_categorys\"\n      }, /*#__PURE__*/react.createElement(components_Category, {\n        type: \"expense\"\n      }), /*#__PURE__*/react.createElement(components_Category, {\n        type: \"income\"\n      }))];\n    }\n  }]);\n\n  return CategorysComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/Categorys/container.js\n\n\n\n\n\nvar Categorys_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar Categorys_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getAllListsWithCategorys: function getAllListsWithCategorys(userIdAndDateRange) {\n      return dispatch(getAllListsWithCategorysAction(userIdAndDateRange));\n    }\n  };\n};\n\nvar Categorys = (0,es/* connect */.$j)(Categorys_container_mapStateToProps, Categorys_container_mapDispatchToProps)(CategorysComponent);\n;// CONCATENATED MODULE: ./src/components/Categorys/index.js\n\n/* harmony default export */ const components_Categorys = (Categorys);\n;// CONCATENATED MODULE: ./src/pages/home/index.js\n\n\n\n\n\n\nfunction home_createSuper(Derived) { var hasNativeReflectConstruct = home_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction home_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar Home = /*#__PURE__*/function (_React$Component) {\n  inherits_default()(Home, _React$Component);\n\n  var _super = home_createSuper(Home);\n\n  function Home() {\n    classCallCheck_default()(this, Home);\n\n    return _super.apply(this, arguments);\n  }\n\n  createClass_default()(Home, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", null, /*#__PURE__*/react.createElement(Header, null), /*#__PURE__*/react.createElement(\"section\", null, /*#__PURE__*/react.createElement(components_Charts, null)), /*#__PURE__*/react.createElement(\"section\", null, /*#__PURE__*/react.createElement(components_Categorys, {\n        datePeriod: this.props.urlParams.period\n      })));\n    }\n  }]);\n\n  return Home;\n}(react.Component);\n\n\n;// CONCATENATED MODULE: ./src/components/RadioButton/component.js\n\n\n\n\n\n\nfunction RadioButton_component_createSuper(Derived) { var hasNativeReflectConstruct = RadioButton_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction RadioButton_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar RadioButton = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(RadioButton, _React$PureComponent);\n\n  var _super = RadioButton_component_createSuper(RadioButton);\n\n  function RadioButton(props) {\n    var _this;\n\n    classCallCheck_default()(this, RadioButton);\n\n    _this = _super.call(this, props);\n    _this.defaultChecked = _this.props.defaultChecked || false;\n    return _this;\n  }\n\n  createClass_default()(RadioButton, [{\n    key: \"render\",\n    value: function render() {\n      return [/*#__PURE__*/react.createElement(\"input\", {\n        key: 'rb01',\n        className: \"radio-button\",\n        type: \"radio\",\n        id: this.props.id,\n        name: this.props.name,\n        value: this.props.value,\n        defaultChecked: this.defaultChecked,\n        onClick: this.props.callback\n      }), /*#__PURE__*/react.createElement(\"label\", {\n        key: 'rb02',\n        className: \"\".concat(this.props.className, \" radio-button-lable\"),\n        htmlFor: this.props.id\n      }, this.props.children)];\n    }\n  }]);\n\n  return RadioButton;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/RadioButton/index.js\n\n/* harmony default export */ const components_RadioButton = (RadioButton);\n;// CONCATENATED MODULE: ./src/components/AddCategory/component.js\n\n\n\n\n\n\n\n\nfunction AddCategory_component_createSuper(Derived) { var hasNativeReflectConstruct = AddCategory_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction AddCategory_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\nvar AddCategoryComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(AddCategoryComponent, _React$PureComponent);\n\n  var _super = AddCategory_component_createSuper(AddCategoryComponent);\n\n  function AddCategoryComponent(props) {\n    var _this;\n\n    classCallCheck_default()(this, AddCategoryComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      type: 'expense',\n      title: '',\n      userId: props.user.id\n    };\n    _this.handleChange = _this.handleChange.bind(assertThisInitialized_default()(_this));\n    _this.addCategoryAndResetState = _this.addCategoryAndResetState.bind(assertThisInitialized_default()(_this));\n    return _this;\n  }\n\n  createClass_default()(AddCategoryComponent, [{\n    key: \"handleChange\",\n    value: function handleChange(e, val) {\n      this.setState(defineProperty_default()({}, val, e.target.value));\n    }\n  }, {\n    key: \"addCategoryAndResetState\",\n    value: function addCategoryAndResetState(category) {\n      if (this.state.title !== '') {\n        this.props.addCategory(category);\n        this.setState({\n          title: ''\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/react.createElement(\"form\", {\n        className: \"setup-form\",\n        onSubmit: function onSubmit(e) {\n          return e.preventDefault();\n        }\n      }, /*#__PURE__*/react.createElement(components_RadioButton, {\n        className: 'radio-setup-lable',\n        id: 'radio-expense',\n        name: 'category-type',\n        value: 'expense',\n        defaultChecked: true,\n        callback: function callback(e) {\n          return _this2.handleChange(e, 'type');\n        }\n      }, \"\\u0420\\u0430\\u0441\\u0445\\u043E\\u0434\"), /*#__PURE__*/react.createElement(components_RadioButton, {\n        className: 'radio-setup-lable',\n        id: 'radio-income',\n        name: 'category-type',\n        value: 'income',\n        callback: function callback(e) {\n          return _this2.handleChange(e, 'type');\n        }\n      }, \"\\u0414\\u043E\\u0445\\u043E\\u0434\"), /*#__PURE__*/react.createElement(\"input\", {\n        value: this.state.title,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'title');\n        },\n        placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n        type: \"text\",\n        className: \"setup-input-field\"\n      }), /*#__PURE__*/react.createElement(components_SubmitButton, {\n        className: 'button_setup-form',\n        callback: function callback() {\n          return _this2.addCategoryAndResetState(_this2.state);\n        }\n      }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"));\n    }\n  }]);\n\n  return AddCategoryComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/AddCategory/container.js\n\n\n\n\n\nvar AddCategory_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar AddCategory_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addCategory: function addCategory(category) {\n      return dispatch(addCategoryAction(category));\n    }\n  };\n};\n\nvar AddCategory = (0,es/* connect */.$j)(AddCategory_container_mapStateToProps, AddCategory_container_mapDispatchToProps)(AddCategoryComponent);\n;// CONCATENATED MODULE: ./src/components/AddCategory/index.js\n\n/* harmony default export */ const components_AddCategory = (AddCategory);\n;// CONCATENATED MODULE: ./src/components/CategoryItem_Setup/component.js\n\n\n\n\n\n\n\n\nfunction CategoryItem_Setup_component_createSuper(Derived) { var hasNativeReflectConstruct = CategoryItem_Setup_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction CategoryItem_Setup_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\nvar CategoryItemSetupComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(CategoryItemSetupComponent, _React$PureComponent);\n\n  var _super = CategoryItem_Setup_component_createSuper(CategoryItemSetupComponent);\n\n  function CategoryItemSetupComponent(props) {\n    var _this;\n\n    classCallCheck_default()(this, CategoryItemSetupComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      isOpenEditWindow: false,\n      isOpenConfirmDelete: false,\n      title: _this.props.title\n    };\n    _this.openEditWindow = _this.openEditWindow.bind(assertThisInitialized_default()(_this));\n    _this.closeWindows = _this.closeWindows.bind(assertThisInitialized_default()(_this));\n    _this.openConfirmDeleteWindow = _this.openConfirmDeleteWindow.bind(assertThisInitialized_default()(_this));\n    _this.saveCategoryItem = _this.saveCategoryItem.bind(assertThisInitialized_default()(_this));\n    _this.deleteCategoryItem = _this.deleteCategoryItem.bind(assertThisInitialized_default()(_this));\n    _this.toggleVisibleAndUpdate = _this.toggleVisibleAndUpdate.bind(assertThisInitialized_default()(_this));\n    return _this;\n  }\n\n  createClass_default()(CategoryItemSetupComponent, [{\n    key: \"toggleVisibleAndUpdate\",\n    value: function toggleVisibleAndUpdate() {\n      var category = {\n        id: this.props.id,\n        visible: !this.props.visible\n      };\n      this.props.updCategory(category);\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e, val) {\n      var fieldValue = val === \"sum\" ? e.target.value.replace(/\\D/, '') : e.target.value;\n      this.setState(defineProperty_default()({}, val, fieldValue));\n    }\n  }, {\n    key: \"openEditWindow\",\n    value: function openEditWindow() {\n      this.setState({\n        isOpenEditWindow: true,\n        isOpenConfirmDelete: false\n      });\n    }\n  }, {\n    key: \"openConfirmDeleteWindow\",\n    value: function openConfirmDeleteWindow() {\n      this.setState({\n        isOpenEditWindow: false,\n        isOpenConfirmDelete: true\n      });\n    }\n  }, {\n    key: \"closeWindows\",\n    value: function closeWindows() {\n      this.setState({\n        isOpenEditWindow: false,\n        isOpenConfirmDelete: false\n      });\n    }\n  }, {\n    key: \"saveCategoryItem\",\n    value: function saveCategoryItem() {\n      this.props.updCategory({\n        id: this.props.id,\n        title: this.state.title\n      });\n      this.closeWindows();\n    }\n  }, {\n    key: \"deleteCategoryItem\",\n    value: function deleteCategoryItem() {\n      this.props.delCategory({\n        id: this.props.id\n      });\n      this.closeWindows();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return [/*#__PURE__*/react.createElement(\"div\", {\n        key: this.props.id,\n        className: \"category__setup\"\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.openEditWindow();\n        },\n        className: \"category-setup__item \".concat(!this.props.visible && \"category-setup__item_hidden\")\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"category-setup__title\"\n      }, this.props.title)), /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this2.toggleVisibleAndUpdate();\n        },\n        className: \"button button_hide\"\n      }, this.props.visible ? \"\\u0421\\u043A\\u0440\\u044B\\u0442\\u044C\" : \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C\")), this.state.isOpenEditWindow && /*#__PURE__*/react.createElement(components_ModalWindow, {\n        key: \"ew\".concat(this.props.id)\n      }, /*#__PURE__*/react.createElement(\"div\", null, /*#__PURE__*/react.createElement(components_CloseWindowButton, {\n        closeCallback: this.closeWindows\n      }), /*#__PURE__*/react.createElement(\"textarea\", {\n        value: this.state.title,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'title');\n        },\n        placeholder: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n        className: \"add-form__txt\"\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"modal-window__buttons\"\n      }, /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this2.saveCategoryItem();\n        },\n        className: \"button_modal-window\"\n      }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"), /*#__PURE__*/react.createElement(components_SubmitButton, {\n        callback: function callback() {\n          return _this2.openConfirmDeleteWindow();\n        },\n        className: \"button_modal-window\"\n      }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")))), this.state.isOpenConfirmDelete && /*#__PURE__*/react.createElement(components_ConfirmDeleteWindow, {\n        key: \"dw\".concat(this.props.id),\n        cancelCallback: function cancelCallback() {\n          return _this2.closeWindows();\n        },\n        deleteCallback: function deleteCallback() {\n          return _this2.deleteCategoryItem();\n        },\n        title: this.props.title\n      })];\n    }\n  }]);\n\n  return CategoryItemSetupComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/CategoryItem_Setup/container.js\n\n\n\n\n\nvar CategoryItem_Setup_container_mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar CategoryItem_Setup_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updCategory: function updCategory(category) {\n      return dispatch(updCategoryAction(category));\n    },\n    delCategory: function delCategory(category) {\n      return dispatch(delCategoryAction(category));\n    }\n  };\n};\n\nvar CategoryItemSetup = (0,es/* connect */.$j)(CategoryItem_Setup_container_mapStateToProps, CategoryItem_Setup_container_mapDispatchToProps)(CategoryItemSetupComponent);\n;// CONCATENATED MODULE: ./src/components/CategoryItem_Setup/index.js\n\n/* harmony default export */ const CategoryItem_Setup = (CategoryItemSetup);\n;// CONCATENATED MODULE: ./src/components/Category_Setup/component.js\n\n\n\n\n\n\nfunction Category_Setup_component_createSuper(Derived) { var hasNativeReflectConstruct = Category_Setup_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction Category_Setup_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar CategorySetupComponent = /*#__PURE__*/function (_React$Component) {\n  inherits_default()(CategorySetupComponent, _React$Component);\n\n  var _super = Category_Setup_component_createSuper(CategorySetupComponent);\n\n  function CategorySetupComponent(props) {\n    classCallCheck_default()(this, CategorySetupComponent);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(CategorySetupComponent, [{\n    key: \"returnClassName\",\n    value: function returnClassName() {\n      if (this.props.type !== this.props.toggleCategory) {\n        return \"details-setup__block_hide\";\n      }\n\n      return '';\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this = this;\n\n      return this.props.categorysIdArr.map(function (categoryId) {\n        var category = _this.props.categorys[categoryId];\n\n        if (category.type === _this.props.type) {\n          return /*#__PURE__*/react.createElement(CategoryItem_Setup, {\n            key: category.id,\n            id: category.id,\n            title: category.title,\n            type: category.type,\n            visible: category.visible\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if ('categorys' in this.props) {\n        return /*#__PURE__*/react.createElement(\"div\", {\n          className: \"details-setup__block \".concat(this.returnClassName())\n        }, this.renderItems());\n      }\n\n      return [];\n    }\n  }]);\n\n  return CategorySetupComponent;\n}(react.Component);\n\n\n;// CONCATENATED MODULE: ./src/components/Category_Setup/container.js\n\n\n\n\nvar Category_Setup_container_mapStateToProps = function mapStateToProps(state) {\n  if (state.data === null) return {};\n  return {\n    categorys: state.data.entities.categorys,\n    categorysIdArr: state.data.result.categorys,\n    toggleCategory: state.toggleCategory\n  };\n};\n\nvar Category_Setup_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\n\nvar CategorySetup = (0,es/* connect */.$j)(Category_Setup_container_mapStateToProps, Category_Setup_container_mapDispatchToProps)(CategorySetupComponent);\n;// CONCATENATED MODULE: ./src/components/Category_Setup/index.js\n\n/* harmony default export */ const Category_Setup = (CategorySetup);\n;// CONCATENATED MODULE: ./src/components/Categorys_Setup/component.js\n\n\n\n\n\n\nfunction Categorys_Setup_component_createSuper(Derived) { var hasNativeReflectConstruct = Categorys_Setup_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction Categorys_Setup_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\nvar component_CategorysComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(CategorysComponent, _React$PureComponent);\n\n  var _super = Categorys_Setup_component_createSuper(CategorysComponent);\n\n  function CategorysComponent(props) {\n    classCallCheck_default()(this, CategorysComponent);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(CategorysComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getAllCategorys(this.props.user.id);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return [/*#__PURE__*/react.createElement(components_ToggleCategory, {\n        key: \"ct01\"\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        key: \"ct02\",\n        className: \"details-setup details-setup_categorys\"\n      }, /*#__PURE__*/react.createElement(Category_Setup, {\n        type: \"expense\"\n      }), /*#__PURE__*/react.createElement(Category_Setup, {\n        type: \"income\"\n      }))];\n    }\n  }]);\n\n  return CategorysComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/Categorys_Setup/container.js\n\n\n\n\n\nvar Categorys_Setup_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar Categorys_Setup_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getAllCategorys: function getAllCategorys(userId) {\n      return dispatch(getAllCategorysAction(userId));\n    }\n  };\n};\n\nvar CategorysSetup = (0,es/* connect */.$j)(Categorys_Setup_container_mapStateToProps, Categorys_Setup_container_mapDispatchToProps)(component_CategorysComponent);\n;// CONCATENATED MODULE: ./src/components/Categorys_Setup/index.js\n\n/* harmony default export */ const Categorys_Setup = (CategorysSetup);\n;// CONCATENATED MODULE: ./src/pages/setup/index.js\n\n\n\n\n\n\nfunction setup_createSuper(Derived) { var hasNativeReflectConstruct = setup_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction setup_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar Setup = /*#__PURE__*/function (_React$Component) {\n  inherits_default()(Setup, _React$Component);\n\n  var _super = setup_createSuper(Setup);\n\n  function Setup() {\n    classCallCheck_default()(this, Setup);\n\n    return _super.apply(this, arguments);\n  }\n\n  createClass_default()(Setup, [{\n    key: \"render\",\n    value: function render() {\n      return [/*#__PURE__*/react.createElement(Header, {\n        key: 'ac01'\n      }), /*#__PURE__*/react.createElement(components_AddCategory, {\n        key: 'ac02'\n      }), /*#__PURE__*/react.createElement(Categorys_Setup, {\n        key: 'ac03'\n      })];\n    }\n  }]);\n\n  return Setup;\n}(react.Component);\n\n\n;// CONCATENATED MODULE: ./src/components/LoginForm/component.js\n\n\n\n\n\n\n\nfunction LoginForm_component_createSuper(Derived) { var hasNativeReflectConstruct = LoginForm_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction LoginForm_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar LoginFormComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(LoginFormComponent, _React$PureComponent);\n\n  var _super = LoginForm_component_createSuper(LoginFormComponent);\n\n  function LoginFormComponent(props) {\n    var _this;\n\n    classCallCheck_default()(this, LoginFormComponent);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      login: '',\n      pass: ''\n    };\n    return _this;\n  }\n\n  createClass_default()(LoginFormComponent, [{\n    key: \"handleChange\",\n    value: function handleChange(e, val) {\n      this.setState(defineProperty_default()({}, val, e.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/react.createElement(\"div\", null, this.props.user.loginErrorMes && /*#__PURE__*/react.createElement(\"div\", {\n        className: \"login-error-mes\"\n      }, this.props.user.loginErrorMes), /*#__PURE__*/react.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return e.preventDefault();\n        }\n      }, /*#__PURE__*/react.createElement(\"input\", {\n        value: this.state.login,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'login');\n        },\n        placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n        type: \"text\",\n        className: \"add-form__sum\"\n      }), /*#__PURE__*/react.createElement(\"input\", {\n        value: this.state.pass,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'pass');\n        },\n        placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n        type: \"password\",\n        className: \"add-form__sum\"\n      }), /*#__PURE__*/react.createElement(\"div\", {\n        className: \"login-form-submit-wrap\"\n      }, /*#__PURE__*/react.createElement(components_SubmitButton, {\n        className: 'button_login-form',\n        callback: function callback() {\n          return _this2.props.loginRequest({\n            login: _this2.state.login,\n            pass: _this2.state.pass\n          });\n        }\n      }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\"))));\n    }\n  }]);\n\n  return LoginFormComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/LoginForm/container.js\n\n\n\n\n\nvar LoginForm_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar LoginForm_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    loginRequest: function loginRequest(data) {\n      return dispatch(loginRequestAction(data));\n    }\n  };\n};\n\nvar LoginForm = (0,es/* connect */.$j)(LoginForm_container_mapStateToProps, LoginForm_container_mapDispatchToProps)(LoginFormComponent);\n;// CONCATENATED MODULE: ./src/components/LoginForm/index.js\n\n/* harmony default export */ const components_LoginForm = (LoginForm);\n;// CONCATENATED MODULE: ./src/pages/login/index.js\n\n\n\n\n\n\nfunction login_createSuper(Derived) { var hasNativeReflectConstruct = login_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction login_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar LoginPage = /*#__PURE__*/function (_React$Component) {\n  inherits_default()(LoginPage, _React$Component);\n\n  var _super = login_createSuper(LoginPage);\n\n  function LoginPage(props) {\n    classCallCheck_default()(this, LoginPage);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", {\n        className: \"login-form-wrap\"\n      }, /*#__PURE__*/react.createElement(components_LoginForm, null));\n    }\n  }]);\n\n  return LoginPage;\n}(react.Component);\n\nvar RedirectRoute = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(RedirectRoute, _React$PureComponent);\n\n  var _super2 = login_createSuper(RedirectRoute);\n\n  function RedirectRoute(props) {\n    var _this;\n\n    classCallCheck_default()(this, RedirectRoute);\n\n    _this = _super2.call(this, props);\n    _this.location = props.location;\n    _this.from = \"/\";\n    if (props.location.state !== undefined) _this.from = props.location.state.from.pathname;\n    return _this;\n  }\n\n  createClass_default()(RedirectRoute, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/react.createElement(react_router/* Route */.AW, {\n        render: function render() {\n          return !_this2.props.user.isLogin ? /*#__PURE__*/react.createElement(LoginPage, null) : /*#__PURE__*/react.createElement(react_router/* Redirect */.l_, {\n            to: {\n              pathname: _this2.from //state: {from: this.location}\n\n            }\n          });\n        }\n      });\n    }\n  }]);\n\n  return RedirectRoute;\n}(react.PureComponent);\n\nvar Login = (0,es/* connect */.$j)(function (state) {\n  return {\n    user: state.user\n  };\n})(RedirectRoute);\n/* harmony default export */ const login = (Login);\n;// CONCATENATED MODULE: ./src/pages/404/index.js\n\n\n\n\n\n\nfunction _404_createSuper(Derived) { var hasNativeReflectConstruct = _404_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction _404_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar Page404 = /*#__PURE__*/function (_React$Component) {\n  inherits_default()(Page404, _React$Component);\n\n  var _super = _404_createSuper(Page404);\n\n  function Page404(props) {\n    classCallCheck_default()(this, Page404);\n\n    return _super.call(this, props);\n  }\n\n  createClass_default()(Page404, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(\"div\", null, \"404 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430\");\n    }\n  }]);\n\n  return Page404;\n}(react.Component);\n\n\n;// CONCATENATED MODULE: ./src/components/PrivateRoute/component.js\n\n\n\n\n\n\nfunction PrivateRoute_component_createSuper(Derived) { var hasNativeReflectConstruct = PrivateRoute_component_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction PrivateRoute_component_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar PrivateRouteComponent = /*#__PURE__*/function (_React$PureComponent) {\n  inherits_default()(PrivateRouteComponent, _React$PureComponent);\n\n  var _super = PrivateRoute_component_createSuper(PrivateRouteComponent);\n\n  function PrivateRouteComponent(props) {\n    var _this;\n\n    classCallCheck_default()(this, PrivateRouteComponent);\n\n    _this = _super.call(this, props);\n    _this.children = props.children;\n    _this.urlParams = props.computedMatch.params;\n    _this.location = props.location;\n    return _this;\n  }\n\n  createClass_default()(PrivateRouteComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.user.isLogin !== true && this.props.user.isLogin !== false) {\n        this.props.authRequest(); //\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.props.user.isLogin !== true && this.props.user.isLogin !== false) {\n        return []; //\n      }\n\n      return /*#__PURE__*/react.createElement(react_router/* Route */.AW, {\n        render: function render() {\n          return _this2.props.user.isLogin ? /*#__PURE__*/react.cloneElement(_this2.children, {\n            urlParams: _this2.urlParams\n          }) : /*#__PURE__*/react.createElement(react_router/* Redirect */.l_, {\n            to: {\n              pathname: \"/login\",\n              state: {\n                from: _this2.location\n              }\n            }\n          });\n        }\n      });\n    }\n  }]);\n\n  return PrivateRouteComponent;\n}(react.PureComponent);\n\n\n;// CONCATENATED MODULE: ./src/components/PrivateRoute/container.js\n\n\n\n\n\nvar PrivateRoute_container_mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar PrivateRoute_container_mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    authRequest: function authRequest() {\n      return dispatch(authRequestAction());\n    }\n  };\n};\n\nvar PrivateRoute = (0,es/* connect */.$j)(PrivateRoute_container_mapStateToProps, PrivateRoute_container_mapDispatchToProps)(PrivateRouteComponent);\n;// CONCATENATED MODULE: ./src/components/PrivateRoute/index.js\n\n/* harmony default export */ const components_PrivateRoute = (PrivateRoute);\n;// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\n\nfunction src_createSuper(Derived) { var hasNativeReflectConstruct = src_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }\n\nfunction src_isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar App = /*#__PURE__*/function (_React$Component) {\n  inherits_default()(App, _React$Component);\n\n  var _super = src_createSuper(App);\n\n  function App() {\n    classCallCheck_default()(this, App);\n\n    return _super.apply(this, arguments);\n  }\n\n  createClass_default()(App, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react.createElement(es/* Provider */.zt, {\n        store: store\n      }, /*#__PURE__*/react.createElement(\"div\", {\n        className: \"max-width\"\n      }, /*#__PURE__*/react.createElement(react_router_dom/* BrowserRouter */.VK, null, /*#__PURE__*/react.createElement(react_router/* Switch */.rs, null, /*#__PURE__*/react.createElement(components_PrivateRoute, {\n        exact: true,\n        path: \"/\"\n      }, /*#__PURE__*/react.createElement(Home, null)), /*#__PURE__*/react.createElement(components_PrivateRoute, {\n        exact: true,\n        path: \"/setup\"\n      }, /*#__PURE__*/react.createElement(Setup, null)), /*#__PURE__*/react.createElement(react_router/* Route */.AW, {\n        path: \"/login/\",\n        component: login\n      }), /*#__PURE__*/react.createElement(components_PrivateRoute, {\n        exact: true,\n        path: \"/:period\"\n      }, /*#__PURE__*/react.createElement(Home, null)), /*#__PURE__*/react.createElement(react_router/* Route */.AW, {\n        path: \"*\",\n        component: Page404\n      })))));\n    }\n  }]);\n\n  return App;\n}(react.Component);\n\nreact_dom.render( /*#__PURE__*/react.createElement(App, null), document.getElementById(\"app\"));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZSsvdUdsLzguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzNtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3JkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3BDQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUN4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUM3RUE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDN0NBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3BDQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzlGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDckNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN0Q0E7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDaERBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQy9KQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZEE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMzRkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDekRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMxREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2xEQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNuR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzlKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNqQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNqRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL3V0aWxzL3Rva2Vucy5qcz9hMjY5Iiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvYXBpL2luZGV4LmpzPzY4N2EiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy91dGlscy9ub3JtYWxpemUuanM/MDdiNyIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL3N0b3JlL2FjdGlvbnMuanM/ZDllMCIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL3N0b3JlL3NhZ2FzLmpzPzc3ZWUiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9zdG9yZS9yZWR1Y2Vycy5qcz9mZjQ4Iiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvc3RvcmUvaW5kZXguanM/MjJiZSIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvTWVudUl0ZW0vY29tcG9uZW50LmpzP2E2MjUiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL01lbnVJdGVtL2luZGV4LmpzP2VhMjQiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL01lbnUvY29tcG9uZW50LmpzPzdkN2QiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL01lbnUvY29udGFpbmVyLmpzPzFhNzciLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL01lbnUvaW5kZXguanM/Yzk5ZCIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvVXNlckxvZ291dExpbmsvY29tcG9uZW50LmpzPzZjZjciLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1VzZXJMb2dvdXRMaW5rL2NvbnRhaW5lci5qcz9jMWE4Iiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9Vc2VyTG9nb3V0TGluay9pbmRleC5qcz9lMzhmIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9TZXR1cExpbmsvY29tcG9uZW50LmpzPzkxNzIiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1NldHVwTGluay9pbmRleC5qcz8wMGI0Iiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvcGFnZXMvaGVhZGVyL2luZGV4LmpzPzAxNjAiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NoYXJ0c0l0ZW0vY29tcG9uZW50LmpzP2NhNjUiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NoYXJ0c0l0ZW0vaW5kZXguanM/ODhmOSIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ2hhcnRzL2NvbXBvbmVudC5qcz9lOTQ0Iiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvdXRpbHMvY2FsY0NoYXJ0cy5qcz9iYjZiIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9DaGFydHMvY29udGFpbmVyLmpzPzY0YzIiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NoYXJ0cy9pbmRleC5qcz9jNjg1Iiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9QbHVzQnV0dG9uL2NvbXBvbmVudC5qcz82N2MxIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9QbHVzQnV0dG9uL2luZGV4LmpzPzY2NTQiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1N1Ym1pdEJ1dHRvbi9jb21wb25lbnQuanM/MmI2NiIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvU3VibWl0QnV0dG9uL2luZGV4LmpzP2I5ZjgiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0FkZEZvcm0vY29tcG9uZW50LmpzP2VlM2YiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0FkZEZvcm0vY29udGFpbmVyLmpzP2FlNWYiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0FkZEZvcm0vaW5kZXguanM/YjQyZiIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvTW9kYWxXaW5kb3cvY29tcG9uZW50LmpzP2VmY2IiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL01vZGFsV2luZG93L2NvbnRhaW5lci5qcz81MGY1Iiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9Nb2RhbFdpbmRvdy9pbmRleC5qcz83MzhjIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9DbG9zZVdpbmRvd0J1dHRvbi9jb21wb25lbnQuanM/MmEwNSIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ2xvc2VXaW5kb3dCdXR0b24vaW5kZXguanM/MmZjNyIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ29uZmlybURlbGV0ZVdpbmRvdy9jb21wb25lbnQuanM/YThlYiIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ29uZmlybURlbGV0ZVdpbmRvdy9pbmRleC5qcz9mYTNhIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvdXRpbHMvZm9ybWF0TGlzdERhdGUuanM/M2VhZiIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvTGlzdEl0ZW0vY29tcG9uZW50LmpzP2IwMTkiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0xpc3RJdGVtL2NvbnRhaW5lci5qcz84MGUyIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9MaXN0SXRlbS9pbmRleC5qcz80NDgwIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9MaXN0L2NvbXBvbmVudC5qcz82ZTUwIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9MaXN0L2NvbnRhaW5lci5qcz80MDBkIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9MaXN0L2luZGV4LmpzP2ZmODAiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NhdGVnb3J5SXRlbS9jb21wb25lbnQuanM/ODA3YSIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ2F0ZWdvcnlJdGVtL2luZGV4LmpzPzZlZWIiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NhdGVnb3J5L2NvbXBvbmVudC5qcz9jNWE5Iiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9DYXRlZ29yeS9jb250YWluZXIuanM/YTIwMiIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ2F0ZWdvcnkvaW5kZXguanM/NjU5ZCIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvVG9nZ2xlQ2F0ZWdvcnkvY29tcG9uZW50LmpzPzZjMDMiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1RvZ2dsZUNhdGVnb3J5L2NvbnRhaW5lci5qcz81NWJkIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9Ub2dnbGVDYXRlZ29yeS9pbmRleC5qcz80MzA3Iiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvdXRpbHMvY2FsY0RhdGVSYW5nZS5qcz83NzFkIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9DYXRlZ29yeXMvY29tcG9uZW50LmpzPzJiYTYiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NhdGVnb3J5cy9jb250YWluZXIuanM/MGEyNSIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ2F0ZWdvcnlzL2luZGV4LmpzPzE0ZTkiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9wYWdlcy9ob21lL2luZGV4LmpzP2UwZWEiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1JhZGlvQnV0dG9uL2NvbXBvbmVudC5qcz9mZmYzIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9SYWRpb0J1dHRvbi9pbmRleC5qcz80YTYxIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9BZGRDYXRlZ29yeS9jb21wb25lbnQuanM/YjE2NCIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQWRkQ2F0ZWdvcnkvY29udGFpbmVyLmpzPzliZTAiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0FkZENhdGVnb3J5L2luZGV4LmpzP2Y3ZGQiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NhdGVnb3J5SXRlbV9TZXR1cC9jb21wb25lbnQuanM/OWE1MSIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ2F0ZWdvcnlJdGVtX1NldHVwL2NvbnRhaW5lci5qcz84MWZkIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9DYXRlZ29yeUl0ZW1fU2V0dXAvaW5kZXguanM/YTViYyIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ2F0ZWdvcnlfU2V0dXAvY29tcG9uZW50LmpzP2M0YmEiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NhdGVnb3J5X1NldHVwL2NvbnRhaW5lci5qcz9kNzkwIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9DYXRlZ29yeV9TZXR1cC9pbmRleC5qcz9iMjZhIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9DYXRlZ29yeXNfU2V0dXAvY29tcG9uZW50LmpzPzhjMjYiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NhdGVnb3J5c19TZXR1cC9jb250YWluZXIuanM/NzY1YyIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvQ2F0ZWdvcnlzX1NldHVwL2luZGV4LmpzPzkzZGQiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9wYWdlcy9zZXR1cC9pbmRleC5qcz9hYjM4Iiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9Mb2dpbkZvcm0vY29tcG9uZW50LmpzPzM4MGQiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0xvZ2luRm9ybS9jb250YWluZXIuanM/ZWM3OSIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvTG9naW5Gb3JtL2luZGV4LmpzP2FjZTUiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9wYWdlcy9sb2dpbi9pbmRleC5qcz8xOTY1Iiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvcGFnZXMvNDA0L2luZGV4LmpzP2E1ZWMiLCJ3ZWJwYWNrOi8vUmVhY3RfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1ByaXZhdGVSb3V0ZS9jb21wb25lbnQuanM/MzNkOSIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvUHJpdmF0ZVJvdXRlL2NvbnRhaW5lci5qcz9jZDJmIiwid2VicGFjazovL1JlYWN0X3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qcml2YXRlUm91dGUvaW5kZXguanM/NzJkOCIsIndlYnBhY2s6Ly9SZWFjdF9wcm9qZWN0Ly4vc3JjL2luZGV4LmpzPzJkZWMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHNhdmVUb2tlbnNUb1N0b3JhZ2UodG9rZW5zKSB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbnMnLCBKU09OLnN0cmluZ2lmeSh0b2tlbnMpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclRva2Vuc0Zyb21TdG9yYWdlKCkge1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW5zJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVmcmVzaFRva2VuRnJvbVN0b3JhZ2UoKSB7XG4gIGlmICghbG9jYWxTdG9yYWdlLnRva2VucykgcmV0dXJuIG51bGw7XG4gIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS50b2tlbnMpLnJlZnJlc2hUb2tlbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY2Nlc3NUb2tlbkZyb21TdG9yYWdlKCkge1xuICBpZiAoIWxvY2FsU3RvcmFnZS50b2tlbnMpIHJldHVybiBudWxsO1xuICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UudG9rZW5zKS5hY2Nlc3NUb2tlbjtcbn0iLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvclwiO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSBcIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yXCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IHsgZ2V0UmVmcmVzaFRva2VuRnJvbVN0b3JhZ2UsIGdldEFjY2Vzc1Rva2VuRnJvbVN0b3JhZ2UgfSBmcm9tICcuLi91dGlscy90b2tlbnMnO1xuXG52YXIgQXBpID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQXBpKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcGkpO1xuXG4gICAgdGhpcy51cmxSb290ID0gJy9hcGknOyAvL3RoaXMudXJsUm9vdCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpJztcblxuICAgIHRoaXMub3B0aW9uc0RlZmF1bHQgPSB7XG4gICAgICBtb2RlOiBcImNvcnNcIlxuICAgIH07XG4gICAgdGhpcy5nZXRSZWZyZXNoVG9rZW5Gcm9tU3RvcmFnZSA9IGdldFJlZnJlc2hUb2tlbkZyb21TdG9yYWdlO1xuICAgIHRoaXMuZ2V0QWNjZXNzVG9rZW5Gcm9tU3RvcmFnZSA9IGdldEFjY2Vzc1Rva2VuRnJvbVN0b3JhZ2U7XG4gICAgdGhpcy5sb2dpblJlcXVlc3QgPSB0aGlzLmxvZ2luUmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMubG9nb3V0UmVxdWVzdCA9IHRoaXMubG9nb3V0UmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVxdWVzdFdpdGhBY2Nlc3NUb2tlbiA9IHRoaXMucmVxdWVzdFdpdGhBY2Nlc3NUb2tlbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVmcmVzaFRva2VucyA9IHRoaXMucmVmcmVzaFRva2Vucy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZ2V0QXV0aERhdGFCeVNlc3Npb24gPSB0aGlzLmdldEF1dGhEYXRhQnlTZXNzaW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hZGRDYXRlZ29yeVJlcXVlc3QgPSB0aGlzLmFkZENhdGVnb3J5UmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkQ2F0ZWdvcnlSZXF1ZXN0ID0gdGhpcy51cGRDYXRlZ29yeVJlcXVlc3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRlbENhdGVnb3J5UmVxdWVzdCA9IHRoaXMuZGVsQ2F0ZWdvcnlSZXF1ZXN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5nZXRBbGxDYXRlZ29yeXMgPSB0aGlzLmdldEFsbENhdGVnb3J5cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZ2V0QWxsTGlzdHNXaXRoQ2F0ZWdvcnlzID0gdGhpcy5nZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLmFkZExpc3RJdGVtUmVxdWVzdCA9IHRoaXMuYWRkTGlzdEl0ZW1SZXF1ZXN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRMaXN0SXRlbVJlcXVlc3QgPSB0aGlzLnVwZExpc3RJdGVtUmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVsTGlzdEl0ZW1SZXF1ZXN0ID0gdGhpcy5kZWxMaXN0SXRlbVJlcXVlc3QuYmluZCh0aGlzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBcGksIFt7XG4gICAga2V5OiBcInJlcXVlc3RXaXRoQWNjZXNzVG9rZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZXF1ZXN0V2l0aEFjY2Vzc1Rva2VuID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGZ1bGxVcmwsIGFjY2Vzc1Rva2VuO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwO1xuICAgICAgICAgICAgICAgIGZ1bGxVcmwgPSBcIlwiLmNvbmNhdCh0aGlzLnVybFJvb3QpLmNvbmNhdCh1cmwpO1xuICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuID0gdGhpcy5nZXRBY2Nlc3NUb2tlbkZyb21TdG9yYWdlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIG9wdGlvbnMuaGVhZGVycyA9IHt9O1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChhY2Nlc3NUb2tlbikgb3B0aW9ucy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBcIkJlYXJlciBcIi5jb25jYXQoYWNjZXNzVG9rZW4pO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4O1xuICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChmdWxsVXJsLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMub3B0aW9uc0RlZmF1bHQpLCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1swLCAxMV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmVxdWVzdFdpdGhBY2Nlc3NUb2tlbihfeCwgX3gyKSB7XG4gICAgICAgIHJldHVybiBfcmVxdWVzdFdpdGhBY2Nlc3NUb2tlbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVxdWVzdFdpdGhBY2Nlc3NUb2tlbjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJyZWZyZXNoVG9rZW5zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmcmVzaFRva2VucyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkge1xuICAgICAgICB2YXIgcmVmcmVzaFRva2VuLCBmdWxsVXJsLCBvcHRpb25zLCByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbiA9IHRoaXMuZ2V0UmVmcmVzaFRva2VuRnJvbVN0b3JhZ2UoKTtcbiAgICAgICAgICAgICAgICBmdWxsVXJsID0gXCJcIi5jb25jYXQodGhpcy51cmxSb290LCBcIi9hdXRoL3JlZnJlc2hcIik7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogcmVmcmVzaFRva2VuXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChmdWxsVXJsLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMub3B0aW9uc0RlZmF1bHQpLCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTA7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyW1wiY2F0Y2hcIl0oMCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzLCBbWzAsIDEwXV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZWZyZXNoVG9rZW5zKCkge1xuICAgICAgICByZXR1cm4gX3JlZnJlc2hUb2tlbnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlZnJlc2hUb2tlbnM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwibG9naW5SZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfbG9naW5SZXF1ZXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoZGF0YSkge1xuICAgICAgICB2YXIgZnVsbFVybCwgb3B0aW9ucywgcmVzcG9uc2U7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGZ1bGxVcmwgPSBcIlwiLmNvbmNhdCh0aGlzLnVybFJvb3QsIFwiL2F1dGgvbG9naW5cIik7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2luOiBkYXRhLmxvZ2luLFxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogZGF0YS5wYXNzXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goZnVsbFVybCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLm9wdGlvbnNEZWZhdWx0KSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbXCJjYXRjaFwiXSgyKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDMudDAubWVzc2FnZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMsIFtbMiwgOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gbG9naW5SZXF1ZXN0KF94Mykge1xuICAgICAgICByZXR1cm4gX2xvZ2luUmVxdWVzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbG9naW5SZXF1ZXN0O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImxvZ291dFJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9sb2dvdXRSZXF1ZXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7XG4gICAgICAgIHZhciB1cmwsIG9wdGlvbnMsIHJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB1cmwgPSBcIi9hdXRoL2xvZ291dFwiO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IHRoaXMuZ2V0UmVmcmVzaFRva2VuRnJvbVN0b3JhZ2UoKVxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMjtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFdpdGhBY2Nlc3NUb2tlbih1cmwsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NC5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbXCJjYXRjaFwiXSgyKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDQudDAubWVzc2FnZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMsIFtbMiwgOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gbG9nb3V0UmVxdWVzdCgpIHtcbiAgICAgICAgcmV0dXJuIF9sb2dvdXRSZXF1ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsb2dvdXRSZXF1ZXN0O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImdldEF1dGhEYXRhQnlTZXNzaW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0QXV0aERhdGFCeVNlc3Npb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHtcbiAgICAgICAgdmFyIHVybCwgb3B0aW9ucywgcmVzcG9uc2U7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHVybCA9IFwiL2F1dGgvdXNlclwiO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMjtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFdpdGhBY2Nlc3NUb2tlbih1cmwsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDVbXCJjYXRjaFwiXSgyKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDUudDAubWVzc2FnZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMsIFtbMiwgOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0QXV0aERhdGFCeVNlc3Npb24oKSB7XG4gICAgICAgIHJldHVybiBfZ2V0QXV0aERhdGFCeVNlc3Npb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEF1dGhEYXRhQnlTZXNzaW9uO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImFkZENhdGVnb3J5UmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2FkZENhdGVnb3J5UmVxdWVzdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KGNhdGVnb3J5KSB7XG4gICAgICAgIHZhciB1cmwsIG9wdGlvbnMsIHJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB1cmwgPSBcIi9jYXRlZ29yeXNcIjtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGNhdGVnb3J5LnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IGNhdGVnb3J5LnVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogY2F0ZWdvcnkudHlwZVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMjtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFdpdGhBY2Nlc3NUb2tlbih1cmwsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Ni5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDZbXCJjYXRjaFwiXSgyKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDYudDAubWVzc2FnZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMsIFtbMiwgOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYWRkQ2F0ZWdvcnlSZXF1ZXN0KF94NCkge1xuICAgICAgICByZXR1cm4gX2FkZENhdGVnb3J5UmVxdWVzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRkQ2F0ZWdvcnlSZXF1ZXN0O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInVwZENhdGVnb3J5UmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VwZENhdGVnb3J5UmVxdWVzdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KGNhdGVnb3J5KSB7XG4gICAgICAgIHZhciB1cmwsIG9wdGlvbnMsIHJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB1cmwgPSBcIi9jYXRlZ29yeXNcIjtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2F0ZWdvcnkpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDI7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RXaXRoQWNjZXNzVG9rZW4odXJsLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDcuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdChcInJldHVyblwiLCByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3W1wiY2F0Y2hcIl0oMik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQ3LnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU3LCB0aGlzLCBbWzIsIDldXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZENhdGVnb3J5UmVxdWVzdChfeDUpIHtcbiAgICAgICAgcmV0dXJuIF91cGRDYXRlZ29yeVJlcXVlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZENhdGVnb3J5UmVxdWVzdDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJ1cGRMaXN0SXRlbVJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91cGRMaXN0SXRlbVJlcXVlc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOChsaXN0SXRlbSkge1xuICAgICAgICB2YXIgdXJsLCBvcHRpb25zLCByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdXJsID0gXCIvbGlzdHNcIjtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobGlzdEl0ZW0pXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDI7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RXaXRoQWNjZXNzVG9rZW4odXJsLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDguc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdChcInJldHVyblwiLCByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4LnQwID0gX2NvbnRleHQ4W1wiY2F0Y2hcIl0oMik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQ4LnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4LCB0aGlzLCBbWzIsIDldXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZExpc3RJdGVtUmVxdWVzdChfeDYpIHtcbiAgICAgICAgcmV0dXJuIF91cGRMaXN0SXRlbVJlcXVlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZExpc3RJdGVtUmVxdWVzdDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJkZWxMaXN0SXRlbVJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZWxMaXN0SXRlbVJlcXVlc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOShsaXN0SXRlbSkge1xuICAgICAgICB2YXIgdXJsLCBvcHRpb25zLCByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdXJsID0gXCIvbGlzdHNcIjtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobGlzdEl0ZW0pXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDI7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RXaXRoQWNjZXNzVG9rZW4odXJsLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDkuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdChcInJldHVyblwiLCByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5W1wiY2F0Y2hcIl0oMik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQ5LnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU5LCB0aGlzLCBbWzIsIDldXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlbExpc3RJdGVtUmVxdWVzdChfeDcpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxMaXN0SXRlbVJlcXVlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbExpc3RJdGVtUmVxdWVzdDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJkZWxDYXRlZ29yeVJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZWxDYXRlZ29yeVJlcXVlc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoY2F0ZWdvcnkpIHtcbiAgICAgICAgdmFyIHVybCwgb3B0aW9ucywgcmVzcG9uc2U7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB1cmwgPSBcIi9jYXRlZ29yeXNcIjtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2F0ZWdvcnkpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSAyO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFdpdGhBY2Nlc3NUb2tlbih1cmwsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MTAuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnQwID0gX2NvbnRleHQxMFtcImNhdGNoXCJdKDIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0MTAudDAubWVzc2FnZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMCwgdGhpcywgW1syLCA5XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxDYXRlZ29yeVJlcXVlc3QoX3g4KSB7XG4gICAgICAgIHJldHVybiBfZGVsQ2F0ZWdvcnlSZXF1ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxDYXRlZ29yeVJlcXVlc3Q7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QWxsQ2F0ZWdvcnlzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0QWxsQ2F0ZWdvcnlzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKHVzZXJJZCkge1xuICAgICAgICB2YXIgdXJsLCBvcHRpb25zLCByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHVybCA9IFwiL2NhdGVnb3J5cz91c2VySWQ9XCIuY29uY2F0KHVzZXJJZCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMS5wcmV2ID0gMjtcbiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RXaXRoQWNjZXNzVG9rZW4odXJsLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDExLnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTEucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMS50MCA9IF9jb250ZXh0MTFbXCJjYXRjaFwiXSgyKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDExLnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTEsIHRoaXMsIFtbMiwgOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0QWxsQ2F0ZWdvcnlzKF94OSkge1xuICAgICAgICByZXR1cm4gX2dldEFsbENhdGVnb3J5cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0QWxsQ2F0ZWdvcnlzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImdldEFsbExpc3RzV2l0aENhdGVnb3J5c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldEFsbExpc3RzV2l0aENhdGVnb3J5cyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMihfcmVmKSB7XG4gICAgICAgIHZhciB1c2VySWQsIGRhdGVNaW4sIGRhdGVNYXgsIHVybCwgb3B0aW9ucywgcmVzcG9uc2U7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB1c2VySWQgPSBfcmVmLnVzZXJJZCwgZGF0ZU1pbiA9IF9yZWYuZGF0ZU1pbiwgZGF0ZU1heCA9IF9yZWYuZGF0ZU1heDtcbiAgICAgICAgICAgICAgICB1cmwgPSBcIi9saXN0cz91c2VySWQ9XCIuY29uY2F0KHVzZXJJZCwgXCImZGF0ZU1pbj1cIikuY29uY2F0KGRhdGVNaW4sIFwiJmRhdGVNYXg9XCIpLmNvbmNhdChkYXRlTWF4KTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAzO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFdpdGhBY2Nlc3NUb2tlbih1cmwsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MTIuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTIucHJldiA9IDEwO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTIudDAgPSBfY29udGV4dDEyW1wiY2F0Y2hcIl0oMyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQxMi50MC5tZXNzYWdlKTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEyLCB0aGlzLCBbWzMsIDEwXV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXMoX3gxMCkge1xuICAgICAgICByZXR1cm4gX2dldEFsbExpc3RzV2l0aENhdGVnb3J5cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0QWxsTGlzdHNXaXRoQ2F0ZWdvcnlzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImFkZExpc3RJdGVtUmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2FkZExpc3RJdGVtUmVxdWVzdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMyhsaXN0SXRlbSkge1xuICAgICAgICB2YXIgdXJsLCBvcHRpb25zLCByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHVybCA9IFwiL2xpc3RzXCI7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShsaXN0SXRlbSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTMucHJldiA9IDI7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0V2l0aEFjY2Vzc1Rva2VuKHVybCwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxMy5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLmFicnVwdChcInJldHVyblwiLCByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSA5O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTMudDAgPSBfY29udGV4dDEzW1wiY2F0Y2hcIl0oMik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQxMy50MC5tZXNzYWdlKTtcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEzLCB0aGlzLCBbWzIsIDldXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGFkZExpc3RJdGVtUmVxdWVzdChfeDExKSB7XG4gICAgICAgIHJldHVybiBfYWRkTGlzdEl0ZW1SZXF1ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGRMaXN0SXRlbVJlcXVlc3Q7XG4gICAgfSgpXG4gIH1dKTtcblxuICByZXR1cm4gQXBpO1xufSgpO1xuXG5leHBvcnQgeyBBcGkgYXMgZGVmYXVsdCB9OyIsImltcG9ydCB7IG5vcm1hbGl6ZSwgc2NoZW1hIH0gZnJvbSAnbm9ybWFsaXpyJztcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVMaXN0cyhkYXRhKSB7XG4gIHZhciBjYXRlZ29yeSA9IG5ldyBzY2hlbWEuRW50aXR5KCdjYXRlZ29yeXMnLCB7XG4gICAgbGlzdDogW25ldyBzY2hlbWEuRW50aXR5KCdsaXN0JyldXG4gIH0pO1xuICB2YXIgbGlzdHNTY2hlbWEgPSB7XG4gICAgY2F0ZWdvcnlzOiBbY2F0ZWdvcnldXG4gIH07XG4gIHJldHVybiBub3JtYWxpemUoZGF0YSwgbGlzdHNTY2hlbWEpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUNhdGVnb3J5cyhkYXRhKSB7XG4gIHZhciBjYXRlZ29yeSA9IG5ldyBzY2hlbWEuRW50aXR5KCdjYXRlZ29yeXMnKTtcbiAgdmFyIGNhdGVnb3J5U2NoZW1hID0ge1xuICAgIGNhdGVnb3J5czogW2NhdGVnb3J5XVxuICB9O1xuICByZXR1cm4gbm9ybWFsaXplKGRhdGEsIGNhdGVnb3J5U2NoZW1hKTtcbn0iLCJleHBvcnQgdmFyIGxvZ2luUmVxdWVzdEFjdGlvbiA9IGZ1bmN0aW9uIGxvZ2luUmVxdWVzdEFjdGlvbihkYXRhKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJMT0dJTl9SRVFVRVNUXCIsXG4gICAgcGF5bG9hZDogZGF0YVxuICB9O1xufTtcbmV4cG9ydCB2YXIgbG9naW5Vc2VyQWN0aW9uID0gZnVuY3Rpb24gbG9naW5Vc2VyQWN0aW9uKHVzZXIpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkxPR0lOX1NUT1JFXCIsXG4gICAgcGF5bG9hZDogdXNlclxuICB9O1xufTtcbmV4cG9ydCB2YXIgbG9nb3V0VXNlckFjdGlvbiA9IGZ1bmN0aW9uIGxvZ291dFVzZXJBY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJMT0dPVVRfU1RPUkVcIixcbiAgICBwYXlsb2FkOiB7fVxuICB9O1xufTtcbmV4cG9ydCB2YXIgbG9naW5FcnJvckFjdGlvbiA9IGZ1bmN0aW9uIGxvZ2luRXJyb3JBY3Rpb24oZXJyb3IpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkxPR0lOX0VSUk9SX1NUT1JFXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgYXV0aFJlcXVlc3RBY3Rpb24gPSBmdW5jdGlvbiBhdXRoUmVxdWVzdEFjdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkFVVEhfUkVRVUVTVFwiLFxuICAgIHBheWxvYWQ6IHt9XG4gIH07XG59O1xuZXhwb3J0IHZhciBsb2dvdXRBY3Rpb24gPSBmdW5jdGlvbiBsb2dvdXRBY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJMT0dPVVRfUkVRVUVTVFwiLFxuICAgIHBheWxvYWQ6IHt9XG4gIH07XG59O1xuZXhwb3J0IHZhciByZWZyZXNoVG9rZW5zQWN0aW9uID0gZnVuY3Rpb24gcmVmcmVzaFRva2Vuc0FjdGlvbihuZXh0QWN0aW9uKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJSRUZSRVNIX1RPS0VOU19SRVFVRVNUXCIsXG4gICAgcGF5bG9hZDogbmV4dEFjdGlvblxuICB9O1xufTtcbmV4cG9ydCB2YXIgdG9nZ2xlQ2F0ZWdvcnlBY3Rpb24gPSBmdW5jdGlvbiB0b2dnbGVDYXRlZ29yeUFjdGlvbihjYXRlZ29yeVR5cGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIlRPR0dMRV9DQVRFR09SWVNfVFlQRV9TVE9SRVwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGNhdGVnb3J5VHlwZTogY2F0ZWdvcnlUeXBlXG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgYWRkQ2F0ZWdvcnlBY3Rpb24gPSBmdW5jdGlvbiBhZGRDYXRlZ29yeUFjdGlvbihjYXRlZ29yeSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiQUREX0NBVEVHT1JZX1JFUVVFU1RcIixcbiAgICBwYXlsb2FkOiBjYXRlZ29yeVxuICB9O1xufTtcbmV4cG9ydCB2YXIgdXBkQ2F0ZWdvcnlBY3Rpb24gPSBmdW5jdGlvbiB1cGRDYXRlZ29yeUFjdGlvbihjYXRlZ29yeSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiVVBEX09ORV9DQVRFR09SWV9SRVFVRVNUXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5XG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgZGVsQ2F0ZWdvcnlBY3Rpb24gPSBmdW5jdGlvbiBkZWxDYXRlZ29yeUFjdGlvbihjYXRlZ29yeSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiREVMX09ORV9DQVRFR09SWV9SRVFVRVNUXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5XG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgZ2V0QWxsQ2F0ZWdvcnlzQWN0aW9uID0gZnVuY3Rpb24gZ2V0QWxsQ2F0ZWdvcnlzQWN0aW9uKHVzZXJJZCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiR0VUX0NBVEVHT1JZU19SRVFVRVNUXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgdXNlcklkOiB1c2VySWRcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IHZhciBnZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXNBY3Rpb24gPSBmdW5jdGlvbiBnZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXNBY3Rpb24ob2JqKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJHRVRfTElTVFNfUkVRVUVTVFwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIHVzZXJJZEFuZERhdGVSYW5nZTogb2JqXG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgdXBkRGF0YUluU3RvcmVBY3Rpb24gPSBmdW5jdGlvbiB1cGREYXRhSW5TdG9yZUFjdGlvbihjYXRlZ29yeXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIlVQRF9EQVRBX1NUT1JFXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgY2F0ZWdvcnlzOiBjYXRlZ29yeXNcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IHZhciBhZGRDYXRlZ29yeUluU3RvcmVBY3Rpb24gPSBmdW5jdGlvbiBhZGRDYXRlZ29yeUluU3RvcmVBY3Rpb24oY2F0ZWdvcnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkFERF9ORVdfQ0FURUdPUllfU1RPUkVcIixcbiAgICBwYXlsb2FkOiB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnlcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IHZhciB1cGRPbmVDYXRlZ29yeUluU3RvcmVBY3Rpb24gPSBmdW5jdGlvbiB1cGRPbmVDYXRlZ29yeUluU3RvcmVBY3Rpb24oY2F0ZWdvcnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIlVQRF9PTkVfQ0FURUdPUllfU1RPUkVcIixcbiAgICBwYXlsb2FkOiB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnlcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IHZhciB1cGRPbmVMaXN0SXRlbUluU3RvcmVBY3Rpb24gPSBmdW5jdGlvbiB1cGRPbmVMaXN0SXRlbUluU3RvcmVBY3Rpb24obGlzdEl0ZW0pIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIlVQRF9PTkVfTElTVF9JVEVNX1NUT1JFXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgbGlzdEl0ZW06IGxpc3RJdGVtXG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgZGVsT25lQ2F0ZWdvcnlJblN0b3JlQWN0aW9uID0gZnVuY3Rpb24gZGVsT25lQ2F0ZWdvcnlJblN0b3JlQWN0aW9uKGNhdGVnb3J5KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJERUxfT05FX0NBVEVHT1JZX1NUT1JFXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5XG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgZGVsT25lTGlzdEl0ZW1JblN0b3JlQWN0aW9uID0gZnVuY3Rpb24gZGVsT25lTGlzdEl0ZW1JblN0b3JlQWN0aW9uKGxpc3RJdGVtKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJERUxfT05FX0xJU1RfSVRFTV9TVE9SRVwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGxpc3RJdGVtOiBsaXN0SXRlbVxuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgdmFyIGFkZExpc3RJdGVtQWN0aW9uID0gZnVuY3Rpb24gYWRkTGlzdEl0ZW1BY3Rpb24obGlzdEl0ZW0pIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkFERF9MSVNUX0lURU1fUkVRVUVTVFwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGxpc3RJdGVtOiBsaXN0SXRlbVxuICAgIH1cbiAgfTtcbn07XG5leHBvcnQgdmFyIHVwZExpc3RJdGVtQWN0aW9uID0gZnVuY3Rpb24gdXBkTGlzdEl0ZW1BY3Rpb24obGlzdEl0ZW0pIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIlVQRF9PTkVfTElTVF9JVEVNX1JFUVVFU1RcIixcbiAgICBwYXlsb2FkOiB7XG4gICAgICBsaXN0SXRlbTogbGlzdEl0ZW1cbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IHZhciBkZWxMaXN0SXRlbUFjdGlvbiA9IGZ1bmN0aW9uIGRlbExpc3RJdGVtQWN0aW9uKGxpc3RJdGVtKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJERUxfT05FX0xJU1RfSVRFTV9SRVFVRVNUXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgbGlzdEl0ZW06IGxpc3RJdGVtXG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgYWRkTGlzdEl0ZW1JblN0b3JlQWN0aW9uID0gZnVuY3Rpb24gYWRkTGlzdEl0ZW1JblN0b3JlQWN0aW9uKGxpc3RJdGVtKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJBRERfTkVXX0xJU1RfSVRFTV9TVE9SRVwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGxpc3RJdGVtOiBsaXN0SXRlbVxuICAgIH1cbiAgfTtcbn07IiwiaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSBcIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yXCI7XG5cbnZhciBfbWFya2VkID0gLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmZXRjaExvZ2luKSxcbiAgICBfbWFya2VkMiA9IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZmV0Y2hBdXRoKSxcbiAgICBfbWFya2VkMyA9IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZmV0Y2hMb2dvdXQpLFxuICAgIF9tYXJrZWQ0ID0gLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmZXRjaFJlZnJlc2hUb2tlbnMpLFxuICAgIF9tYXJrZWQ1ID0gLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmZXRjaEFkZENhdGVnb3J5KSxcbiAgICBfbWFya2VkNiA9IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZmV0Y2hBbGxDYXRlZ29yeXMpLFxuICAgIF9tYXJrZWQ3ID0gLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmZXRjaFVwZGF0ZUNhdGVnb3J5KSxcbiAgICBfbWFya2VkOCA9IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZmV0Y2hEZWxldGVDYXRlZ29yeSksXG4gICAgX21hcmtlZDkgPSAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZldGNoQWxsTGlzdHNXaXRoQ2F0ZWdvcnlzKSxcbiAgICBfbWFya2VkMTAgPSAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZldGNoQWRkTGlzdEl0ZW0pLFxuICAgIF9tYXJrZWQxMSA9IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZmV0Y2hVcGRhdGVMaXN0SXRlbSksXG4gICAgX21hcmtlZDEyID0gLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmZXRjaERlbGV0ZUxpc3RJdGVtKSxcbiAgICBfbWFya2VkMTMgPSAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKHNhZ2FzKTtcblxuaW1wb3J0IHsgY2FsbCwgcHV0LCB0YWtlRXZlcnkgfSBmcm9tICdyZWR1eC1zYWdhL2VmZmVjdHMnO1xuaW1wb3J0IEFwaSBmcm9tICcuLi9hcGknO1xuaW1wb3J0IHsgc2F2ZVRva2Vuc1RvU3RvcmFnZSwgY2xlYXJUb2tlbnNGcm9tU3RvcmFnZSB9IGZyb20gJy4uL3V0aWxzL3Rva2Vucyc7XG5pbXBvcnQgeyBub3JtYWxpemVMaXN0cywgbm9ybWFsaXplQ2F0ZWdvcnlzIH0gZnJvbSBcIi4uL3V0aWxzL25vcm1hbGl6ZVwiO1xuaW1wb3J0IHsgdXBkRGF0YUluU3RvcmVBY3Rpb24sIHVwZE9uZUNhdGVnb3J5SW5TdG9yZUFjdGlvbiwgYWRkQ2F0ZWdvcnlJblN0b3JlQWN0aW9uLCBsb2dpblVzZXJBY3Rpb24sIGxvZ291dFVzZXJBY3Rpb24sIGxvZ2luRXJyb3JBY3Rpb24sIHJlZnJlc2hUb2tlbnNBY3Rpb24sIGF1dGhSZXF1ZXN0QWN0aW9uLCBhZGRMaXN0SXRlbUluU3RvcmVBY3Rpb24sIGRlbE9uZUNhdGVnb3J5SW5TdG9yZUFjdGlvbiwgdXBkT25lTGlzdEl0ZW1JblN0b3JlQWN0aW9uLCBkZWxPbmVMaXN0SXRlbUluU3RvcmVBY3Rpb24gfSBmcm9tICcuLi9zdG9yZS9hY3Rpb25zJztcbnZhciBhcGkgPSBuZXcgQXBpKCk7XG5cbmZ1bmN0aW9uIGZldGNoTG9naW4oYWN0aW9uKSB7XG4gIHZhciB1c2VyO1xuICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGZldGNoTG9naW4kKF9jb250ZXh0KSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwO1xuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzO1xuICAgICAgICAgIHJldHVybiBjYWxsKGFwaS5sb2dpblJlcXVlc3QsIGFjdGlvbi5wYXlsb2FkKTtcblxuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgdXNlciA9IF9jb250ZXh0LnNlbnQ7XG5cbiAgICAgICAgICBpZiAodXNlci5lcnJvcikge1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCF1c2VyLnRva2Vucykge1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODtcbiAgICAgICAgICByZXR1cm4gY2FsbChzYXZlVG9rZW5zVG9TdG9yYWdlLCB1c2VyLnRva2Vucyk7XG5cbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDtcbiAgICAgICAgICByZXR1cm4gcHV0KGxvZ2luVXNlckFjdGlvbih1c2VyKSk7XG5cbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7XG4gICAgICAgICAgcmV0dXJuIHB1dChsb2dpbkVycm9yQWN0aW9uKHVzZXIuZXJyb3IpKTtcblxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNjtcbiAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oMCk7XG4gICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDAubWVzc2FnZSk7XG5cbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBfbWFya2VkLCBudWxsLCBbWzAsIDE2XV0pO1xufVxuXG5mdW5jdGlvbiBmZXRjaEF1dGgoKSB7XG4gIHZhciB1c2VyO1xuICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGZldGNoQXV0aCQoX2NvbnRleHQyKSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwO1xuICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMztcbiAgICAgICAgICByZXR1cm4gY2FsbChhcGkuZ2V0QXV0aERhdGFCeVNlc3Npb24pO1xuXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICB1c2VyID0gX2NvbnRleHQyLnNlbnQ7XG5cbiAgICAgICAgICBpZiAodXNlci5lcnJvcikge1xuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3O1xuICAgICAgICAgIHJldHVybiBwdXQobG9naW5Vc2VyQWN0aW9uKHVzZXIpKTtcblxuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgaWYgKCEodXNlci5lcnJvci5jb2RlID09PSAnbDAzJykpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyO1xuICAgICAgICAgIHJldHVybiBwdXQocmVmcmVzaFRva2Vuc0FjdGlvbihhdXRoUmVxdWVzdEFjdGlvbigpKSk7XG5cbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE2O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjtcbiAgICAgICAgICByZXR1cm4gcHV0KGxvZ2luVXNlckFjdGlvbih7XG4gICAgICAgICAgICB1c2VyTmFtZTogbnVsbCxcbiAgICAgICAgICAgIGlzTG9naW46IGZhbHNlXG4gICAgICAgICAgfSkpO1xuXG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTg7XG4gICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyW1wiY2F0Y2hcIl0oMCk7XG4gICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwLm1lc3NhZ2UpO1xuXG4gICAgICAgIGNhc2UgMjE6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIF9tYXJrZWQyLCBudWxsLCBbWzAsIDE4XV0pO1xufVxuXG5mdW5jdGlvbiBmZXRjaExvZ291dCgpIHtcbiAgdmFyIHJlc3BvbnNlO1xuICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGZldGNoTG9nb3V0JChfY29udGV4dDMpIHtcbiAgICB3aGlsZSAoMSkge1xuICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBfY29udGV4dDMucHJldiA9IDA7XG4gICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzO1xuICAgICAgICAgIHJldHVybiBjYWxsKGFwaS5sb2dvdXRSZXF1ZXN0KTtcblxuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDtcblxuICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNztcbiAgICAgICAgICByZXR1cm4gY2FsbChjbGVhclRva2Vuc0Zyb21TdG9yYWdlKTtcblxuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5O1xuICAgICAgICAgIHJldHVybiBwdXQobG9nb3V0VXNlckFjdGlvbigpKTtcblxuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmVycm9yKTtcblxuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTc7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE0O1xuICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1tcImNhdGNoXCJdKDApO1xuICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0My50MC5tZXNzYWdlKTtcblxuICAgICAgICBjYXNlIDE3OlxuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBfbWFya2VkMywgbnVsbCwgW1swLCAxNF1dKTtcbn1cblxuZnVuY3Rpb24gZmV0Y2hSZWZyZXNoVG9rZW5zKG5leHRBY3Rpb24pIHtcbiAgdmFyIHJlc3BvbnNlO1xuICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGZldGNoUmVmcmVzaFRva2VucyQoX2NvbnRleHQ0KSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyO1xuICAgICAgICAgIHJldHVybiBjYWxsKGFwaS5yZWZyZXNoVG9rZW5zKTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDQuc2VudDtcblxuICAgICAgICAgIGlmICghcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjtcbiAgICAgICAgICByZXR1cm4gcHV0KGxvZ2luVXNlckFjdGlvbih7XG4gICAgICAgICAgICB1c2VyTmFtZTogbnVsbCxcbiAgICAgICAgICAgIGlzTG9naW46IGZhbHNlXG4gICAgICAgICAgfSkpO1xuXG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEyO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwO1xuICAgICAgICAgIHJldHVybiBjYWxsKHNhdmVUb2tlbnNUb1N0b3JhZ2UsIHJlc3BvbnNlLnRva2Vucyk7XG5cbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEyO1xuICAgICAgICAgIHJldHVybiBwdXQobmV4dEFjdGlvbi5wYXlsb2FkKTtcblxuICAgICAgICBjYXNlIDEyOlxuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBfbWFya2VkNCk7XG59XG5cbmZ1bmN0aW9uIGZldGNoQWRkQ2F0ZWdvcnkoYWN0aW9uKSB7XG4gIHZhciByZXNwb25zZTtcbiAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBmZXRjaEFkZENhdGVnb3J5JChfY29udGV4dDUpIHtcbiAgICB3aGlsZSAoMSkge1xuICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7XG4gICAgICAgICAgcmV0dXJuIGNhbGwoYXBpLmFkZENhdGVnb3J5UmVxdWVzdCwgYWN0aW9uLnBheWxvYWQpO1xuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTtcbiAgICAgICAgICByZXR1cm4gcHV0KGFkZENhdGVnb3J5SW5TdG9yZUFjdGlvbihyZXNwb25zZS5jYXRlZ29yeSkpO1xuXG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgX21hcmtlZDUpO1xufVxuXG5mdW5jdGlvbiBmZXRjaEFsbENhdGVnb3J5cyhhY3Rpb24pIHtcbiAgdmFyIHJlc3BvbnNlO1xuICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGZldGNoQWxsQ2F0ZWdvcnlzJChfY29udGV4dDYpIHtcbiAgICB3aGlsZSAoMSkge1xuICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7XG4gICAgICAgICAgcmV0dXJuIGNhbGwoYXBpLmdldEFsbENhdGVnb3J5cywgYWN0aW9uLnBheWxvYWQudXNlcklkKTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDYuc2VudDtcbiAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7XG4gICAgICAgICAgcmV0dXJuIHB1dCh1cGREYXRhSW5TdG9yZUFjdGlvbihub3JtYWxpemVDYXRlZ29yeXMocmVzcG9uc2UpKSk7XG5cbiAgICAgICAgY2FzZSA1OlxuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBfbWFya2VkNik7XG59XG5cbmZ1bmN0aW9uIGZldGNoVXBkYXRlQ2F0ZWdvcnkoYWN0aW9uKSB7XG4gIHZhciByZXNwb25zZTtcbiAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBmZXRjaFVwZGF0ZUNhdGVnb3J5JChfY29udGV4dDcpIHtcbiAgICB3aGlsZSAoMSkge1xuICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI7XG4gICAgICAgICAgcmV0dXJuIGNhbGwoYXBpLnVwZENhdGVnb3J5UmVxdWVzdCwgYWN0aW9uLnBheWxvYWQuY2F0ZWdvcnkpO1xuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Ny5zZW50O1xuICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTtcbiAgICAgICAgICByZXR1cm4gcHV0KHVwZE9uZUNhdGVnb3J5SW5TdG9yZUFjdGlvbihyZXNwb25zZS5jYXRlZ29yeSkpO1xuXG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgX21hcmtlZDcpO1xufVxuXG5mdW5jdGlvbiBmZXRjaERlbGV0ZUNhdGVnb3J5KGFjdGlvbikge1xuICB2YXIgcmVzcG9uc2U7XG4gIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZmV0Y2hEZWxldGVDYXRlZ29yeSQoX2NvbnRleHQ4KSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyO1xuICAgICAgICAgIHJldHVybiBjYWxsKGFwaS5kZWxDYXRlZ29yeVJlcXVlc3QsIGFjdGlvbi5wYXlsb2FkLmNhdGVnb3J5KTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDguc2VudDtcbiAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDU7XG4gICAgICAgICAgcmV0dXJuIHB1dChkZWxPbmVDYXRlZ29yeUluU3RvcmVBY3Rpb24ocmVzcG9uc2UuY2F0ZWdvcnkpKTtcblxuICAgICAgICBjYXNlIDU6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIF9tYXJrZWQ4KTtcbn1cblxuZnVuY3Rpb24gZmV0Y2hBbGxMaXN0c1dpdGhDYXRlZ29yeXMoYWN0aW9uKSB7XG4gIHZhciByZXNwb25zZSwgZGF0YTtcbiAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBmZXRjaEFsbExpc3RzV2l0aENhdGVnb3J5cyQoX2NvbnRleHQ5KSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyO1xuICAgICAgICAgIHJldHVybiBjYWxsKGFwaS5nZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXMsIGFjdGlvbi5wYXlsb2FkLnVzZXJJZEFuZERhdGVSYW5nZSk7XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ5LnNlbnQ7XG4gICAgICAgICAgZGF0YSA9IG5vcm1hbGl6ZUxpc3RzKHJlc3BvbnNlKTtcbiAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDY7XG4gICAgICAgICAgcmV0dXJuIHB1dCh1cGREYXRhSW5TdG9yZUFjdGlvbihkYXRhKSk7XG5cbiAgICAgICAgY2FzZSA2OlxuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBfbWFya2VkOSk7XG59XG5cbmZ1bmN0aW9uIGZldGNoQWRkTGlzdEl0ZW0oYWN0aW9uKSB7XG4gIHZhciByZXNwb25zZTtcbiAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBmZXRjaEFkZExpc3RJdGVtJChfY29udGV4dDEwKSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAyO1xuICAgICAgICAgIHJldHVybiBjYWxsKGFwaS5hZGRMaXN0SXRlbVJlcXVlc3QsIGFjdGlvbi5wYXlsb2FkLmxpc3RJdGVtKTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDEwLnNlbnQ7XG4gICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNTtcbiAgICAgICAgICByZXR1cm4gcHV0KGFkZExpc3RJdGVtSW5TdG9yZUFjdGlvbihyZXNwb25zZS5saXN0SXRlbSkpO1xuXG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIF9tYXJrZWQxMCk7XG59XG5cbmZ1bmN0aW9uIGZldGNoVXBkYXRlTGlzdEl0ZW0oYWN0aW9uKSB7XG4gIHZhciByZXNwb25zZTtcbiAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBmZXRjaFVwZGF0ZUxpc3RJdGVtJChfY29udGV4dDExKSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyO1xuICAgICAgICAgIHJldHVybiBjYWxsKGFwaS51cGRMaXN0SXRlbVJlcXVlc3QsIGFjdGlvbi5wYXlsb2FkLmxpc3RJdGVtKTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDExLnNlbnQ7XG4gICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNTtcbiAgICAgICAgICByZXR1cm4gcHV0KHVwZE9uZUxpc3RJdGVtSW5TdG9yZUFjdGlvbihyZXNwb25zZS5saXN0SXRlbSkpO1xuXG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIF9tYXJrZWQxMSk7XG59XG5cbmZ1bmN0aW9uIGZldGNoRGVsZXRlTGlzdEl0ZW0oYWN0aW9uKSB7XG4gIHZhciByZXNwb25zZTtcbiAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBmZXRjaERlbGV0ZUxpc3RJdGVtJChfY29udGV4dDEyKSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAyO1xuICAgICAgICAgIHJldHVybiBjYWxsKGFwaS5kZWxMaXN0SXRlbVJlcXVlc3QsIGFjdGlvbi5wYXlsb2FkLmxpc3RJdGVtKTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDEyLnNlbnQ7XG4gICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNTtcbiAgICAgICAgICByZXR1cm4gcHV0KGRlbE9uZUxpc3RJdGVtSW5TdG9yZUFjdGlvbihyZXNwb25zZS5saXN0SXRlbSkpO1xuXG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIF9tYXJrZWQxMik7XG59XG5cbmZ1bmN0aW9uIHNhZ2FzKCkge1xuICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHNhZ2FzJChfY29udGV4dDEzKSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyO1xuICAgICAgICAgIHJldHVybiB0YWtlRXZlcnkoXCJMT0dJTl9SRVFVRVNUXCIsIGZldGNoTG9naW4pO1xuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA0O1xuICAgICAgICAgIHJldHVybiB0YWtlRXZlcnkoXCJBVVRIX1JFUVVFU1RcIiwgZmV0Y2hBdXRoKTtcblxuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNjtcbiAgICAgICAgICByZXR1cm4gdGFrZUV2ZXJ5KFwiUkVGUkVTSF9UT0tFTlNfUkVRVUVTVFwiLCBmZXRjaFJlZnJlc2hUb2tlbnMpO1xuXG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA4O1xuICAgICAgICAgIHJldHVybiB0YWtlRXZlcnkoXCJMT0dPVVRfUkVRVUVTVFwiLCBmZXRjaExvZ291dCk7XG5cbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDEwO1xuICAgICAgICAgIHJldHVybiB0YWtlRXZlcnkoXCJBRERfQ0FURUdPUllfUkVRVUVTVFwiLCBmZXRjaEFkZENhdGVnb3J5KTtcblxuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDEyO1xuICAgICAgICAgIHJldHVybiB0YWtlRXZlcnkoXCJHRVRfQ0FURUdPUllTX1JFUVVFU1RcIiwgZmV0Y2hBbGxDYXRlZ29yeXMpO1xuXG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTQ7XG4gICAgICAgICAgcmV0dXJuIHRha2VFdmVyeShcIlVQRF9PTkVfQ0FURUdPUllfUkVRVUVTVFwiLCBmZXRjaFVwZGF0ZUNhdGVnb3J5KTtcblxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE2O1xuICAgICAgICAgIHJldHVybiB0YWtlRXZlcnkoXCJHRVRfTElTVFNfUkVRVUVTVFwiLCBmZXRjaEFsbExpc3RzV2l0aENhdGVnb3J5cyk7XG5cbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxODtcbiAgICAgICAgICByZXR1cm4gdGFrZUV2ZXJ5KFwiQUREX0xJU1RfSVRFTV9SRVFVRVNUXCIsIGZldGNoQWRkTGlzdEl0ZW0pO1xuXG4gICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjA7XG4gICAgICAgICAgcmV0dXJuIHRha2VFdmVyeShcIkRFTF9PTkVfQ0FURUdPUllfUkVRVUVTVFwiLCBmZXRjaERlbGV0ZUNhdGVnb3J5KTtcblxuICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDIyO1xuICAgICAgICAgIHJldHVybiB0YWtlRXZlcnkoXCJVUERfT05FX0xJU1RfSVRFTV9SRVFVRVNUXCIsIGZldGNoVXBkYXRlTGlzdEl0ZW0pO1xuXG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjQ7XG4gICAgICAgICAgcmV0dXJuIHRha2VFdmVyeShcIkRFTF9PTkVfTElTVF9JVEVNX1JFUVVFU1RcIiwgZmV0Y2hEZWxldGVMaXN0SXRlbSk7XG5cbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIF9tYXJrZWQxMyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNhZ2FzOyIsImltcG9ydCB7IGluaXRpYWxTdGF0ZSB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgY2xvbmUgfSBmcm9tICdyYW1kYSc7XG5leHBvcnQgZnVuY3Rpb24gcmV0dXJuU3RhdGVSZWR1Y2VyKCkge1xuICB2YXIgcHJldlN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBpbml0aWFsU3RhdGU7XG4gIHJldHVybiBwcmV2U3RhdGU7XG59XG5leHBvcnQgZnVuY3Rpb24gdXNlclJlZHVjZXIoKSB7XG4gIHZhciBwcmV2U3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGluaXRpYWxTdGF0ZTtcbiAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFwiTE9HSU5fU1RPUkVcIjpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogYWN0aW9uLnBheWxvYWQuaWQsXG4gICAgICAgICAgbmFtZTogYWN0aW9uLnBheWxvYWQudXNlck5hbWUsXG4gICAgICAgICAgaXNMb2dpbjogYWN0aW9uLnBheWxvYWQuaXNMb2dpblxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgY2FzZSBcIkxPR09VVF9TVE9SRVwiOlxuICAgICAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBudWxsLFxuICAgICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgICAgaXNMb2dpbjogZmFsc2UsXG4gICAgICAgICAgbG9naW5FcnJvck1lczogbnVsbFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgY2FzZSBcIkxPR0lOX0VSUk9SX1NUT1JFXCI6XG4gICAgICB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbG9naW5FcnJvck1lczogYWN0aW9uLnBheWxvYWQuZXJyb3IubWVzXG4gICAgICAgIH07XG4gICAgICB9XG4gIH1cblxuICByZXR1cm4gcHJldlN0YXRlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvb2dsZUNhdGVnb3J5UmVkdWNlcigpIHtcbiAgdmFyIHByZXZTdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogaW5pdGlhbFN0YXRlO1xuICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgXCJUT0dHTEVfQ0FURUdPUllTX1RZUEVfU1RPUkVcIjpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5wYXlsb2FkLmNhdGVnb3J5VHlwZTtcbiAgICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcmV2U3RhdGU7XG59XG5leHBvcnQgZnVuY3Rpb24gZGF0YVJlZHVjZXIoKSB7XG4gIHZhciBwcmV2U3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGluaXRpYWxTdGF0ZTtcbiAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFwiVVBEX0RBVEFfU1RPUkVcIjpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5wYXlsb2FkLmNhdGVnb3J5cztcbiAgICAgIH1cblxuICAgIGNhc2UgXCJBRERfTkVXX0NBVEVHT1JZX1NUT1JFXCI6XG4gICAgICB7XG4gICAgICAgIHZhciBkYXRhID0gY2xvbmUocHJldlN0YXRlKTtcbiAgICAgICAgaWYgKCFkYXRhLmVudGl0aWVzLmNhdGVnb3J5cykgZGF0YS5lbnRpdGllcy5jYXRlZ29yeXMgPSB7fTtcbiAgICAgICAgZGF0YS5lbnRpdGllcy5jYXRlZ29yeXNbYWN0aW9uLnBheWxvYWQuY2F0ZWdvcnkuaWRdID0gYWN0aW9uLnBheWxvYWQuY2F0ZWdvcnk7XG4gICAgICAgIGRhdGEucmVzdWx0LmNhdGVnb3J5cy5wdXNoKGFjdGlvbi5wYXlsb2FkLmNhdGVnb3J5LmlkKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG5cbiAgICBjYXNlIFwiQUREX05FV19MSVNUX0lURU1fU1RPUkVcIjpcbiAgICAgIHtcbiAgICAgICAgdmFyIF9kYXRhID0gY2xvbmUocHJldlN0YXRlKTtcblxuICAgICAgICBpZiAoIV9kYXRhLmVudGl0aWVzLmxpc3QpIF9kYXRhLmVudGl0aWVzLmxpc3QgPSB7fTtcbiAgICAgICAgX2RhdGEuZW50aXRpZXMubGlzdFthY3Rpb24ucGF5bG9hZC5saXN0SXRlbS5pZF0gPSBhY3Rpb24ucGF5bG9hZC5saXN0SXRlbTtcblxuICAgICAgICBfZGF0YS5lbnRpdGllcy5jYXRlZ29yeXNbYWN0aW9uLnBheWxvYWQubGlzdEl0ZW0uY2F0ZWdvcnlJZF0ubGlzdC51bnNoaWZ0KGFjdGlvbi5wYXlsb2FkLmxpc3RJdGVtLmlkKTtcblxuICAgICAgICBfZGF0YS5lbnRpdGllcy5jYXRlZ29yeXNbYWN0aW9uLnBheWxvYWQubGlzdEl0ZW0uY2F0ZWdvcnlJZF0udG90YWxTdW0gKz0gYWN0aW9uLnBheWxvYWQubGlzdEl0ZW0uc3VtO1xuICAgICAgICByZXR1cm4gX2RhdGE7XG4gICAgICB9XG5cbiAgICBjYXNlIFwiVVBEX09ORV9DQVRFR09SWV9TVE9SRVwiOlxuICAgICAge1xuICAgICAgICB2YXIgX2RhdGEyID0gY2xvbmUocHJldlN0YXRlKTtcblxuICAgICAgICBfZGF0YTIuZW50aXRpZXMuY2F0ZWdvcnlzW2FjdGlvbi5wYXlsb2FkLmNhdGVnb3J5LmlkXSA9IGFjdGlvbi5wYXlsb2FkLmNhdGVnb3J5O1xuICAgICAgICByZXR1cm4gX2RhdGEyO1xuICAgICAgfVxuXG4gICAgY2FzZSBcIlVQRF9PTkVfTElTVF9JVEVNX1NUT1JFXCI6XG4gICAgICB7XG4gICAgICAgIHZhciBfZGF0YTMgPSBjbG9uZShwcmV2U3RhdGUpO1xuXG4gICAgICAgIHZhciBsaXN0SXRlbSA9IGFjdGlvbi5wYXlsb2FkLmxpc3RJdGVtO1xuICAgICAgICB2YXIgcHJldlN1bSA9IHByZXZTdGF0ZS5lbnRpdGllcy5saXN0W2xpc3RJdGVtLmlkXS5zdW07XG4gICAgICAgIF9kYXRhMy5lbnRpdGllcy5saXN0W2xpc3RJdGVtLmlkXSA9IGxpc3RJdGVtO1xuICAgICAgICBfZGF0YTMuZW50aXRpZXMuY2F0ZWdvcnlzW2xpc3RJdGVtLmNhdGVnb3J5SWRdLnRvdGFsU3VtIC09IHByZXZTdW07XG4gICAgICAgIF9kYXRhMy5lbnRpdGllcy5jYXRlZ29yeXNbbGlzdEl0ZW0uY2F0ZWdvcnlJZF0udG90YWxTdW0gKz0gbGlzdEl0ZW0uc3VtO1xuICAgICAgICByZXR1cm4gX2RhdGEzO1xuICAgICAgfVxuXG4gICAgY2FzZSBcIkRFTF9PTkVfQ0FURUdPUllfU1RPUkVcIjpcbiAgICAgIHtcbiAgICAgICAgdmFyIF9kYXRhNCA9IGNsb25lKHByZXZTdGF0ZSk7XG5cbiAgICAgICAgZGVsZXRlIF9kYXRhNC5lbnRpdGllcy5jYXRlZ29yeXNbYWN0aW9uLnBheWxvYWQuY2F0ZWdvcnkuaWRdO1xuICAgICAgICBfZGF0YTQucmVzdWx0LmNhdGVnb3J5cyA9IF9kYXRhNC5yZXN1bHQuY2F0ZWdvcnlzLmZpbHRlcihmdW5jdGlvbiAoY2F0ZWdvcnlJZCkge1xuICAgICAgICAgIHJldHVybiBjYXRlZ29yeUlkICE9PSBhY3Rpb24ucGF5bG9hZC5jYXRlZ29yeS5pZDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfZGF0YTQ7XG4gICAgICB9XG5cbiAgICBjYXNlIFwiREVMX09ORV9MSVNUX0lURU1fU1RPUkVcIjpcbiAgICAgIHtcbiAgICAgICAgdmFyIF9kYXRhNSA9IGNsb25lKHByZXZTdGF0ZSk7XG5cbiAgICAgICAgdmFyIF9saXN0SXRlbSA9IGFjdGlvbi5wYXlsb2FkLmxpc3RJdGVtO1xuXG4gICAgICAgIHZhciBuZXdMaXN0QXJyID0gX2RhdGE1LmVudGl0aWVzLmNhdGVnb3J5c1tfbGlzdEl0ZW0uY2F0ZWdvcnlJZF0ubGlzdC5maWx0ZXIoZnVuY3Rpb24gKGxpc3RJZCkge1xuICAgICAgICAgIHJldHVybiBsaXN0SWQgIT09IF9saXN0SXRlbS5pZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX2RhdGE1LmVudGl0aWVzLmNhdGVnb3J5c1tfbGlzdEl0ZW0uY2F0ZWdvcnlJZF0ubGlzdCA9IG5ld0xpc3RBcnI7XG4gICAgICAgIF9kYXRhNS5lbnRpdGllcy5jYXRlZ29yeXNbX2xpc3RJdGVtLmNhdGVnb3J5SWRdLnRvdGFsU3VtIC09IF9saXN0SXRlbS5zdW07XG4gICAgICAgIGRlbGV0ZSBfZGF0YTUuZW50aXRpZXMubGlzdFtfbGlzdEl0ZW0uaWRdO1xuICAgICAgICByZXR1cm4gX2RhdGE1O1xuICAgICAgfVxuICB9XG5cbiAgcmV0dXJuIHByZXZTdGF0ZTtcbn0iLCJpbXBvcnQgeyBjcmVhdGVTdG9yZSwgY29tYmluZVJlZHVjZXJzLCBhcHBseU1pZGRsZXdhcmUgfSBmcm9tIFwicmVkdXhcIjtcbmltcG9ydCBjcmVhdGVTYWdhTWlkZGxld2FyZSBmcm9tICdyZWR1eC1zYWdhJztcbmltcG9ydCBzYWdhcyBmcm9tICcuL3NhZ2FzJztcbmltcG9ydCB7IHJldHVyblN0YXRlUmVkdWNlciwgdG9vZ2xlQ2F0ZWdvcnlSZWR1Y2VyLCB1c2VyUmVkdWNlciwgZGF0YVJlZHVjZXIgfSBmcm9tIFwiLi9yZWR1Y2Vyc1wiO1xudmFyIHNhZ2FNaWRkbGV3YXJlID0gY3JlYXRlU2FnYU1pZGRsZXdhcmUoKTtcbmV4cG9ydCB2YXIgaW5pdGlhbFN0YXRlID0ge1xuICB1c2VyOiB7XG4gICAgaWQ6IG51bGwsXG4gICAgbmFtZTogbnVsbCxcbiAgICBpc0xvZ2luOiBudWxsLFxuICAgIGxvZ2luRXJyb3JNZXM6IG51bGxcbiAgfSxcbiAgdG9nZ2xlQ2F0ZWdvcnk6ICdleHBlbnNlJyxcbiAgbWVudTogW3tcbiAgICB0aXRsZTogJ9Ct0YLQvtGCINC80LXRgdGP0YYnLFxuICAgIGxpbms6ICdtb250aCdcbiAgfSwge1xuICAgIHRpdGxlOiAn0J/RgNC+0YjQu9GL0Lkg0LzQtdGB0Y/RhicsXG4gICAgbGluazogJ2xhc3QtbW9udGgnXG4gIH0sIHtcbiAgICB0aXRsZTogJ9Co0LXRgdGC0Ywg0LzQtdGB0Y/RhtC10LInLFxuICAgIGxpbms6ICdoYWxmLXllYXInXG4gIH0sIHtcbiAgICB0aXRsZTogJ9Ct0YLQvtGCINCz0L7QtCcsXG4gICAgbGluazogJ3llYXInXG4gIH1dLFxuICBkYXRhOiBudWxsXG59O1xudmFyIHJlZHVjZXIgPSBjb21iaW5lUmVkdWNlcnMoe1xuICB1c2VyOiB1c2VyUmVkdWNlcixcbiAgbWVudTogcmV0dXJuU3RhdGVSZWR1Y2VyLFxuICBkYXRhOiBkYXRhUmVkdWNlcixcbiAgdG9nZ2xlQ2F0ZWdvcnk6IHRvb2dsZUNhdGVnb3J5UmVkdWNlclxufSk7XG5leHBvcnQgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBhcHBseU1pZGRsZXdhcmUoc2FnYU1pZGRsZXdhcmUpKTtcbnNhZ2FNaWRkbGV3YXJlLnJ1bihzYWdhcyk7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcblxudmFyIE1lbnVJdGVtID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTWVudUl0ZW0sIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE1lbnVJdGVtKTtcblxuICBmdW5jdGlvbiBNZW51SXRlbShwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZW51SXRlbSk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1lbnVJdGVtLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcbiAgICAgICAgaHJlZjogXCIvXCIuY29uY2F0KHRoaXMucHJvcHMubGluayksXG4gICAgICAgIGNsYXNzTmFtZTogXCJidXR0b24gYnV0dG9uX3BlcmlvZFwiXG4gICAgICB9LCB0aGlzLnByb3BzLnRpdGxlKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1lbnVJdGVtO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IHsgTWVudUl0ZW0gYXMgZGVmYXVsdCB9OyIsImltcG9ydCBNZW51SXRlbSBmcm9tICcuL2NvbXBvbmVudCc7XG5leHBvcnQgZGVmYXVsdCBNZW51SXRlbTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IE1lbnVJdGVtIGZyb20gJy4uL01lbnVJdGVtJztcblxudmFyIE1lbnVDb21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhNZW51Q29tcG9uZW50LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNZW51Q29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBNZW51Q29tcG9uZW50KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lbnVDb21wb25lbnQpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNZW51Q29tcG9uZW50LCBbe1xuICAgIGtleTogXCJyZW5kZXJJdGVtc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJJdGVtcygpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm1lbnUubWFwKGZ1bmN0aW9uIChtZW51SXRlbSwgaSkge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUl0ZW0sIHtcbiAgICAgICAgICBrZXk6IGksXG4gICAgICAgICAgdGl0bGU6IG1lbnVJdGVtLnRpdGxlLFxuICAgICAgICAgIGxpbms6IG1lbnVJdGVtLmxpbmtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcIm5hdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInVsXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm1lbnVcIlxuICAgICAgfSwgdGhpcy5yZW5kZXJJdGVtcygpKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1lbnVDb21wb25lbnQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBNZW51Q29tcG9uZW50IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBNZW51Q29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIG1lbnU6IHN0YXRlLm1lbnVcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHt9O1xufTtcblxuZXhwb3J0IHZhciBNZW51ID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoTWVudUNvbXBvbmVudCk7IiwiaW1wb3J0IHsgTWVudSB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IE1lbnU7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcblxudmFyIFVzZXJMb2dvdXRMaW5rQ29tcG9uZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVXNlckxvZ291dExpbmtDb21wb25lbnQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFVzZXJMb2dvdXRMaW5rQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBVc2VyTG9nb3V0TGlua0NvbXBvbmVudChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVc2VyTG9nb3V0TGlua0NvbXBvbmVudCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFVzZXJMb2dvdXRMaW5rQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInVzZXJcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidXNlci1uYW1lXCJcbiAgICAgIH0sIHRoaXMucHJvcHMudXNlck5hbWUpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIG9uQ2xpY2s6IHRoaXMucHJvcHMubG9nb3V0LFxuICAgICAgICBjbGFzc05hbWU6IFwidXNlci1sb2dvdXRcIlxuICAgICAgfSwgXCJcXHUwNDEyXFx1MDQ0QlxcdTA0NDVcXHUwNDNFXFx1MDQzNFwiKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFVzZXJMb2dvdXRMaW5rQ29tcG9uZW50O1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IHsgVXNlckxvZ291dExpbmtDb21wb25lbnQgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IFVzZXJMb2dvdXRMaW5rQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7IGxvZ291dEFjdGlvbiB9IGZyb20gXCIuLi8uLi9zdG9yZS9hY3Rpb25zXCI7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyTmFtZTogc3RhdGUudXNlci5uYW1lXG4gIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2gobG9nb3V0QWN0aW9uKCkpO1xuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydCB2YXIgVXNlckxvZ291dExpbmsgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShVc2VyTG9nb3V0TGlua0NvbXBvbmVudCk7IiwiaW1wb3J0IHsgVXNlckxvZ291dExpbmsgfSBmcm9tICcuL2NvbnRhaW5lcic7XG5leHBvcnQgZGVmYXVsdCBVc2VyTG9nb3V0TGluazsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5leHBvcnQgZnVuY3Rpb24gU2V0dXBMaW5rKCkge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcbiAgICBocmVmOiBcIi9zZXR1cC9cIixcbiAgICBjbGFzc05hbWU6IFwiYnV0dG9uLXNldHVwXCJcbiAgfSwgXCJcXHUwNDFEXFx1MDQzMFxcdTA0NDFcXHUwNDQyXFx1MDQ0MFxcdTA0M0VcXHUwNDM5XFx1MDQzQVxcdTA0MzhcIik7XG59IiwiaW1wb3J0IHsgU2V0dXBMaW5rIH0gZnJvbSAnLi9jb21wb25lbnQnO1xuZXhwb3J0IGRlZmF1bHQgU2V0dXBMaW5rOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgTWVudSBmcm9tICcuLi8uLi9jb21wb25lbnRzL01lbnUnO1xuaW1wb3J0IFVzZXJMb2dvdXRMaW5rIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvVXNlckxvZ291dExpbmsnO1xuaW1wb3J0IFNldHVwTGluayBmcm9tICcuLi8uLi9jb21wb25lbnRzL1NldHVwTGluayc7XG5cbnZhciBIZWFkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEhlYWRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihIZWFkZXIpO1xuXG4gIGZ1bmN0aW9uIEhlYWRlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGVyKTtcblxuICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhIZWFkZXIsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoZWFkZXJcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidG9wXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1lbnUsIG51bGwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJtZW51LXNldHVwXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNldHVwTGluaywgbnVsbCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFVzZXJMb2dvdXRMaW5rLCBudWxsKSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBIZWFkZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IEhlYWRlciBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuXG52YXIgQ2hhcnRzSXRlbSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENoYXJ0c0l0ZW0sIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENoYXJ0c0l0ZW0pO1xuXG4gIGZ1bmN0aW9uIENoYXJ0c0l0ZW0ocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhcnRzSXRlbSk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNoYXJ0U3R5bGVOYW1lOiBcIndpZHRoXCJcbiAgICB9O1xuICAgIF90aGlzLnVwZGF0ZUNoYXJ0RGltZW5zaW9uID0gX3RoaXMudXBkYXRlQ2hhcnREaW1lbnNpb24uYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENoYXJ0c0l0ZW0sIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy51cGRhdGVDaGFydERpbWVuc2lvbigpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy51cGRhdGVDaGFydERpbWVuc2lvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy51cGRhdGVDaGFydERpbWVuc2lvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUNoYXJ0RGltZW5zaW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUNoYXJ0RGltZW5zaW9uKCkge1xuICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDQ4MCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjaGFydFN0eWxlTmFtZTogXCJoZWlnaHRcIlxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGNoYXJ0U3R5bGVOYW1lOiBcIndpZHRoXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2hhcnRcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBzdHlsZTogX2RlZmluZVByb3BlcnR5KHt9LCB0aGlzLnN0YXRlLmNoYXJ0U3R5bGVOYW1lLCBcIlwiLmNvbmNhdCh0aGlzLnByb3BzLnBlcnNlbnQsIFwiJVwiKSksXG4gICAgICAgIGNsYXNzTmFtZTogXCJjaGFydC1saW5lIGNoYXJ0LWxpbmVfXCIuY29uY2F0KHRoaXMucHJvcHMudHlwZSlcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjaGFydC10eHRcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2hhcnQtdHh0X3RpdGxlXCJcbiAgICAgIH0sIHRoaXMucHJvcHMudGl0bGUpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjaGFydC10eHRfdmFsXCJcbiAgICAgIH0sIHRoaXMucHJvcHMuc3VtLCBcIiBcXHUyMEJEXCIpKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENoYXJ0c0l0ZW07XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBDaGFydHNJdGVtIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgQ2hhcnRzSXRlbSBmcm9tICcuL2NvbXBvbmVudCc7XG5leHBvcnQgZGVmYXVsdCBDaGFydHNJdGVtOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgQ2hhcnRzSXRlbSBmcm9tICcuLi9DaGFydHNJdGVtJztcblxudmFyIENoYXJ0c0NvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENoYXJ0c0NvbXBvbmVudCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2hhcnRzQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDaGFydHNDb21wb25lbnQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhcnRzQ29tcG9uZW50KTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2hhcnRzQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJyZW5kZXJJdGVtc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJJdGVtcygpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoYXJ0cy5tYXAoZnVuY3Rpb24gKGNoYXJ0c0l0ZW0sIGkpIHtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENoYXJ0c0l0ZW0sIHtcbiAgICAgICAgICBrZXk6IGksXG4gICAgICAgICAgdGl0bGU6IGNoYXJ0c0l0ZW0udGl0bGUsXG4gICAgICAgICAgc3VtOiBjaGFydHNJdGVtLnN1bSxcbiAgICAgICAgICBwZXJzZW50OiBjaGFydHNJdGVtLnBlcnNlbnQsXG4gICAgICAgICAgdHlwZTogY2hhcnRzSXRlbS50eXBlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICBpZiAoJ2NoYXJ0cycgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJjaGFydHNcIlxuICAgICAgICB9LCB0aGlzLnJlbmRlckl0ZW1zKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENoYXJ0c0NvbXBvbmVudDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IENoYXJ0c0NvbXBvbmVudCBhcyBkZWZhdWx0IH07IiwiZXhwb3J0IGZ1bmN0aW9uIGNhbGNDaGFydHMoZGF0YSkge1xuICB2YXIgaW5jb21lID0gMDtcbiAgdmFyIGV4cGVuc2UgPSAwO1xuICBkYXRhLnJlc3VsdC5jYXRlZ29yeXMubWFwKGZ1bmN0aW9uIChjYXRlZ29yeUlkKSB7XG4gICAgaWYgKGRhdGEuZW50aXRpZXMuY2F0ZWdvcnlzW2NhdGVnb3J5SWRdLnR5cGUgPT09IFwiaW5jb21lXCIpIHtcbiAgICAgIGluY29tZSArPSBkYXRhLmVudGl0aWVzLmNhdGVnb3J5c1tjYXRlZ29yeUlkXS50b3RhbFN1bTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwZW5zZSArPSBkYXRhLmVudGl0aWVzLmNhdGVnb3J5c1tjYXRlZ29yeUlkXS50b3RhbFN1bTtcbiAgICB9XG4gIH0pO1xuICB2YXIgcGVyc2VudHMgPSBjYWxjQ2hhcnRzUGVyc2VudHMoaW5jb21lLCBleHBlbnNlKTtcbiAgcmV0dXJuIFt7XG4gICAgdGl0bGU6IFwiXFx1MDQxNFxcdTA0M0VcXHUwNDQ1XFx1MDQzRVxcdTA0MzRcIixcbiAgICB0eXBlOiBcImluY29tZVwiLFxuICAgIHN1bTogaW5jb21lLFxuICAgIHBlcnNlbnQ6IHBlcnNlbnRzLmluY29tZVBlcnNlbnRzXG4gIH0sIHtcbiAgICB0aXRsZTogXCJcXHUwNDIwXFx1MDQzMFxcdTA0NDFcXHUwNDQ1XFx1MDQzRVxcdTA0MzRcIixcbiAgICB0eXBlOiBcImV4cGVuc2VcIixcbiAgICBzdW06IGV4cGVuc2UsXG4gICAgcGVyc2VudDogcGVyc2VudHMuZXhwZW5zZVBlcnNlbnRzXG4gIH0sIHtcbiAgICB0aXRsZTogXCJcXHUwNDFEXFx1MDQzMFxcdTA0M0FcXHUwNDNFXFx1MDQzRlxcdTA0M0JcXHUwNDM1XFx1MDQzRFxcdTA0MzhcXHUwNDRGXCIsXG4gICAgdHlwZTogXCJzYXZpbmdzXCIsXG4gICAgc3VtOiBpbmNvbWUgLSBleHBlbnNlLFxuICAgIHBlcnNlbnQ6IHBlcnNlbnRzLnNhdmluZ3NQZXJzZW50c1xuICB9XTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYWxjQ2hhcnRzUGVyc2VudHMoaW5jb21lLCBleHBlbnNlKSB7XG4gIHZhciBvbmVQZXJzZW50ID0gMDtcbiAgaWYgKGluY29tZSAhPT0gMCAmJiBleHBlbnNlICE9PSAwKSBvbmVQZXJzZW50ID0gaW5jb21lID4gZXhwZW5zZSA/IDEwMCAvIGluY29tZSA6IDEwMCAvIGV4cGVuc2U7XG4gIHZhciBpbmNvbWVQZXJzZW50cyA9IE1hdGguY2VpbChpbmNvbWUgPiBleHBlbnNlID8gMTAwIDogaW5jb21lICogb25lUGVyc2VudCk7XG4gIHZhciBleHBlbnNlUGVyc2VudHMgPSBNYXRoLmNlaWwoaW5jb21lIDwgZXhwZW5zZSA/IDEwMCA6IGV4cGVuc2UgKiBvbmVQZXJzZW50KTtcbiAgdmFyIHNhdmluZ3NQZXJzZW50cyA9IE1hdGguY2VpbCgoaW5jb21lIC0gZXhwZW5zZSkgKiBvbmVQZXJzZW50KTtcbiAgaWYgKGluY29tZVBlcnNlbnRzIDwgMSkgaW5jb21lUGVyc2VudHMgPSAxO1xuICBpZiAoZXhwZW5zZVBlcnNlbnRzIDwgMSkgZXhwZW5zZVBlcnNlbnRzID0gMTtcbiAgaWYgKHNhdmluZ3NQZXJzZW50cyA8IDEpIHNhdmluZ3NQZXJzZW50cyA9IDE7XG4gIHJldHVybiB7XG4gICAgaW5jb21lUGVyc2VudHM6IGluY29tZVBlcnNlbnRzLFxuICAgIGV4cGVuc2VQZXJzZW50czogZXhwZW5zZVBlcnNlbnRzLFxuICAgIHNhdmluZ3NQZXJzZW50czogc2F2aW5nc1BlcnNlbnRzXG4gIH07XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQ2hhcnRzQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7IGNhbGNDaGFydHMgfSBmcm9tICcuLi8uLi91dGlscy9jYWxjQ2hhcnRzJztcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICBpZiAoc3RhdGUuZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHt9O1xuICByZXR1cm4ge1xuICAgIGNoYXJ0czogY2FsY0NoYXJ0cyhzdGF0ZS5kYXRhKVxuICB9O1xufTtcblxuZXhwb3J0IHZhciBDaGFydHMgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoQ2hhcnRzQ29tcG9uZW50KTsiLCJpbXBvcnQgeyBDaGFydHMgfSBmcm9tICcuL2NvbnRhaW5lcic7XG5leHBvcnQgZGVmYXVsdCBDaGFydHM7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcblxudmFyIFBsdXNCdXR0b24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQbHVzQnV0dG9uLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQbHVzQnV0dG9uKTtcblxuICBmdW5jdGlvbiBQbHVzQnV0dG9uKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsdXNCdXR0b24pO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQbHVzQnV0dG9uLCBbe1xuICAgIGtleTogXCJyZXR1cm5DbGFzc05hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmV0dXJuQ2xhc3NOYW1lKCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaXNPcGVuKSB7XG4gICAgICAgIHJldHVybiAnbWludXMnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJ3BsdXMnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgb25DbGljazogdGhpcy5wcm9wcy50b2dnbGVDYWxsYmFjayxcbiAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnJldHVybkNsYXNzTmFtZSgpXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGx1c0J1dHRvbjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IFBsdXNCdXR0b24gYXMgZGVmYXVsdCB9OyIsImltcG9ydCBQbHVzQnV0dG9uIGZyb20gJy4vY29tcG9uZW50JztcbmV4cG9ydCBkZWZhdWx0IFBsdXNCdXR0b247IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcblxudmFyIFN1Ym1pdEJ1dHRvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFN1Ym1pdEJ1dHRvbiwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU3VibWl0QnV0dG9uKTtcblxuICBmdW5jdGlvbiBTdWJtaXRCdXR0b24ocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3VibWl0QnV0dG9uKTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU3VibWl0QnV0dG9uLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJ1dHRvbiBcIi5jb25jYXQodGhpcy5wcm9wcy5jbGFzc05hbWUpLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLnByb3BzLmNhbGxiYWNrXG4gICAgICB9LCB0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3VibWl0QnV0dG9uO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IHsgU3VibWl0QnV0dG9uIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgU3VibWl0QnV0dG9uIGZyb20gJy4vY29tcG9uZW50JztcbmV4cG9ydCBkZWZhdWx0IFN1Ym1pdEJ1dHRvbjsiLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgU3VibWl0QnV0dG9uIGZyb20gXCIuLi9TdWJtaXRCdXR0b25cIjtcblxudmFyIEFkZEZvcm1Db21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhBZGRGb3JtQ29tcG9uZW50LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihBZGRGb3JtQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBBZGRGb3JtQ29tcG9uZW50KHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFkZEZvcm1Db21wb25lbnQpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzdW06ICcnLFxuICAgICAgdGl0bGU6ICcnXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQWRkRm9ybUNvbXBvbmVudCwgW3tcbiAgICBrZXk6IFwiaGFuZGxlQ2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShlLCB2YWwpIHtcbiAgICAgIHZhciBmaWVsZFZhbHVlID0gdmFsID09PSBcInN1bVwiID8gZS50YXJnZXQudmFsdWUucmVwbGFjZSgvXFxELywgJycpIDogZS50YXJnZXQudmFsdWU7XG4gICAgICB0aGlzLnNldFN0YXRlKF9kZWZpbmVQcm9wZXJ0eSh7fSwgdmFsLCBmaWVsZFZhbHVlKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoZWNrQW5kQWRkTGlzdEl0ZW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tBbmRBZGRMaXN0SXRlbSgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLnN1bSAmJiB0aGlzLnN0YXRlLnRpdGxlKSB7XG4gICAgICAgIHRoaXMucHJvcHMuYWRkTGlzdEl0ZW0oX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB7XG4gICAgICAgICAgY2F0ZWdvcnlJZDogdGhpcy5wcm9wcy5jYXRlZ29yeUlkXG4gICAgICAgIH0pLCB0aGlzLnN0YXRlKSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHN1bTogJycsXG4gICAgICAgICAgdGl0bGU6ICcnXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb3BzLnRvZ2dsZUNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNPcGVuID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImFkZC1mb3JtXCJcbiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuc3VtLFxuICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUNoYW5nZShlLCAnc3VtJyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwbGFjZWhvbGRlcjogXCJcXHUwNDIxXFx1MDQ0M1xcdTA0M0NcXHUwNDNDXFx1MDQzMFwiLFxuICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJhZGQtZm9ybV9fc3VtXCJcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiwge1xuICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmNvbW1lbnQsXG4gICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlQ2hhbmdlKGUsICd0aXRsZScpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IFwiXFx1MDQxQVxcdTA0M0VcXHUwNDNDXFx1MDQzQ1xcdTA0MzVcXHUwNDNEXFx1MDQ0MlxcdTA0MzBcXHUwNDQwXFx1MDQzOFxcdTA0MzlcIixcbiAgICAgICAgICBjbGFzc05hbWU6IFwiYWRkLWZvcm1fX3R4dFwiXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICAgICAgICBjbGFzc05hbWU6ICdidXR0b25fYWRkLWZvcm0nLFxuICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2hlY2tBbmRBZGRMaXN0SXRlbSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgXCJcXHUwNDE0XFx1MDQzRVxcdTA0MzFcXHUwNDMwXFx1MDQzMlxcdTA0MzhcXHUwNDQyXFx1MDQ0Q1wiKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBZGRGb3JtQ29tcG9uZW50O1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IHsgQWRkRm9ybUNvbXBvbmVudCBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQWRkRm9ybUNvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBhZGRMaXN0SXRlbUFjdGlvbiB9IGZyb20gXCIuLi8uLi9zdG9yZS9hY3Rpb25zXCI7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHt9O1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIGFkZExpc3RJdGVtOiBmdW5jdGlvbiBhZGRMaXN0SXRlbShsaXN0SXRlbSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKGFkZExpc3RJdGVtQWN0aW9uKGxpc3RJdGVtKSk7XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IHZhciBBZGRGb3JtID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoQWRkRm9ybUNvbXBvbmVudCk7IiwiaW1wb3J0IHsgQWRkRm9ybSB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IEFkZEZvcm07IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcblxudmFyIE1vZGFsV2luZG93Q29tcG9uZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTW9kYWxXaW5kb3dDb21wb25lbnQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE1vZGFsV2luZG93Q29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBNb2RhbFdpbmRvd0NvbXBvbmVudChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNb2RhbFdpbmRvd0NvbXBvbmVudCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1vZGFsV2luZG93Q29tcG9uZW50LCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm1vZGFsLXdpbmRvdy1jb250YWluZXJcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibW9kYWwtd2luZG93XCJcbiAgICAgIH0sIHRoaXMucHJvcHMuY2hpbGRyZW4pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTW9kYWxXaW5kb3dDb21wb25lbnQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBNb2RhbFdpbmRvd0NvbXBvbmVudCBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgTW9kYWxXaW5kb3dDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7fTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHt9O1xufTtcblxuZXhwb3J0IHZhciBNb2RhbFdpbmRvdyA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKE1vZGFsV2luZG93Q29tcG9uZW50KTsiLCJpbXBvcnQgeyBNb2RhbFdpbmRvdyB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IE1vZGFsV2luZG93OyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5cbnZhciBDbG9zZVdpbmRvd0J1dHRvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENsb3NlV2luZG93QnV0dG9uLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDbG9zZVdpbmRvd0J1dHRvbik7XG5cbiAgZnVuY3Rpb24gQ2xvc2VXaW5kb3dCdXR0b24ocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xvc2VXaW5kb3dCdXR0b24pO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDbG9zZVdpbmRvd0J1dHRvbiwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjbG9zZS13aW5kb3ctY29udGFpbmVyXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgb25DbGljazogdGhpcy5wcm9wcy5jbG9zZUNhbGxiYWNrLFxuICAgICAgICBjbGFzc05hbWU6IFwiY2xvc2Utd2luZG93XCJcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2xvc2VXaW5kb3dCdXR0b247XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBDbG9zZVdpbmRvd0J1dHRvbiBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IENsb3NlV2luZG93QnV0dG9uIGZyb20gJy4vY29tcG9uZW50JztcbmV4cG9ydCBkZWZhdWx0IENsb3NlV2luZG93QnV0dG9uOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgTW9kYWxXaW5kb3cgZnJvbSBcIi4uL01vZGFsV2luZG93XCI7XG5pbXBvcnQgQ2xvc2VXaW5kb3dCdXR0b24gZnJvbSBcIi4uL0Nsb3NlV2luZG93QnV0dG9uXCI7XG5pbXBvcnQgU3VibWl0QnV0dG9uIGZyb20gXCIuLi9TdWJtaXRCdXR0b25cIjtcblxudmFyIENvbmZpcm1EZWxldGVXaW5kb3cgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDb25maXJtRGVsZXRlV2luZG93LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDb25maXJtRGVsZXRlV2luZG93KTtcblxuICBmdW5jdGlvbiBDb25maXJtRGVsZXRlV2luZG93KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbmZpcm1EZWxldGVXaW5kb3cpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb25maXJtRGVsZXRlV2luZG93LCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1vZGFsV2luZG93LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDbG9zZVdpbmRvd0J1dHRvbiwge1xuICAgICAgICBjbG9zZUNhbGxiYWNrOiB0aGlzLnByb3BzLmNhbmNlbENhbGxiYWNrXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiZGVsZXRlLXdpbmRvdy10ZXh0XCJcbiAgICAgIH0sIFwiXFx1MDQyM1xcdTA0MzRcXHUwNDMwXFx1MDQzQlxcdTA0MzhcXHUwNDQyXFx1MDQ0QyBcIiwgdGhpcy5wcm9wcy50aXRsZSwgXCI/XCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJtb2RhbC13aW5kb3dfX2J1dHRvbnNcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3VibWl0QnV0dG9uLCB7XG4gICAgICAgIGNhbGxiYWNrOiB0aGlzLnByb3BzLmRlbGV0ZUNhbGxiYWNrLFxuICAgICAgICBjbGFzc05hbWU6IFwiYnV0dG9uX21vZGFsLXdpbmRvd1wiXG4gICAgICB9LCBcIlxcdTA0MjNcXHUwNDM0XFx1MDQzMFxcdTA0M0JcXHUwNDM4XFx1MDQ0MlxcdTA0NENcIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbiwge1xuICAgICAgICBjYWxsYmFjazogdGhpcy5wcm9wcy5jYW5jZWxDYWxsYmFjayxcbiAgICAgICAgY2xhc3NOYW1lOiBcImJ1dHRvbl9tb2RhbC13aW5kb3dcIlxuICAgICAgfSwgXCJcXHUwNDFFXFx1MDQ0MlxcdTA0M0NcXHUwNDM1XFx1MDQzRFxcdTA0MzBcIikpKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENvbmZpcm1EZWxldGVXaW5kb3c7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBDb25maXJtRGVsZXRlV2luZG93IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgQ29uZmlybURlbGV0ZVdpbmRvdyBmcm9tICcuL2NvbXBvbmVudCc7XG5leHBvcnQgZGVmYXVsdCBDb25maXJtRGVsZXRlV2luZG93OyIsImV4cG9ydCBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGVTdHJpbmcpIHtcbiAgdmFyIGRhdGVBcnIgPSBkYXRlU3RyaW5nLnNsaWNlKDAsIDEwKS5zcGxpdCgnLScpO1xuICByZXR1cm4gXCJcIi5jb25jYXQoZGF0ZUFyclsyXSwgXCItXCIpLmNvbmNhdChkYXRlQXJyWzFdLCBcIi1cIikuY29uY2F0KGRhdGVBcnJbMF0pO1xufSIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBNb2RhbFdpbmRvdyBmcm9tIFwiLi4vTW9kYWxXaW5kb3dcIjtcbmltcG9ydCBDbG9zZVdpbmRvd0J1dHRvbiBmcm9tIFwiLi4vQ2xvc2VXaW5kb3dCdXR0b25cIjtcbmltcG9ydCBTdWJtaXRCdXR0b24gZnJvbSBcIi4uL1N1Ym1pdEJ1dHRvblwiO1xuaW1wb3J0IENvbmZpcm1EZWxldGVXaW5kb3cgZnJvbSBcIi4uL0NvbmZpcm1EZWxldGVXaW5kb3dcIjtcbmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICcuLi8uLi91dGlscy9mb3JtYXRMaXN0RGF0ZSc7XG5cbnZhciBMaXN0SXRlbUNvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKExpc3RJdGVtQ29tcG9uZW50LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihMaXN0SXRlbUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTGlzdEl0ZW1Db21wb25lbnQocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGlzdEl0ZW1Db21wb25lbnQpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBpc09wZW5FZGl0V2luZG93OiBmYWxzZSxcbiAgICAgIGlzT3BlbkNvbmZpcm1EZWxldGU6IGZhbHNlLFxuICAgICAgdGl0bGU6IF90aGlzLnByb3BzLnRpdGxlLFxuICAgICAgc3VtOiBfdGhpcy5wcm9wcy5zdW1cbiAgICB9O1xuICAgIF90aGlzLm9wZW5FZGl0V2luZG93ID0gX3RoaXMub3BlbkVkaXRXaW5kb3cuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMuY2xvc2VXaW5kb3dzID0gX3RoaXMuY2xvc2VXaW5kb3dzLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIF90aGlzLm9wZW5Db25maXJtRGVsZXRlV2luZG93ID0gX3RoaXMub3BlbkNvbmZpcm1EZWxldGVXaW5kb3cuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMuc2F2ZUxpc3RJdGVtID0gX3RoaXMuc2F2ZUxpc3RJdGVtLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIF90aGlzLmRlbGV0ZUxpc3RJdGVtID0gX3RoaXMuZGVsZXRlTGlzdEl0ZW0uYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExpc3RJdGVtQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJoYW5kbGVDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUsIHZhbCkge1xuICAgICAgdmFyIGZpZWxkVmFsdWUgPSB2YWwgPT09IFwic3VtXCIgPyBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9cXEQvLCAnJykgOiBlLnRhcmdldC52YWx1ZTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoX2RlZmluZVByb3BlcnR5KHt9LCB2YWwsIGZpZWxkVmFsdWUpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib3BlbkVkaXRXaW5kb3dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbkVkaXRXaW5kb3coKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNPcGVuRWRpdFdpbmRvdzogdHJ1ZSxcbiAgICAgICAgaXNPcGVuQ29uZmlybURlbGV0ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvcGVuQ29uZmlybURlbGV0ZVdpbmRvd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuQ29uZmlybURlbGV0ZVdpbmRvdygpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc09wZW5FZGl0V2luZG93OiBmYWxzZSxcbiAgICAgICAgaXNPcGVuQ29uZmlybURlbGV0ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsb3NlV2luZG93c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZVdpbmRvd3MoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNPcGVuRWRpdFdpbmRvdzogZmFsc2UsXG4gICAgICAgIGlzT3BlbkNvbmZpcm1EZWxldGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2F2ZUxpc3RJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVMaXN0SXRlbSgpIHtcbiAgICAgIHRoaXMucHJvcHMudXBkTGlzdEl0ZW0oe1xuICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICAgIHN1bTogdGhpcy5zdGF0ZS5zdW1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5jbG9zZVdpbmRvd3MoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlTGlzdEl0ZW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlTGlzdEl0ZW0oKSB7XG4gICAgICB0aGlzLnByb3BzLmRlbExpc3RJdGVtKHtcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgIHN1bTogdGhpcy5wcm9wcy5zdW1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5jbG9zZVdpbmRvd3MoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gWy8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLm9wZW5FZGl0V2luZG93KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGtleTogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5LWl0ZW1cIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnktaXRlbV9fdHh0XCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5LWl0ZW1fX2RhdGVcIlxuICAgICAgfSwgZm9ybWF0RGF0ZSh0aGlzLnByb3BzLmRhdGUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnktaXRlbV9fZGVzY3JcIlxuICAgICAgfSwgdGhpcy5wcm9wcy50aXRsZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjYXRlZ29yeS1pdGVtX19zdW1cIlxuICAgICAgfSwgdGhpcy5wcm9wcy5zdW0sIFwiIFxcdTIwQkRcIikpLCB0aGlzLnN0YXRlLmlzT3BlbkVkaXRXaW5kb3cgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTW9kYWxXaW5kb3csIHtcbiAgICAgICAga2V5OiBcImV3XCIuY29uY2F0KHRoaXMucHJvcHMuaWQpXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDbG9zZVdpbmRvd0J1dHRvbiwge1xuICAgICAgICBjbG9zZUNhbGxiYWNrOiB0aGlzLmNsb3NlV2luZG93c1xuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5zdW0sXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVDaGFuZ2UoZSwgJ3N1bScpO1xuICAgICAgICB9LFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJcXHUwNDIxXFx1MDQ0M1xcdTA0M0NcXHUwNDNDXFx1MDQzMFwiLFxuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcImFkZC1mb3JtX19zdW1cIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiwge1xuICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUNoYW5nZShlLCAndGl0bGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwiXFx1MDQxQVxcdTA0M0VcXHUwNDNDXFx1MDQzQ1xcdTA0MzVcXHUwNDNEXFx1MDQ0MlxcdTA0MzBcXHUwNDQwXFx1MDQzOFxcdTA0MzlcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcImFkZC1mb3JtX190eHRcIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm1vZGFsLXdpbmRvd19fYnV0dG9uc1wiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuc2F2ZUxpc3RJdGVtKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZTogXCJidXR0b25fbW9kYWwtd2luZG93XCJcbiAgICAgIH0sIFwiXFx1MDQyMVxcdTA0M0VcXHUwNDQ1XFx1MDQ0MFxcdTA0MzBcXHUwNDNEXFx1MDQzOFxcdTA0NDJcXHUwNDRDXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIub3BlbkNvbmZpcm1EZWxldGVXaW5kb3coKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBcImJ1dHRvbl9tb2RhbC13aW5kb3dcIlxuICAgICAgfSwgXCJcXHUwNDIzXFx1MDQzNFxcdTA0MzBcXHUwNDNCXFx1MDQzOFxcdTA0NDJcXHUwNDRDXCIpKSkpLCB0aGlzLnN0YXRlLmlzT3BlbkNvbmZpcm1EZWxldGUgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29uZmlybURlbGV0ZVdpbmRvdywge1xuICAgICAgICBrZXk6IFwiZHdcIi5jb25jYXQodGhpcy5wcm9wcy5pZCksXG4gICAgICAgIGNhbmNlbENhbGxiYWNrOiBmdW5jdGlvbiBjYW5jZWxDYWxsYmFjaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmNsb3NlV2luZG93cygpO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGVDYWxsYmFjazogZnVuY3Rpb24gZGVsZXRlQ2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5kZWxldGVMaXN0SXRlbSgpO1xuICAgICAgICB9LFxuICAgICAgICB0aXRsZTogdGhpcy5wcm9wcy50aXRsZVxuICAgICAgfSldO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMaXN0SXRlbUNvbXBvbmVudDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IExpc3RJdGVtQ29tcG9uZW50IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBMaXN0SXRlbUNvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBkZWxMaXN0SXRlbUFjdGlvbiwgdXBkTGlzdEl0ZW1BY3Rpb24gfSBmcm9tIFwiLi4vLi4vc3RvcmUvYWN0aW9uc1wiO1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7fTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICB1cGRMaXN0SXRlbTogZnVuY3Rpb24gdXBkTGlzdEl0ZW0obGlzdEl0ZW0pIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCh1cGRMaXN0SXRlbUFjdGlvbihsaXN0SXRlbSkpO1xuICAgIH0sXG4gICAgZGVsTGlzdEl0ZW06IGZ1bmN0aW9uIGRlbExpc3RJdGVtKGxpc3RJdGVtKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goZGVsTGlzdEl0ZW1BY3Rpb24obGlzdEl0ZW0pKTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgdmFyIExpc3RJdGVtID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoTGlzdEl0ZW1Db21wb25lbnQpOyIsImltcG9ydCB7IExpc3RJdGVtIH0gZnJvbSAnLi9jb250YWluZXInO1xuZXhwb3J0IGRlZmF1bHQgTGlzdEl0ZW07IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBMaXN0SXRlbSBmcm9tIFwiLi4vTGlzdEl0ZW1cIjtcblxudmFyIExpc3RDb21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhMaXN0Q29tcG9uZW50LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihMaXN0Q29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBMaXN0Q29tcG9uZW50KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpc3RDb21wb25lbnQpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhMaXN0Q29tcG9uZW50LCBbe1xuICAgIGtleTogXCJyZW5kZXJJdGVtc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJJdGVtcygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmxpc3RJZEFyci5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmxpc3RJZEFyci5tYXAoZnVuY3Rpb24gKGxpc3RJdGVtSWQpIHtcbiAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBfdGhpcy5wcm9wcy5saXN0W2xpc3RJdGVtSWRdO1xuICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbSwge1xuICAgICAgICAgICAgaWQ6IGxpc3RJdGVtLmlkLFxuICAgICAgICAgICAgZGF0ZTogbGlzdEl0ZW0uZGF0ZSxcbiAgICAgICAgICAgIGtleTogbGlzdEl0ZW0uaWQsXG4gICAgICAgICAgICB0aXRsZTogbGlzdEl0ZW0udGl0bGUsXG4gICAgICAgICAgICBzdW06IGxpc3RJdGVtLnN1bVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaXNPcGVuID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5LWxpc3RcIlxuICAgICAgICB9LCB0aGlzLnJlbmRlckl0ZW1zKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGlzdENvbXBvbmVudDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IExpc3RDb21wb25lbnQgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IExpc3RDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuXG52YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgbGlzdDogc3RhdGUuZGF0YS5lbnRpdGllcy5saXN0XG4gIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7fTtcbn07XG5cbmV4cG9ydCB2YXIgTGlzdCA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKExpc3RDb21wb25lbnQpOyIsImltcG9ydCB7IExpc3QgfSBmcm9tICcuL2NvbnRhaW5lcic7XG5leHBvcnQgZGVmYXVsdCBMaXN0OyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgUGx1c0J1dHRvbiBmcm9tICcuLi9QbHVzQnV0dG9uJztcbmltcG9ydCBBZGRGb3JtIGZyb20gJy4uL0FkZEZvcm0nO1xuaW1wb3J0IExpc3QgZnJvbSAnLi4vTGlzdCc7XG5cbnZhciBDYXRlZ29yeUl0ZW0gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDYXRlZ29yeUl0ZW0sIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENhdGVnb3J5SXRlbSk7XG5cbiAgZnVuY3Rpb24gQ2F0ZWdvcnlJdGVtKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhdGVnb3J5SXRlbSk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzT3Blbkxpc3Q6IGZhbHNlLFxuICAgICAgaXNPcGVuRm9ybTogZmFsc2VcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDYXRlZ29yeUl0ZW0sIFt7XG4gICAga2V5OiBcInRvZ2dsZUxpc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlTGlzdCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc09wZW5MaXN0OiAhdGhpcy5zdGF0ZS5pc09wZW5MaXN0XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9nZ2xlRm9ybVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVGb3JtKCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzT3BlbkZvcm06ICF0aGlzLnN0YXRlLmlzT3BlbkZvcm1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjYXRlZ29yeVwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjYXRlZ29yeV9faGVhZGVyXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnRvZ2dsZUxpc3QoKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5LXR4dCBcIi5jb25jYXQodGhpcy5zdGF0ZS5pc09wZW5MaXN0ID8gXCJjYXRlZ29yeS10eHRfcm90YXRlOTBcIiA6IFwiY2F0ZWdvcnktdHh0X3JvdGF0ZTBcIilcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5LXR4dF9fdGl0bGVcIlxuICAgICAgfSwgdGhpcy5wcm9wcy50aXRsZSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNhdGVnb3J5LXR4dF9fc3VtXCJcbiAgICAgIH0sIHRoaXMucHJvcHMuc3VtID4gMCA/IHRoaXMucHJvcHMuc3VtIDogMCwgXCIgXFx1MjBCRFwiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImFkZC1idXR0b25cIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUGx1c0J1dHRvbiwge1xuICAgICAgICBpc09wZW46IHRoaXMuc3RhdGUuaXNPcGVuRm9ybSxcbiAgICAgICAgdG9nZ2xlQ2FsbGJhY2s6IGZ1bmN0aW9uIHRvZ2dsZUNhbGxiYWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIudG9nZ2xlRm9ybSgpO1xuICAgICAgICB9XG4gICAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjYXRlZ29yeS1jb250ZW50XCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFkZEZvcm0sIHtcbiAgICAgICAgY2F0ZWdvcnlUeXBlOiB0aGlzLnByb3BzLnR5cGUsXG4gICAgICAgIGNhdGVnb3J5SWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgIGlzT3BlbjogdGhpcy5zdGF0ZS5pc09wZW5Gb3JtLFxuICAgICAgICB0b2dnbGVDYWxsYmFjazogZnVuY3Rpb24gdG9nZ2xlQ2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi50b2dnbGVGb3JtKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0LCB7XG4gICAgICAgIGxpc3RJZEFycjogdGhpcy5wcm9wcy5saXN0SWRBcnIsXG4gICAgICAgIGlzT3BlbjogdGhpcy5zdGF0ZS5pc09wZW5MaXN0XG4gICAgICB9KSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYXRlZ29yeUl0ZW07XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBDYXRlZ29yeUl0ZW0gYXMgZGVmYXVsdCB9OyIsImltcG9ydCBDYXRlZ29yeUl0ZW0gZnJvbSAnLi9jb21wb25lbnQnO1xuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcnlJdGVtOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgQ2F0ZWdvcnlJdGVtIGZyb20gJy4uL0NhdGVnb3J5SXRlbSc7XG5cbnZhciBDYXRlZ29yeUNvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENhdGVnb3J5Q29tcG9uZW50LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDYXRlZ29yeUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2F0ZWdvcnlDb21wb25lbnQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2F0ZWdvcnlDb21wb25lbnQpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDYXRlZ29yeUNvbXBvbmVudCwgW3tcbiAgICBrZXk6IFwicmV0dXJuQ2xhc3NOYW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJldHVybkNsYXNzTmFtZSgpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnR5cGUgIT09IHRoaXMucHJvcHMudG9nZ2xlQ2F0ZWdvcnkpIHtcbiAgICAgICAgcmV0dXJuICdkZXRhaWxzX19ibG9ja19oaWRlJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJJdGVtc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJJdGVtcygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNhdGVnb3J5c0lkQXJyLm1hcChmdW5jdGlvbiAoY2F0ZWdvcnlJZCkge1xuICAgICAgICB2YXIgY2F0ZWdvcnkgPSBfdGhpcy5wcm9wcy5jYXRlZ29yeXNbY2F0ZWdvcnlJZF07XG5cbiAgICAgICAgaWYgKGNhdGVnb3J5LnR5cGUgPT09IF90aGlzLnByb3BzLnR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2F0ZWdvcnlJdGVtLCB7XG4gICAgICAgICAgICBrZXk6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgICAgaWQ6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgICAgdGl0bGU6IGNhdGVnb3J5LnRpdGxlLFxuICAgICAgICAgICAgdHlwZTogY2F0ZWdvcnkudHlwZSxcbiAgICAgICAgICAgIHN1bTogY2F0ZWdvcnkudG90YWxTdW0sXG4gICAgICAgICAgICBsaXN0SWRBcnI6IGNhdGVnb3J5Lmxpc3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICBpZiAoJ2NhdGVnb3J5cycgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJkZXRhaWxzX19ibG9jayBcIi5jb25jYXQodGhpcy5yZXR1cm5DbGFzc05hbWUoKSlcbiAgICAgICAgfSwgdGhpcy5yZW5kZXJJdGVtcygpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYXRlZ29yeUNvbXBvbmVudDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IENhdGVnb3J5Q29tcG9uZW50IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBDYXRlZ29yeUNvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmRhdGEgPT09IG51bGwpIHJldHVybiB7fTtcbiAgcmV0dXJuIHtcbiAgICBjYXRlZ29yeXM6IHN0YXRlLmRhdGEuZW50aXRpZXMuY2F0ZWdvcnlzLFxuICAgIGNhdGVnb3J5c0lkQXJyOiBzdGF0ZS5kYXRhLnJlc3VsdC5jYXRlZ29yeXMsXG4gICAgdG9nZ2xlQ2F0ZWdvcnk6IHN0YXRlLnRvZ2dsZUNhdGVnb3J5XG4gIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7fTtcbn07XG5cbmV4cG9ydCB2YXIgQ2F0ZWdvcnkgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShDYXRlZ29yeUNvbXBvbmVudCk7IiwiaW1wb3J0IHsgQ2F0ZWdvcnkgfSBmcm9tICcuL2NvbnRhaW5lcic7XG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yeTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IFN1Ym1pdEJ1dHRvbiBmcm9tICcuLi9TdWJtaXRCdXR0b24nO1xuXG52YXIgVG9nZ2xlQ2F0ZWdvcnlDb21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUb2dnbGVDYXRlZ29yeUNvbXBvbmVudCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoVG9nZ2xlQ2F0ZWdvcnlDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRvZ2dsZUNhdGVnb3J5Q29tcG9uZW50KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvZ2dsZUNhdGVnb3J5Q29tcG9uZW50KTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVG9nZ2xlQ2F0ZWdvcnlDb21wb25lbnQsIFt7XG4gICAga2V5OiBcInJldHVybkNsYXNzTmFtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXR1cm5DbGFzc05hbWUodHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT09IHRoaXMucHJvcHMudG9nZ2xlQ2F0ZWdvcnkpIHtcbiAgICAgICAgcmV0dXJuICdidXR0b25fYWN0aXZlJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibWVudV9fZGV0YWlscyBtZW51X19kZXRhaWxzX3NlYXJjaFwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbiwge1xuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLnRvZ2dsZSgnZXhwZW5zZScpO1xuICAgICAgICB9LFxuICAgICAgICBjbGFzc05hbWU6IFwiYnV0dG9uX2RldGFpbHMgXCIuY29uY2F0KHRoaXMucmV0dXJuQ2xhc3NOYW1lKCdleHBlbnNlJykpXG4gICAgICB9LCBcIlxcdTA0MjBcXHUwNDMwXFx1MDQ0MVxcdTA0NDVcXHUwNDNFXFx1MDQzNFxcdTA0NEJcIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbiwge1xuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLnRvZ2dsZSgnaW5jb21lJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZTogXCJidXR0b25fZGV0YWlscyBcIi5jb25jYXQodGhpcy5yZXR1cm5DbGFzc05hbWUoJ2luY29tZScpKVxuICAgICAgfSwgXCJcXHUwNDE0XFx1MDQzRVxcdTA0NDVcXHUwNDNFXFx1MDQzNFxcdTA0NEJcIikpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVG9nZ2xlQ2F0ZWdvcnlDb21wb25lbnQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBUb2dnbGVDYXRlZ29yeUNvbXBvbmVudCBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyB0b2dnbGVDYXRlZ29yeUFjdGlvbiB9IGZyb20gJy4uLy4uL3N0b3JlL2FjdGlvbnMnO1xuaW1wb3J0IFRvZ2dsZUNhdGVnb3J5Q29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHRvZ2dsZUNhdGVnb3J5OiBzdGF0ZS50b2dnbGVDYXRlZ29yeVxuICB9O1xufTtcblxudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGNhdGVnb3J5VHlwZSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKHRvZ2dsZUNhdGVnb3J5QWN0aW9uKGNhdGVnb3J5VHlwZSkpO1xuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydCB2YXIgVG9nZ2xlQ2F0ZWdvcnkgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShUb2dnbGVDYXRlZ29yeUNvbXBvbmVudCk7IiwiaW1wb3J0IHsgVG9nZ2xlQ2F0ZWdvcnkgfSBmcm9tICcuL2NvbnRhaW5lcic7XG5leHBvcnQgZGVmYXVsdCBUb2dnbGVDYXRlZ29yeTsiLCJleHBvcnQgZnVuY3Rpb24gY2FsY0RhdGVSYW5nZShwZXJpb2QpIHtcbiAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICB2YXIgZGF0ZU1pbjtcbiAgdmFyIGRhdGVNYXg7XG4gIHZhciB5ZWFyTWluO1xuICB2YXIgbW9udGhNaW47XG5cbiAgc3dpdGNoIChwZXJpb2QpIHtcbiAgICBjYXNlICdtb250aCc6XG4gICAgICBkYXRlTWluID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpO1xuICAgICAgZGF0ZU1heCA9IG5ldyBEYXRlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2xhc3QtbW9udGgnOlxuICAgICAgeWVhck1pbiA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgIG1vbnRoTWluID0gZGF0ZS5nZXRNb250aCgpIC0gMTtcblxuICAgICAgaWYgKG1vbnRoTWluIDwgMCkge1xuICAgICAgICAtLXllYXJNaW47XG4gICAgICAgIG1vbnRoTWluID0gMTE7XG4gICAgICB9XG5cbiAgICAgIGRhdGVNaW4gPSBuZXcgRGF0ZSh5ZWFyTWluLCBtb250aE1pbiwgMSk7XG4gICAgICBkYXRlTWF4ID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdoYWxmLXllYXInOlxuICAgICAgeWVhck1pbiA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgIG1vbnRoTWluID0gZGF0ZS5nZXRNb250aCgpIC0gNjtcblxuICAgICAgaWYgKG1vbnRoTWluIDwgMCkge1xuICAgICAgICAtLXllYXJNaW47XG4gICAgICAgIG1vbnRoTWluID0gMTEgLSAtbW9udGhNaW47XG4gICAgICB9XG5cbiAgICAgIGRhdGVNaW4gPSBuZXcgRGF0ZSh5ZWFyTWluLCBtb250aE1pbiwgMSk7XG4gICAgICBkYXRlTWF4ID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICd5ZWFyJzpcbiAgICAgIGRhdGVNaW4gPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIDAsIDEpO1xuICAgICAgZGF0ZU1heCA9IG5ldyBEYXRlKCk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBkYXRlTWluID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpO1xuICAgICAgZGF0ZU1heCA9IG5ldyBEYXRlKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRhdGVNaW46IGRhdGVNaW4sXG4gICAgZGF0ZU1heDogZGF0ZU1heFxuICB9O1xufSIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBDYXRlZ29yeSBmcm9tICcuLi9DYXRlZ29yeSc7XG5pbXBvcnQgVG9nZ2xlQ2F0ZWdvcnkgZnJvbSBcIi4uL1RvZ2dsZUNhdGVnb3J5XCI7XG5pbXBvcnQgeyBjYWxjRGF0ZVJhbmdlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2NhbGNEYXRlUmFuZ2VcIjtcblxudmFyIENhdGVnb3J5c0NvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENhdGVnb3J5c0NvbXBvbmVudCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2F0ZWdvcnlzQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYXRlZ29yeXNDb21wb25lbnQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2F0ZWdvcnlzQ29tcG9uZW50KTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2F0ZWdvcnlzQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBkYXRlUmFuZ2UgPSBjYWxjRGF0ZVJhbmdlKHRoaXMucHJvcHMuZGF0ZVBlcmlvZCk7XG4gICAgICB0aGlzLnByb3BzLmdldEFsbExpc3RzV2l0aENhdGVnb3J5cyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHtcbiAgICAgICAgdXNlcklkOiB0aGlzLnByb3BzLnVzZXIuaWRcbiAgICAgIH0pLCBkYXRlUmFuZ2UpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBbLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9nZ2xlQ2F0ZWdvcnksIHtcbiAgICAgICAga2V5OiBcImN0MDFcIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAga2V5OiBcImN0MDJcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcImRldGFpbHMgZGV0YWlsc19jYXRlZ29yeXNcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2F0ZWdvcnksIHtcbiAgICAgICAgdHlwZTogXCJleHBlbnNlXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDYXRlZ29yeSwge1xuICAgICAgICB0eXBlOiBcImluY29tZVwiXG4gICAgICB9KSldO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYXRlZ29yeXNDb21wb25lbnQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBDYXRlZ29yeXNDb21wb25lbnQgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IENhdGVnb3J5c0NvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXNBY3Rpb24gfSBmcm9tICcuLi8uLi9zdG9yZS9hY3Rpb25zJztcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLnVzZXJcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICBnZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXM6IGZ1bmN0aW9uIGdldEFsbExpc3RzV2l0aENhdGVnb3J5cyh1c2VySWRBbmREYXRlUmFuZ2UpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaChnZXRBbGxMaXN0c1dpdGhDYXRlZ29yeXNBY3Rpb24odXNlcklkQW5kRGF0ZVJhbmdlKSk7XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IHZhciBDYXRlZ29yeXMgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShDYXRlZ29yeXNDb21wb25lbnQpOyIsImltcG9ydCB7IENhdGVnb3J5cyB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3J5czsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IEhlYWRlciBmcm9tICcuLi9oZWFkZXInO1xuaW1wb3J0IENoYXJ0cyBmcm9tICcuLi8uLi9jb21wb25lbnRzL0NoYXJ0cyc7XG5pbXBvcnQgQ2F0ZWdvcnlzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQ2F0ZWdvcnlzJztcblxudmFyIEhvbWUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEhvbWUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSG9tZSk7XG5cbiAgZnVuY3Rpb24gSG9tZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSG9tZSk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSG9tZSwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkZXIsIG51bGwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hhcnRzLCBudWxsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDYXRlZ29yeXMsIHtcbiAgICAgICAgZGF0ZVBlcmlvZDogdGhpcy5wcm9wcy51cmxQYXJhbXMucGVyaW9kXG4gICAgICB9KSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBIb21lO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgeyBIb21lIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuXG52YXIgUmFkaW9CdXR0b24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhSYWRpb0J1dHRvbiwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUmFkaW9CdXR0b24pO1xuXG4gIGZ1bmN0aW9uIFJhZGlvQnV0dG9uKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJhZGlvQnV0dG9uKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICAgIF90aGlzLmRlZmF1bHRDaGVja2VkID0gX3RoaXMucHJvcHMuZGVmYXVsdENoZWNrZWQgfHwgZmFsc2U7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJhZGlvQnV0dG9uLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFsvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAga2V5OiAncmIwMScsXG4gICAgICAgIGNsYXNzTmFtZTogXCJyYWRpby1idXR0b25cIixcbiAgICAgICAgdHlwZTogXCJyYWRpb1wiLFxuICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgbmFtZTogdGhpcy5wcm9wcy5uYW1lLFxuICAgICAgICB2YWx1ZTogdGhpcy5wcm9wcy52YWx1ZSxcbiAgICAgICAgZGVmYXVsdENoZWNrZWQ6IHRoaXMuZGVmYXVsdENoZWNrZWQsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMucHJvcHMuY2FsbGJhY2tcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHtcbiAgICAgICAga2V5OiAncmIwMicsXG4gICAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQodGhpcy5wcm9wcy5jbGFzc05hbWUsIFwiIHJhZGlvLWJ1dHRvbi1sYWJsZVwiKSxcbiAgICAgICAgaHRtbEZvcjogdGhpcy5wcm9wcy5pZFxuICAgICAgfSwgdGhpcy5wcm9wcy5jaGlsZHJlbildO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSYWRpb0J1dHRvbjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IFJhZGlvQnV0dG9uIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgUmFkaW9CdXR0b24gZnJvbSAnLi9jb21wb25lbnQnO1xuZXhwb3J0IGRlZmF1bHQgUmFkaW9CdXR0b247IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IFJhZGlvQnV0dG9uIGZyb20gXCIuLi9SYWRpb0J1dHRvblwiO1xuaW1wb3J0IFN1Ym1pdEJ1dHRvbiBmcm9tIFwiLi4vU3VibWl0QnV0dG9uXCI7XG5cbnZhciBBZGRDYXRlZ29yeUNvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEFkZENhdGVnb3J5Q29tcG9uZW50LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihBZGRDYXRlZ29yeUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQWRkQ2F0ZWdvcnlDb21wb25lbnQocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWRkQ2F0ZWdvcnlDb21wb25lbnQpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0eXBlOiAnZXhwZW5zZScsXG4gICAgICB0aXRsZTogJycsXG4gICAgICB1c2VySWQ6IHByb3BzLnVzZXIuaWRcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IF90aGlzLmhhbmRsZUNoYW5nZS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5hZGRDYXRlZ29yeUFuZFJlc2V0U3RhdGUgPSBfdGhpcy5hZGRDYXRlZ29yeUFuZFJlc2V0U3RhdGUuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEFkZENhdGVnb3J5Q29tcG9uZW50LCBbe1xuICAgIGtleTogXCJoYW5kbGVDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUsIHZhbCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIHZhbCwgZS50YXJnZXQudmFsdWUpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkQ2F0ZWdvcnlBbmRSZXNldFN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENhdGVnb3J5QW5kUmVzZXRTdGF0ZShjYXRlZ29yeSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUudGl0bGUgIT09ICcnKSB7XG4gICAgICAgIHRoaXMucHJvcHMuYWRkQ2F0ZWdvcnkoY2F0ZWdvcnkpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB0aXRsZTogJydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzZXR1cC1mb3JtXCIsXG4gICAgICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChlKSB7XG4gICAgICAgICAgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmFkaW9CdXR0b24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiAncmFkaW8tc2V0dXAtbGFibGUnLFxuICAgICAgICBpZDogJ3JhZGlvLWV4cGVuc2UnLFxuICAgICAgICBuYW1lOiAnY2F0ZWdvcnktdHlwZScsXG4gICAgICAgIHZhbHVlOiAnZXhwZW5zZScsXG4gICAgICAgIGRlZmF1bHRDaGVja2VkOiB0cnVlLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlQ2hhbmdlKGUsICd0eXBlJyk7XG4gICAgICAgIH1cbiAgICAgIH0sIFwiXFx1MDQyMFxcdTA0MzBcXHUwNDQxXFx1MDQ0NVxcdTA0M0VcXHUwNDM0XCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSYWRpb0J1dHRvbiwge1xuICAgICAgICBjbGFzc05hbWU6ICdyYWRpby1zZXR1cC1sYWJsZScsXG4gICAgICAgIGlkOiAncmFkaW8taW5jb21lJyxcbiAgICAgICAgbmFtZTogJ2NhdGVnb3J5LXR5cGUnLFxuICAgICAgICB2YWx1ZTogJ2luY29tZScsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVDaGFuZ2UoZSwgJ3R5cGUnKTtcbiAgICAgICAgfVxuICAgICAgfSwgXCJcXHUwNDE0XFx1MDQzRVxcdTA0NDVcXHUwNDNFXFx1MDQzNFwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlQ2hhbmdlKGUsICd0aXRsZScpO1xuICAgICAgICB9LFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJcXHUwNDFEXFx1MDQzMFxcdTA0MzdcXHUwNDMyXFx1MDQzMFxcdTA0M0RcXHUwNDM4XFx1MDQzNVwiLFxuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInNldHVwLWlucHV0LWZpZWxkXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiAnYnV0dG9uX3NldHVwLWZvcm0nLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5hZGRDYXRlZ29yeUFuZFJlc2V0U3RhdGUoX3RoaXMyLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSwgXCJcXHUwNDE0XFx1MDQzRVxcdTA0MzFcXHUwNDMwXFx1MDQzMlxcdTA0MzhcXHUwNDQyXFx1MDQ0Q1wiKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFkZENhdGVnb3J5Q29tcG9uZW50O1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuZXhwb3J0IHsgQWRkQ2F0ZWdvcnlDb21wb25lbnQgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgYWRkQ2F0ZWdvcnlBY3Rpb24gfSBmcm9tICcuLi8uLi9zdG9yZS9hY3Rpb25zJztcbmltcG9ydCBBZGRDYXRlZ29yeUNvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyOiBzdGF0ZS51c2VyXG4gIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgYWRkQ2F0ZWdvcnk6IGZ1bmN0aW9uIGFkZENhdGVnb3J5KGNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goYWRkQ2F0ZWdvcnlBY3Rpb24oY2F0ZWdvcnkpKTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgdmFyIEFkZENhdGVnb3J5ID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoQWRkQ2F0ZWdvcnlDb21wb25lbnQpOyIsImltcG9ydCB7IEFkZENhdGVnb3J5IH0gZnJvbSAnLi9jb250YWluZXInO1xuZXhwb3J0IGRlZmF1bHQgQWRkQ2F0ZWdvcnk7IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IFN1Ym1pdEJ1dHRvbiBmcm9tIFwiLi4vU3VibWl0QnV0dG9uXCI7XG5pbXBvcnQgTW9kYWxXaW5kb3cgZnJvbSBcIi4uL01vZGFsV2luZG93XCI7XG5pbXBvcnQgQ2xvc2VXaW5kb3dCdXR0b24gZnJvbSBcIi4uL0Nsb3NlV2luZG93QnV0dG9uXCI7XG5pbXBvcnQgQ29uZmlybURlbGV0ZVdpbmRvdyBmcm9tIFwiLi4vQ29uZmlybURlbGV0ZVdpbmRvd1wiO1xuXG52YXIgQ2F0ZWdvcnlJdGVtU2V0dXBDb21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDYXRlZ29yeUl0ZW1TZXR1cENvbXBvbmVudCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2F0ZWdvcnlJdGVtU2V0dXBDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhdGVnb3J5SXRlbVNldHVwQ29tcG9uZW50KHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhdGVnb3J5SXRlbVNldHVwQ29tcG9uZW50KTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaXNPcGVuRWRpdFdpbmRvdzogZmFsc2UsXG4gICAgICBpc09wZW5Db25maXJtRGVsZXRlOiBmYWxzZSxcbiAgICAgIHRpdGxlOiBfdGhpcy5wcm9wcy50aXRsZVxuICAgIH07XG4gICAgX3RoaXMub3BlbkVkaXRXaW5kb3cgPSBfdGhpcy5vcGVuRWRpdFdpbmRvdy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5jbG9zZVdpbmRvd3MgPSBfdGhpcy5jbG9zZVdpbmRvd3MuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMub3BlbkNvbmZpcm1EZWxldGVXaW5kb3cgPSBfdGhpcy5vcGVuQ29uZmlybURlbGV0ZVdpbmRvdy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5zYXZlQ2F0ZWdvcnlJdGVtID0gX3RoaXMuc2F2ZUNhdGVnb3J5SXRlbS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5kZWxldGVDYXRlZ29yeUl0ZW0gPSBfdGhpcy5kZWxldGVDYXRlZ29yeUl0ZW0uYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMudG9nZ2xlVmlzaWJsZUFuZFVwZGF0ZSA9IF90aGlzLnRvZ2dsZVZpc2libGVBbmRVcGRhdGUuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhdGVnb3J5SXRlbVNldHVwQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJ0b2dnbGVWaXNpYmxlQW5kVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZVZpc2libGVBbmRVcGRhdGUoKSB7XG4gICAgICB2YXIgY2F0ZWdvcnkgPSB7XG4gICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICB2aXNpYmxlOiAhdGhpcy5wcm9wcy52aXNpYmxlXG4gICAgICB9O1xuICAgICAgdGhpcy5wcm9wcy51cGRDYXRlZ29yeShjYXRlZ29yeSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZUNoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSwgdmFsKSB7XG4gICAgICB2YXIgZmllbGRWYWx1ZSA9IHZhbCA9PT0gXCJzdW1cIiA/IGUudGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1xcRC8sICcnKSA6IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgdGhpcy5zZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIHZhbCwgZmllbGRWYWx1ZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvcGVuRWRpdFdpbmRvd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuRWRpdFdpbmRvdygpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc09wZW5FZGl0V2luZG93OiB0cnVlLFxuICAgICAgICBpc09wZW5Db25maXJtRGVsZXRlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9wZW5Db25maXJtRGVsZXRlV2luZG93XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5Db25maXJtRGVsZXRlV2luZG93KCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzT3BlbkVkaXRXaW5kb3c6IGZhbHNlLFxuICAgICAgICBpc09wZW5Db25maXJtRGVsZXRlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VXaW5kb3dzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlV2luZG93cygpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc09wZW5FZGl0V2luZG93OiBmYWxzZSxcbiAgICAgICAgaXNPcGVuQ29uZmlybURlbGV0ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzYXZlQ2F0ZWdvcnlJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVDYXRlZ29yeUl0ZW0oKSB7XG4gICAgICB0aGlzLnByb3BzLnVwZENhdGVnb3J5KHtcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2xvc2VXaW5kb3dzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUNhdGVnb3J5SXRlbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVDYXRlZ29yeUl0ZW0oKSB7XG4gICAgICB0aGlzLnByb3BzLmRlbENhdGVnb3J5KHtcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWRcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jbG9zZVdpbmRvd3MoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gWy8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAga2V5OiB0aGlzLnByb3BzLmlkLFxuICAgICAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnlfX3NldHVwXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLm9wZW5FZGl0V2luZG93KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZTogXCJjYXRlZ29yeS1zZXR1cF9faXRlbSBcIi5jb25jYXQoIXRoaXMucHJvcHMudmlzaWJsZSAmJiBcImNhdGVnb3J5LXNldHVwX19pdGVtX2hpZGRlblwiKVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiY2F0ZWdvcnktc2V0dXBfX3RpdGxlXCJcbiAgICAgIH0sIHRoaXMucHJvcHMudGl0bGUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3VibWl0QnV0dG9uLCB7XG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnRvZ2dsZVZpc2libGVBbmRVcGRhdGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBcImJ1dHRvbiBidXR0b25faGlkZVwiXG4gICAgICB9LCB0aGlzLnByb3BzLnZpc2libGUgPyBcIlxcdTA0MjFcXHUwNDNBXFx1MDQ0MFxcdTA0NEJcXHUwNDQyXFx1MDQ0Q1wiIDogXCJcXHUwNDFGXFx1MDQzRVxcdTA0M0FcXHUwNDMwXFx1MDQzN1xcdTA0MzBcXHUwNDQyXFx1MDQ0Q1wiKSksIHRoaXMuc3RhdGUuaXNPcGVuRWRpdFdpbmRvdyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNb2RhbFdpbmRvdywge1xuICAgICAgICBrZXk6IFwiZXdcIi5jb25jYXQodGhpcy5wcm9wcy5pZClcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENsb3NlV2luZG93QnV0dG9uLCB7XG4gICAgICAgIGNsb3NlQ2FsbGJhY2s6IHRoaXMuY2xvc2VXaW5kb3dzXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLCB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlQ2hhbmdlKGUsICd0aXRsZScpO1xuICAgICAgICB9LFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJcXHUwNDFBXFx1MDQzRVxcdTA0M0NcXHUwNDNDXFx1MDQzNVxcdTA0M0RcXHUwNDQyXFx1MDQzMFxcdTA0NDBcXHUwNDM4XFx1MDQzOVwiLFxuICAgICAgICBjbGFzc05hbWU6IFwiYWRkLWZvcm1fX3R4dFwiXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibW9kYWwtd2luZG93X19idXR0b25zXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN1Ym1pdEJ1dHRvbiwge1xuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5zYXZlQ2F0ZWdvcnlJdGVtKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZTogXCJidXR0b25fbW9kYWwtd2luZG93XCJcbiAgICAgIH0sIFwiXFx1MDQyMVxcdTA0M0VcXHUwNDQ1XFx1MDQ0MFxcdTA0MzBcXHUwNDNEXFx1MDQzOFxcdTA0NDJcXHUwNDRDXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdWJtaXRCdXR0b24sIHtcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIub3BlbkNvbmZpcm1EZWxldGVXaW5kb3coKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NOYW1lOiBcImJ1dHRvbl9tb2RhbC13aW5kb3dcIlxuICAgICAgfSwgXCJcXHUwNDIzXFx1MDQzNFxcdTA0MzBcXHUwNDNCXFx1MDQzOFxcdTA0NDJcXHUwNDRDXCIpKSkpLCB0aGlzLnN0YXRlLmlzT3BlbkNvbmZpcm1EZWxldGUgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29uZmlybURlbGV0ZVdpbmRvdywge1xuICAgICAgICBrZXk6IFwiZHdcIi5jb25jYXQodGhpcy5wcm9wcy5pZCksXG4gICAgICAgIGNhbmNlbENhbGxiYWNrOiBmdW5jdGlvbiBjYW5jZWxDYWxsYmFjaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmNsb3NlV2luZG93cygpO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGVDYWxsYmFjazogZnVuY3Rpb24gZGVsZXRlQ2FsbGJhY2soKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5kZWxldGVDYXRlZ29yeUl0ZW0oKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGl0bGU6IHRoaXMucHJvcHMudGl0bGVcbiAgICAgIH0pXTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2F0ZWdvcnlJdGVtU2V0dXBDb21wb25lbnQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBDYXRlZ29yeUl0ZW1TZXR1cENvbXBvbmVudCBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQ2F0ZWdvcnlJdGVtU2V0dXBDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgdXBkQ2F0ZWdvcnlBY3Rpb24sIGRlbENhdGVnb3J5QWN0aW9uIH0gZnJvbSBcIi4uLy4uL3N0b3JlL2FjdGlvbnNcIjtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge307XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgdXBkQ2F0ZWdvcnk6IGZ1bmN0aW9uIHVwZENhdGVnb3J5KGNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2godXBkQ2F0ZWdvcnlBY3Rpb24oY2F0ZWdvcnkpKTtcbiAgICB9LFxuICAgIGRlbENhdGVnb3J5OiBmdW5jdGlvbiBkZWxDYXRlZ29yeShjYXRlZ29yeSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKGRlbENhdGVnb3J5QWN0aW9uKGNhdGVnb3J5KSk7XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IHZhciBDYXRlZ29yeUl0ZW1TZXR1cCA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKENhdGVnb3J5SXRlbVNldHVwQ29tcG9uZW50KTsiLCJpbXBvcnQgeyBDYXRlZ29yeUl0ZW1TZXR1cCB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3J5SXRlbVNldHVwOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgQ2F0ZWdvcnlJdGVtU2V0dXAgZnJvbSBcIi4uL0NhdGVnb3J5SXRlbV9TZXR1cFwiO1xuXG52YXIgQ2F0ZWdvcnlTZXR1cENvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ2F0ZWdvcnlTZXR1cENvbXBvbmVudCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDYXRlZ29yeVNldHVwQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYXRlZ29yeVNldHVwQ29tcG9uZW50KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhdGVnb3J5U2V0dXBDb21wb25lbnQpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDYXRlZ29yeVNldHVwQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJyZXR1cm5DbGFzc05hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmV0dXJuQ2xhc3NOYW1lKCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMudHlwZSAhPT0gdGhpcy5wcm9wcy50b2dnbGVDYXRlZ29yeSkge1xuICAgICAgICByZXR1cm4gXCJkZXRhaWxzLXNldHVwX19ibG9ja19oaWRlXCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVySXRlbXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVySXRlbXMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jYXRlZ29yeXNJZEFyci5tYXAoZnVuY3Rpb24gKGNhdGVnb3J5SWQpIHtcbiAgICAgICAgdmFyIGNhdGVnb3J5ID0gX3RoaXMucHJvcHMuY2F0ZWdvcnlzW2NhdGVnb3J5SWRdO1xuXG4gICAgICAgIGlmIChjYXRlZ29yeS50eXBlID09PSBfdGhpcy5wcm9wcy50eXBlKSB7XG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENhdGVnb3J5SXRlbVNldHVwLCB7XG4gICAgICAgICAgICBrZXk6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgICAgaWQ6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgICAgdGl0bGU6IGNhdGVnb3J5LnRpdGxlLFxuICAgICAgICAgICAgdHlwZTogY2F0ZWdvcnkudHlwZSxcbiAgICAgICAgICAgIHZpc2libGU6IGNhdGVnb3J5LnZpc2libGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICBpZiAoJ2NhdGVnb3J5cycgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJkZXRhaWxzLXNldHVwX19ibG9jayBcIi5jb25jYXQodGhpcy5yZXR1cm5DbGFzc05hbWUoKSlcbiAgICAgICAgfSwgdGhpcy5yZW5kZXJJdGVtcygpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYXRlZ29yeVNldHVwQ29tcG9uZW50O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgeyBDYXRlZ29yeVNldHVwQ29tcG9uZW50IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBDYXRlZ29yeVNldHVwQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICBpZiAoc3RhdGUuZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHt9O1xuICByZXR1cm4ge1xuICAgIGNhdGVnb3J5czogc3RhdGUuZGF0YS5lbnRpdGllcy5jYXRlZ29yeXMsXG4gICAgY2F0ZWdvcnlzSWRBcnI6IHN0YXRlLmRhdGEucmVzdWx0LmNhdGVnb3J5cyxcbiAgICB0b2dnbGVDYXRlZ29yeTogc3RhdGUudG9nZ2xlQ2F0ZWdvcnlcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHt9O1xufTtcblxuZXhwb3J0IHZhciBDYXRlZ29yeVNldHVwID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoQ2F0ZWdvcnlTZXR1cENvbXBvbmVudCk7IiwiaW1wb3J0IHsgQ2F0ZWdvcnlTZXR1cCB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3J5U2V0dXA7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBDYXRlZ29yeVNldHVwIGZyb20gJy4uL0NhdGVnb3J5X1NldHVwJztcbmltcG9ydCBUb2dnbGVDYXRlZ29yeSBmcm9tIFwiLi4vVG9nZ2xlQ2F0ZWdvcnlcIjtcblxudmFyIENhdGVnb3J5c0NvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENhdGVnb3J5c0NvbXBvbmVudCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2F0ZWdvcnlzQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYXRlZ29yeXNDb21wb25lbnQocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2F0ZWdvcnlzQ29tcG9uZW50KTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2F0ZWdvcnlzQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMucHJvcHMuZ2V0QWxsQ2F0ZWdvcnlzKHRoaXMucHJvcHMudXNlci5pZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gWy8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRvZ2dsZUNhdGVnb3J5LCB7XG4gICAgICAgIGtleTogXCJjdDAxXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGtleTogXCJjdDAyXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJkZXRhaWxzLXNldHVwIGRldGFpbHMtc2V0dXBfY2F0ZWdvcnlzXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENhdGVnb3J5U2V0dXAsIHtcbiAgICAgICAgdHlwZTogXCJleHBlbnNlXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDYXRlZ29yeVNldHVwLCB7XG4gICAgICAgIHR5cGU6IFwiaW5jb21lXCJcbiAgICAgIH0pKV07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhdGVnb3J5c0NvbXBvbmVudDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IENhdGVnb3J5c0NvbXBvbmVudCBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQ2F0ZWdvcnlzU2V0dXBDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgZ2V0QWxsQ2F0ZWdvcnlzQWN0aW9uIH0gZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucyc7XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyOiBzdGF0ZS51c2VyXG4gIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgZ2V0QWxsQ2F0ZWdvcnlzOiBmdW5jdGlvbiBnZXRBbGxDYXRlZ29yeXModXNlcklkKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goZ2V0QWxsQ2F0ZWdvcnlzQWN0aW9uKHVzZXJJZCkpO1xuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydCB2YXIgQ2F0ZWdvcnlzU2V0dXAgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShDYXRlZ29yeXNTZXR1cENvbXBvbmVudCk7IiwiaW1wb3J0IHsgQ2F0ZWdvcnlzU2V0dXAgfSBmcm9tICcuL2NvbnRhaW5lcic7XG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yeXNTZXR1cDsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IEhlYWRlciBmcm9tICcuLi9oZWFkZXInO1xuaW1wb3J0IEFkZENhdGVnb3J5IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0FkZENhdGVnb3J5XCI7XG5pbXBvcnQgQ2F0ZWdvcnlzU2V0dXAgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvQ2F0ZWdvcnlzX1NldHVwXCI7XG5cbnZhciBTZXR1cCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoU2V0dXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU2V0dXApO1xuXG4gIGZ1bmN0aW9uIFNldHVwKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXR1cCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2V0dXAsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gWy8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlciwge1xuICAgICAgICBrZXk6ICdhYzAxJ1xuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFkZENhdGVnb3J5LCB7XG4gICAgICAgIGtleTogJ2FjMDInXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2F0ZWdvcnlzU2V0dXAsIHtcbiAgICAgICAga2V5OiAnYWMwMydcbiAgICAgIH0pXTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2V0dXA7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IFNldHVwIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IFN1Ym1pdEJ1dHRvbiBmcm9tIFwiLi4vU3VibWl0QnV0dG9uXCI7XG5cbnZhciBMb2dpbkZvcm1Db21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhMb2dpbkZvcm1Db21wb25lbnQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKExvZ2luRm9ybUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTG9naW5Gb3JtQ29tcG9uZW50KHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvZ2luRm9ybUNvbXBvbmVudCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvZ2luOiAnJyxcbiAgICAgIHBhc3M6ICcnXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTG9naW5Gb3JtQ29tcG9uZW50LCBbe1xuICAgIGtleTogXCJoYW5kbGVDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUsIHZhbCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIHZhbCwgZS50YXJnZXQudmFsdWUpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgdGhpcy5wcm9wcy51c2VyLmxvZ2luRXJyb3JNZXMgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibG9naW4tZXJyb3ItbWVzXCJcbiAgICAgIH0sIHRoaXMucHJvcHMudXNlci5sb2dpbkVycm9yTWVzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHtcbiAgICAgICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KGUpIHtcbiAgICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHtcbiAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUubG9naW4sXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVDaGFuZ2UoZSwgJ2xvZ2luJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcIlxcdTA0MUJcXHUwNDNFXFx1MDQzM1xcdTA0MzhcXHUwNDNEXCIsXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICBjbGFzc05hbWU6IFwiYWRkLWZvcm1fX3N1bVwiXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnBhc3MsXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVDaGFuZ2UoZSwgJ3Bhc3MnKTtcbiAgICAgICAgfSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwiXFx1MDQxRlxcdTA0MzBcXHUwNDQwXFx1MDQzRVxcdTA0M0JcXHUwNDRDXCIsXG4gICAgICAgIHR5cGU6IFwicGFzc3dvcmRcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcImFkZC1mb3JtX19zdW1cIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImxvZ2luLWZvcm0tc3VibWl0LXdyYXBcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3VibWl0QnV0dG9uLCB7XG4gICAgICAgIGNsYXNzTmFtZTogJ2J1dHRvbl9sb2dpbi1mb3JtJyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIucHJvcHMubG9naW5SZXF1ZXN0KHtcbiAgICAgICAgICAgIGxvZ2luOiBfdGhpczIuc3RhdGUubG9naW4sXG4gICAgICAgICAgICBwYXNzOiBfdGhpczIuc3RhdGUucGFzc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCBcIlxcdTA0MTJcXHUwNDNFXFx1MDQzOVxcdTA0NDJcXHUwNDM4XCIpKSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMb2dpbkZvcm1Db21wb25lbnQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgeyBMb2dpbkZvcm1Db21wb25lbnQgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgbG9naW5SZXF1ZXN0QWN0aW9uIH0gZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucyc7XG5pbXBvcnQgTG9naW5Gb3JtQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLnVzZXJcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICBsb2dpblJlcXVlc3Q6IGZ1bmN0aW9uIGxvZ2luUmVxdWVzdChkYXRhKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2gobG9naW5SZXF1ZXN0QWN0aW9uKGRhdGEpKTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgdmFyIExvZ2luRm9ybSA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKExvZ2luRm9ybUNvbXBvbmVudCk7IiwiaW1wb3J0IHsgTG9naW5Gb3JtIH0gZnJvbSAnLi9jb250YWluZXInO1xuZXhwb3J0IGRlZmF1bHQgTG9naW5Gb3JtOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IExvZ2luRm9ybSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0xvZ2luRm9ybSc7XG5pbXBvcnQgeyBSb3V0ZSwgUmVkaXJlY3QgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuXG52YXIgTG9naW5QYWdlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhMb2dpblBhZ2UsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoTG9naW5QYWdlKTtcblxuICBmdW5jdGlvbiBMb2dpblBhZ2UocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9naW5QYWdlKTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTG9naW5QYWdlLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImxvZ2luLWZvcm0td3JhcFwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMb2dpbkZvcm0sIG51bGwpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9naW5QYWdlO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG52YXIgUmVkaXJlY3RSb3V0ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFJlZGlyZWN0Um91dGUsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyMiA9IF9jcmVhdGVTdXBlcihSZWRpcmVjdFJvdXRlKTtcblxuICBmdW5jdGlvbiBSZWRpcmVjdFJvdXRlKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlZGlyZWN0Um91dGUpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIyLmNhbGwodGhpcywgcHJvcHMpO1xuICAgIF90aGlzLmxvY2F0aW9uID0gcHJvcHMubG9jYXRpb247XG4gICAgX3RoaXMuZnJvbSA9IFwiL1wiO1xuICAgIGlmIChwcm9wcy5sb2NhdGlvbi5zdGF0ZSAhPT0gdW5kZWZpbmVkKSBfdGhpcy5mcm9tID0gcHJvcHMubG9jYXRpb24uc3RhdGUuZnJvbS5wYXRobmFtZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVkaXJlY3RSb3V0ZSwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgcmV0dXJuICFfdGhpczIucHJvcHMudXNlci5pc0xvZ2luID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTG9naW5QYWdlLCBudWxsKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlZGlyZWN0LCB7XG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICBwYXRobmFtZTogX3RoaXMyLmZyb20gLy9zdGF0ZToge2Zyb206IHRoaXMubG9jYXRpb259XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlZGlyZWN0Um91dGU7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG52YXIgTG9naW4gPSBjb25uZWN0KGZ1bmN0aW9uIChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLnVzZXJcbiAgfTtcbn0pKFJlZGlyZWN0Um91dGUpO1xuZXhwb3J0IGRlZmF1bHQgTG9naW47IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIjtcbmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcblxudmFyIFBhZ2U0MDQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFBhZ2U0MDQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUGFnZTQwNCk7XG5cbiAgZnVuY3Rpb24gUGFnZTQwNChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdlNDA0KTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUGFnZTQwNCwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBcIjQwNCBcXHUwNDQxXFx1MDQ0MlxcdTA0NDBcXHUwNDMwXFx1MDQzRFxcdTA0MzhcXHUwNDQ2XFx1MDQzMCBcXHUwNDNEXFx1MDQzNSBcXHUwNDNEXFx1MDQzMFxcdTA0MzlcXHUwNDM0XFx1MDQzNVxcdTA0M0RcXHUwNDMwXCIpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQYWdlNDA0O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgeyBQYWdlNDA0IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJvdXRlLCBSZWRpcmVjdCB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5cbnZhciBQcml2YXRlUm91dGVDb21wb25lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQcml2YXRlUm91dGVDb21wb25lbnQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFByaXZhdGVSb3V0ZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUHJpdmF0ZVJvdXRlQ29tcG9uZW50KHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByaXZhdGVSb3V0ZUNvbXBvbmVudCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgICBfdGhpcy5jaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICAgIF90aGlzLnVybFBhcmFtcyA9IHByb3BzLmNvbXB1dGVkTWF0Y2gucGFyYW1zO1xuICAgIF90aGlzLmxvY2F0aW9uID0gcHJvcHMubG9jYXRpb247XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFByaXZhdGVSb3V0ZUNvbXBvbmVudCwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy51c2VyLmlzTG9naW4gIT09IHRydWUgJiYgdGhpcy5wcm9wcy51c2VyLmlzTG9naW4gIT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMucHJvcHMuYXV0aFJlcXVlc3QoKTsgLy/QsNCy0YLQvtGA0LjQt9Cw0YbQuNGPXG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMucHJvcHMudXNlci5pc0xvZ2luICE9PSB0cnVlICYmIHRoaXMucHJvcHMudXNlci5pc0xvZ2luICE9PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gW107IC8v0LfQsNCz0LvRg9GI0LrQsFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHtcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5wcm9wcy51c2VyLmlzTG9naW4gPyAvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KF90aGlzMi5jaGlsZHJlbiwge1xuICAgICAgICAgICAgdXJsUGFyYW1zOiBfdGhpczIudXJsUGFyYW1zXG4gICAgICAgICAgfSkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWRpcmVjdCwge1xuICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgcGF0aG5hbWU6IFwiL2xvZ2luXCIsXG4gICAgICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAgICAgZnJvbTogX3RoaXMyLmxvY2F0aW9uXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFByaXZhdGVSb3V0ZUNvbXBvbmVudDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IFByaXZhdGVSb3V0ZUNvbXBvbmVudCBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUHJpdmF0ZVJvdXRlQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7IGF1dGhSZXF1ZXN0QWN0aW9uIH0gZnJvbSBcIi4uLy4uL3N0b3JlL2FjdGlvbnNcIjtcblxudmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLnVzZXJcbiAgfTtcbn07XG5cbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBmdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICBhdXRoUmVxdWVzdDogZnVuY3Rpb24gYXV0aFJlcXVlc3QoKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goYXV0aFJlcXVlc3RBY3Rpb24oKSk7XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IHZhciBQcml2YXRlUm91dGUgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShQcml2YXRlUm91dGVDb21wb25lbnQpOyIsImltcG9ydCB7IFByaXZhdGVSb3V0ZSB9IGZyb20gJy4vY29udGFpbmVyJztcbmV4cG9ydCBkZWZhdWx0IFByaXZhdGVSb3V0ZTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBCcm93c2VyUm91dGVyIGFzIFJvdXRlciwgU3dpdGNoLCBSb3V0ZSB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IEhvbWUgZnJvbSAnLi9wYWdlcy9ob21lJztcbmltcG9ydCBTZXR1cCBmcm9tICcuL3BhZ2VzL3NldHVwJztcbmltcG9ydCBMb2dpbiBmcm9tICcuL3BhZ2VzL2xvZ2luJztcbmltcG9ydCBQYWdlNDA0IGZyb20gJy4vcGFnZXMvNDA0JztcbmltcG9ydCBQcml2YXRlUm91dGUgZnJvbSAnLi9jb21wb25lbnRzL1ByaXZhdGVSb3V0ZSc7XG5pbXBvcnQgJy4vc3R5bGVzLmNzcyc7XG5cbnZhciBBcHAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEFwcCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihBcHApO1xuXG4gIGZ1bmN0aW9uIEFwcCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXBwKTtcblxuICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBcHAsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvdmlkZXIsIHtcbiAgICAgICAgc3RvcmU6IHN0b3JlXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJtYXgtd2lkdGhcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTd2l0Y2gsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFByaXZhdGVSb3V0ZSwge1xuICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgcGF0aDogXCIvXCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhvbWUsIG51bGwpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUHJpdmF0ZVJvdXRlLCB7XG4gICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICBwYXRoOiBcIi9zZXR1cFwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZXR1cCwgbnVsbCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwge1xuICAgICAgICBwYXRoOiBcIi9sb2dpbi9cIixcbiAgICAgICAgY29tcG9uZW50OiBMb2dpblxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFByaXZhdGVSb3V0ZSwge1xuICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgcGF0aDogXCIvOnBlcmlvZFwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChIb21lLCBudWxsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7XG4gICAgICAgIHBhdGg6IFwiKlwiLFxuICAgICAgICBjb21wb25lbnQ6IFBhZ2U0MDRcbiAgICAgIH0pKSkpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQXBwO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5SZWFjdERPTS5yZW5kZXIoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFwcCwgbnVsbCksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///e+/uGl/8\n");

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, [953,296], () => (__webpack_exec__("e+/uGl/8")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);